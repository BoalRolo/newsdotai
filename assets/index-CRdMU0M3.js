(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function n1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var km={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function r1(){if(iv)return Ql;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var sv;function i1(){return sv||(sv=1,km.exports=r1()),km.exports}var T=i1(),Pm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function s1(){if(av)return Ie;av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function x(k,re,ue){this.props=k,this.context=re,this.refs=L,this.updater=ue||I}x.prototype.isReactComponent={},x.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},x.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function q(){}q.prototype=x.prototype;function Z(k,re,ue){this.props=k,this.context=re,this.refs=L,this.updater=ue||I}var ie=Z.prototype=new q;ie.constructor=Z,R(ie,x.prototype),ie.isPureReactComponent=!0;var de=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function P(k,re,ue,se,ye,De){return ue=De.ref,{$$typeof:r,type:k,key:re,ref:ue!==void 0?ue:null,props:De}}function N(k,re){return P(k.type,re,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function V(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return re[ue]})}var M=/\/+/g;function B(k,re){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):re.toString(36)}function O(){}function pt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(O,O):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function it(k,re,ue,se,ye){var De=typeof k;(De==="undefined"||De==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case r:case e:Ae=!0;break;case _:return Ae=k._init,it(Ae(k._payload),re,ue,se,ye)}}if(Ae)return ye=ye(k),Ae=se===""?"."+B(k,0):se,de(ye)?(ue="",Ae!=null&&(ue=Ae.replace(M,"$&/")+"/"),it(ye,re,ue,"",function(nr){return nr})):ye!=null&&(C(ye)&&(ye=N(ye,ue+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(M,"$&/")+"/")+Ae)),re.push(ye)),1;Ae=0;var Pt=se===""?".":se+":";if(de(k))for(var et=0;et<k.length;et++)se=k[et],De=Pt+B(se,et),Ae+=it(se,re,ue,De,ye);else if(et=S(k),typeof et=="function")for(k=et.call(k),et=0;!(se=k.next()).done;)se=se.value,De=Pt+B(se,et++),Ae+=it(se,re,ue,De,ye);else if(De==="object"){if(typeof k.then=="function")return it(pt(k),re,ue,se,ye);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(k,re,ue){if(k==null)return k;var se=[],ye=0;return it(k,se,"","",function(De){return re.call(ue,De,ye++)}),se}function oe(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ee(){}return Ie.Children={map:X,forEach:function(k,re,ue){X(k,function(){re.apply(this,arguments)},ue)},count:function(k){var re=0;return X(k,function(){re++}),re},toArray:function(k){return X(k,function(re){return re})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=x,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=Z,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return le.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,re,ue){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=R({},k.props),ye=k.key,De=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(ye=""+re.key),re)!_e.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(se[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ue;else if(1<Ae){for(var Pt=Array(Ae),et=0;et<Ae;et++)Pt[et]=arguments[et+2];se.children=Pt}return P(k.type,ye,void 0,void 0,De,se)},Ie.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,re,ue){var se,ye={},De=null;if(re!=null)for(se in re.key!==void 0&&(De=""+re.key),re)_e.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=re[se]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var Pt=Array(Ae),et=0;et<Ae;et++)Pt[et]=arguments[et+2];ye.children=Pt}if(k&&k.defaultProps)for(se in Ae=k.defaultProps,Ae)ye[se]===void 0&&(ye[se]=Ae[se]);return P(k,De,void 0,void 0,null,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:d,render:k}},Ie.isValidElement=C,Ie.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:oe}},Ie.memo=function(k,re){return{$$typeof:g,type:k,compare:re===void 0?null:re}},Ie.startTransition=function(k){var re=le.T,ue={};le.T=ue;try{var se=k(),ye=le.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ee,me)}catch(De){me(De)}finally{le.T=re}},Ie.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ie.use=function(k){return le.H.use(k)},Ie.useActionState=function(k,re,ue){return le.H.useActionState(k,re,ue)},Ie.useCallback=function(k,re){return le.H.useCallback(k,re)},Ie.useContext=function(k){return le.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,re){return le.H.useDeferredValue(k,re)},Ie.useEffect=function(k,re,ue){var se=le.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(k,re)},Ie.useId=function(){return le.H.useId()},Ie.useImperativeHandle=function(k,re,ue){return le.H.useImperativeHandle(k,re,ue)},Ie.useInsertionEffect=function(k,re){return le.H.useInsertionEffect(k,re)},Ie.useLayoutEffect=function(k,re){return le.H.useLayoutEffect(k,re)},Ie.useMemo=function(k,re){return le.H.useMemo(k,re)},Ie.useOptimistic=function(k,re){return le.H.useOptimistic(k,re)},Ie.useReducer=function(k,re,ue){return le.H.useReducer(k,re,ue)},Ie.useRef=function(k){return le.H.useRef(k)},Ie.useState=function(k){return le.H.useState(k)},Ie.useSyncExternalStore=function(k,re,ue){return le.H.useSyncExternalStore(k,re,ue)},Ie.useTransition=function(){return le.H.useTransition()},Ie.version="19.1.0",Ie}var ov;function qp(){return ov||(ov=1,Pm.exports=s1()),Pm.exports}var j=qp();const Mm=n1(j);var Vm={exports:{}},Yl={},Lm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function a1(){return lv||(lv=1,function(r){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var Ee=me-1>>>1,k=X[Ee];if(0<o(k,oe))X[Ee]=oe,X[me]=k,me=Ee;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var Ee=0,k=X.length,re=k>>>1;Ee<re;){var ue=2*(Ee+1)-1,se=X[ue],ye=ue+1,De=X[ye];if(0>o(se,me))ye<k&&0>o(De,se)?(X[Ee]=De,X[ye]=me,Ee=ye):(X[Ee]=se,X[ue]=me,Ee=ue);else if(ye<k&&0>o(De,me))X[Ee]=De,X[ye]=me,Ee=ye;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,E=null,S=3,I=!1,R=!1,L=!1,x=!1,q=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function de(X){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function le(X){if(L=!1,de(X),!R)if(t(p)!==null)R=!0,_e||(_e=!0,B());else{var oe=t(g);oe!==null&&it(le,oe.startTime-X)}}var _e=!1,P=-1,N=5,C=-1;function V(){return x?!0:!(r.unstable_now()-C<N)}function M(){if(x=!1,_e){var X=r.unstable_now();C=X;var oe=!0;try{e:{R=!1,L&&(L=!1,Z(P),P=-1),I=!0;var me=S;try{t:{for(de(X),E=t(p);E!==null&&!(E.expirationTime>X&&V());){var Ee=E.callback;if(typeof Ee=="function"){E.callback=null,S=E.priorityLevel;var k=Ee(E.expirationTime<=X);if(X=r.unstable_now(),typeof k=="function"){E.callback=k,de(X),oe=!0;break t}E===t(p)&&s(p),de(X)}else s(p);E=t(p)}if(E!==null)oe=!0;else{var re=t(g);re!==null&&it(le,re.startTime-X),oe=!1}}break e}finally{E=null,S=me,I=!1}oe=void 0}}finally{oe?B():_e=!1}}}var B;if(typeof ie=="function")B=function(){ie(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,pt=O.port2;O.port1.onmessage=M,B=function(){pt.postMessage(null)}}else B=function(){q(M,0)};function it(X,oe){P=q(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var me=S;S=oe;try{return X()}finally{S=me}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=S;S=X;try{return oe()}finally{S=me}},r.unstable_scheduleCallback=function(X,oe,me){var Ee=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ee+me:Ee):me=Ee,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=me+k,X={id:_++,callback:oe,priorityLevel:X,startTime:me,expirationTime:k,sortIndex:-1},me>Ee?(X.sortIndex=me,e(g,X),t(p)===null&&X===t(g)&&(L?(Z(P),P=-1):L=!0,it(le,me-Ee))):(X.sortIndex=k,e(p,X),R||I||(R=!0,_e||(_e=!0,B()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var oe=S;return function(){var me=S;S=oe;try{return X.apply(this,arguments)}finally{S=me}}}}(Um)),Um}var uv;function o1(){return uv||(uv=1,Lm.exports=a1()),Lm.exports}var jm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function l1(){if(cv)return Wt;cv=1;var r=qp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Wt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:I}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var hv;function u1(){if(hv)return jm.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jm.exports=l1(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function c1(){if(fv)return Yl;fv=1;var r=o1(),e=qp(),t=u1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,w=f.child;w;){if(w===a){b=!0,a=f,l=m;break}if(w===l){b=!0,l=f,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,l=f;break}if(w===l){b=!0,l=m,a=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case x:return"Profiler";case L:return"StrictMode";case le:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case ie:return(n.displayName||"Context")+".Provider";case Z:return(n._context.displayName||"Context")+".Consumer";case de:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return i=n.displayName||null,i!==null?i:pt(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return pt(n(i))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ee=[],k=-1;function re(n){return{current:n}}function ue(n){0>k||(n.current=Ee[k],Ee[k]=null,k--)}function se(n,i){k++,Ee[k]=n.current,n.current=i}var ye=re(null),De=re(null),Ae=re(null),Pt=re(null);function et(n,i){switch(se(Ae,i),se(De,n),se(ye,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?O_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=O_(i),n=k_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),se(ye,n)}function nr(){ue(ye),ue(De),ue(Ae)}function pi(n){n.memoizedState!==null&&se(Pt,n);var i=ye.current,a=k_(i,n.type);i!==a&&(se(De,n),se(ye,a))}function Dr(n){De.current===n&&(ue(ye),ue(De)),Pt.current===n&&(ue(Pt),Fl._currentValue=me)}var ds=Object.prototype.hasOwnProperty,ms=r.unstable_scheduleCallback,ps=r.unstable_cancelCallback,Bo=r.unstable_shouldYield,Bu=r.unstable_requestPaint,xn=r.unstable_now,kf=r.unstable_getCurrentPriorityLevel,zo=r.unstable_ImmediatePriority,ga=r.unstable_UserBlockingPriority,gs=r.unstable_NormalPriority,Pf=r.unstable_LowPriority,ya=r.unstable_IdlePriority,qo=r.log,zu=r.unstable_setDisableYieldValue,ct=null,$e=null;function yn(n){if(typeof qo=="function"&&zu(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ct,n)}catch{}}var Yt=Math.clz32?Math.clz32:ys,qu=Math.log,Mf=Math.LN2;function ys(n){return n>>>=0,n===0?32:31-(qu(n)/Mf|0)|0}var _s=256,vs=4194304;function Hn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _a(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=Hn(l):(b&=w,b!==0?f=Hn(b):a||(a=w&~n,a!==0&&(f=Hn(a))))):(w=l&~m,w!==0?f=Hn(w):b!==0?f=Hn(b):a||(a=l&~n,a!==0&&(f=Hn(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function bs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Fo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var n=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),n}function Go(){var n=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),n}function Or(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function kr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $o(n,i,a,l,f,m){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,G=n.hiddenUpdates;for(a=b&~a;0<a;){var W=31-Yt(a),te=1<<W;w[W]=0,D[W]=-1;var $=G[W];if($!==null)for(G[W]=null,W=0;W<$.length;W++){var K=$[W];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&rr(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~i))}function rr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Yt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Ko(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Yt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function gi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function va(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yi(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Z_(n.type))}function Fu(n,i){var a=oe.p;try{return oe.p=n,i()}finally{oe.p=a}}var st=Math.random().toString(36).slice(2),Ct="__reactFiber$"+st,Et="__reactProps$"+st,Cn="__reactContainer$"+st,Qo="__reactEvents$"+st,Vf="__reactListeners$"+st,_i="__reactHandles$"+st,Hu="__reactResources$"+st,Es="__reactMarker$"+st;function vi(n){delete n[Ct],delete n[Et],delete n[Qo],delete n[Vf],delete n[_i]}function Pr(n){var i=n[Ct];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Cn]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=L_(n);n!==null;){if(a=n[Ct])return a;n=L_(n)}return i}n=a,a=n.parentNode}return null}function ir(n){if(n=n[Ct]||n[Cn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function sn(n){var i=n[Hu];return i||(i=n[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(n){n[Es]=!0}var Yo=new Set,ba={};function Gn(n,i){Mr(n,i),Mr(n+"Capture",i)}function Mr(n,i){for(ba[n]=i,n=0;n<i.length;n++)Yo.add(i[n])}var Gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$u={},Ts={};function Ku(n){return ds.call(Ts,n)?!0:ds.call($u,n)?!1:Gu.test(n)?Ts[n]=!0:($u[n]=!0,!1)}function bi(n,i,a){if(Ku(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ar(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function zt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var ws,Qu;function Vr(n){if(ws===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ws=i&&i[1]||"",Qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+n+Qu}var Ea=!1;function Ta(n,i){if(!n||Ea)return"";Ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var $=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){$=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){$=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var D=b.split(`
`),G=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===G.length)for(l=D.length-1,f=G.length-1;1<=l&&0<=f&&D[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==G[f]){var W=`
`+D[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ea=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Vr(a):""}function Xo(n){switch(n.tag){case 26:case 27:case 5:return Vr(n.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return Ta(n.type,!1);case 11:return Ta(n.type.render,!1);case 1:return Ta(n.type,!0);case 31:return Vr("Activity");default:return""}}function wa(n){try{var i="";do i+=Xo(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lf(n){var i=Wo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Sa(n){n._valueTracker||(n._valueTracker=Lf(n))}function Zo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Wo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ss(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Uf=/[\n"\\]/g;function Tt(n){return n.replace(Uf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(n,i,a,l,f,m,b,w){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+an(i)):n.value!==""+an(i)&&(n.value=""+an(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?Ei(n,b,an(i)):a!=null?Ei(n,b,an(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+an(w):n.removeAttribute("name")}function As(n,i,a,l,f,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Ei(n,i,a){i==="number"&&Ss(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Lr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ye(n,i,a){if(i!=null&&(i=""+an(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+an(a):""}function Rs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function In(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||xs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Jo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Yu(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Yu(n,m,i[m])}function el(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(n){return Bf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ur=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jr=null,Br=null;function tl(n){var i=ir(n);if(i&&(n=i.stateNode)){var a=n[Et]||null;e:switch(n=i.stateNode,i.type){case"input":if(_n(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Et]||null;if(!f)throw Error(s(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Zo(l)}break e;case"textarea":Ye(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Lr(n,!!a.multiple,i,!1)}}}var or=!1;function Xu(n,i,a){if(or)return n(i,a);or=!0;try{var l=n(i);return l}finally{if(or=!1,(jr!==null||Br!==null)&&(Fc(),jr&&(i=jr,n=Br,Br=jr=null,tl(i),n)))for(i=0;i<n.length;i++)tl(n[i])}}function Cs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if($n)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Dn=!1}var lr=null,Ti=null,zr=null;function nl(){if(zr)return zr;var n,i=Ti,a=i.length,l,f="value"in lr?lr.value:lr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var b=a-n;for(l=1;l<=b&&i[a-l]===f[m-l];l++);return zr=f.slice(n,1<l?1-l:void 0)}function ur(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function cr(){return!0}function rl(){return!1}function Mt(n){function i(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?cr:rl,this.isPropagationStopped=rl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Mt(He),Ns=_({},He,{view:0,detail:0}),Wu=Mt(Ns),xa,Ca,hr,Ds=_({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hr&&(hr&&n.type==="mousemove"?(xa=n.screenX-hr.screenX,Ca=n.screenY-hr.screenY):Ca=xa=0,hr=n),xa)},movementY:function(n){return"movementY"in n?n.movementY:Ca}}),On=Mt(Ds),Zu=_({},Ds,{dataTransfer:0}),zf=Mt(Zu),Os=_({},Ns,{relatedTarget:0}),Ia=Mt(Os),il=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Mt(il),Ju=_({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Da=Mt(Ju),qf=_({},He,{data:0}),sl=Mt(qf),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=tc[n])?!!i[n]:!1}function Ps(){return al}var nc=_({},Ns,{key:function(n){if(n.key){var i=ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ur(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(n){return n.type==="keypress"?ur(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ur(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oa=Mt(nc),rc=_({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Mt(rc),qr=_({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),ic=Mt(qr),sc=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ac=Mt(sc),oc=_({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Mt(oc),on=_({},He,{newState:0,oldState:0}),lc=Mt(on),uc=[9,13,27,32],fr=$n&&"CompositionEvent"in window,c=null;$n&&"documentMode"in document&&(c=document.documentMode);var y=$n&&"TextEvent"in window&&!c,v=$n&&(!fr||c&&8<c&&11>=c),A=" ",F=!1;function Q(n,i){switch(n){case"keyup":return uc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function It(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(F=!0,A);case"textInput":return n=i.data,n===A&&F?null:n;default:return null}}function je(n,i){if(Ue)return n==="compositionend"||!fr&&Q(n,i)?(n=nl(),zr=Ti=lr=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vt[n.type]:i==="textarea"}function Fr(n,i,a,l){jr?Br?Br.push(l):Br=[l]:jr=l,i=Yc(i,"onChange"),0<i.length&&(a=new Ra("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var qt=null,dr=null;function ll(n){x_(n,0)}function cc(n){var i=sr(n);if(Zo(i))return n}function Qg(n,i){if(n==="change")return i}var Yg=!1;if($n){var Ff;if($n){var Hf="oninput"in document;if(!Hf){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Hf=typeof Xg.oninput=="function"}Ff=Hf}else Ff=!1;Yg=Ff&&(!document.documentMode||9<document.documentMode)}function Wg(){qt&&(qt.detachEvent("onpropertychange",Zg),dr=qt=null)}function Zg(n){if(n.propertyName==="value"&&cc(dr)){var i=[];Fr(i,dr,n,Nn(n)),Xu(ll,i)}}function OS(n,i,a){n==="focusin"?(Wg(),qt=i,dr=a,qt.attachEvent("onpropertychange",Zg)):n==="focusout"&&Wg()}function kS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(dr)}function PS(n,i){if(n==="click")return cc(i)}function MS(n,i){if(n==="input"||n==="change")return cc(i)}function VS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:VS;function ul(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ds.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function Jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ey(n,i){var a=Jg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jg(a)}}function ty(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ty(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ny(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ss(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ss(n.document)}return i}function Gf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var LS=$n&&"documentMode"in document&&11>=document.documentMode,Pa=null,$f=null,cl=null,Kf=!1;function ry(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||Pa==null||Pa!==Ss(l)||(l=Pa,"selectionStart"in l&&Gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Yc($f,"onSelect"),0<l.length&&(i=new Ra("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Pa)))}function Ms(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ma={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Qf={},iy={};$n&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Vs(n){if(Qf[n])return Qf[n];if(!Ma[n])return n;var i=Ma[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in iy)return Qf[n]=i[a];return n}var sy=Vs("animationend"),ay=Vs("animationiteration"),oy=Vs("animationstart"),US=Vs("transitionrun"),jS=Vs("transitionstart"),BS=Vs("transitioncancel"),ly=Vs("transitionend"),uy=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function Kn(n,i){uy.set(n,i),Gn(i,[n])}var cy=new WeakMap;function kn(n,i){if(typeof n=="object"&&n!==null){var a=cy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:wa(i)},cy.set(n,i),i)}return{value:n,source:i,stack:wa(i)}}var Pn=[],Va=0,Xf=0;function hc(){for(var n=Va,i=Xf=Va=0;i<n;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var m=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&hy(a,f,m)}}function fc(n,i,a,l){Pn[Va++]=n,Pn[Va++]=i,Pn[Va++]=a,Pn[Va++]=l,Xf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Wf(n,i,a,l){return fc(n,i,a,l),dc(n)}function La(n,i){return fc(n,null,null,i),dc(n)}function hy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-Yt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),m):null}function dc(n){if(50<Ml)throw Ml=0,rm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ua={};function zS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,i,a,l){return new zS(n,i,a,l)}function Zf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hr(n,i){var a=n.alternate;return a===null?(a=bn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function fy(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function mc(n,i,a,l,f,m){var b=0;if(l=n,typeof n=="function")Zf(n)&&(b=1);else if(typeof n=="string")b=FA(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=bn(31,a,i,f),n.elementType=C,n.lanes=m,n;case R:return Ls(a.children,f,m,i);case L:b=8,f|=24;break;case x:return n=bn(12,a,i,f|2),n.elementType=x,n.lanes=m,n;case le:return n=bn(13,a,i,f),n.elementType=le,n.lanes=m,n;case _e:return n=bn(19,a,i,f),n.elementType=_e,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case ie:b=10;break e;case Z:b=9;break e;case de:b=11;break e;case P:b=14;break e;case N:b=16,l=null;break e}b=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=bn(b,a,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function Ls(n,i,a,l){return n=bn(7,n,l,i),n.lanes=a,n}function Jf(n,i,a){return n=bn(6,n,null,i),n.lanes=a,n}function ed(n,i,a){return i=bn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ja=[],Ba=0,pc=null,gc=0,Mn=[],Vn=0,Us=null,Gr=1,$r="";function js(n,i){ja[Ba++]=gc,ja[Ba++]=pc,pc=n,gc=i}function dy(n,i,a){Mn[Vn++]=Gr,Mn[Vn++]=$r,Mn[Vn++]=Us,Us=n;var l=Gr;n=$r;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var m=32-Yt(i)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Gr=1<<32-Yt(i)+f|a<<f|l,$r=m+n}else Gr=1<<m|a<<f|l,$r=n}function td(n){n.return!==null&&(js(n,1),dy(n,1,0))}function nd(n){for(;n===pc;)pc=ja[--Ba],ja[Ba]=null,gc=ja[--Ba],ja[Ba]=null;for(;n===Us;)Us=Mn[--Vn],Mn[Vn]=null,$r=Mn[--Vn],Mn[Vn]=null,Gr=Mn[--Vn],Mn[Vn]=null}var ln=null,ht=null,Fe=!1,Bs=null,mr=!1,rd=Error(s(519));function zs(n){var i=Error(s(418,""));throw dl(kn(i,n)),rd}function my(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Ct]=n,i[Et]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Pe(Ll[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),As(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Rs(i,l.value,l.defaultValue,l.children),Sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||D_(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=Xc),i=!0):i=!1,i||zs(n)}function py(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:ln=ln.return}}function hl(n){if(n!==ln)return!1;if(!Fe)return py(n),Fe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||vm(n.type,n.memoizedProps)),a=!a),a&&ht&&zs(n),py(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ht=Yn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ht=null}}else i===27?(i=ht,Ui(n.type)?(n=wm,wm=null,ht=n):ht=i):ht=ln?Yn(n.stateNode.nextSibling):null;return!0}function fl(){ht=ln=null,Fe=!1}function gy(){var n=Bs;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Bs=null),n}function dl(n){Bs===null?Bs=[n]:Bs.push(n)}var id=re(null),qs=null,Kr=null;function wi(n,i,a){se(id,i._currentValue),i._currentValue=a}function Qr(n){n._currentValue=id.current,ue(id)}function sd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function ad(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),sd(m.return,a,n),l||(b=null);break e}m=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),sd(b,a,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function ml(n,i,a,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;vn(f.pendingProps.value,b.value)||(n!==null?n.push(w):n=[w])}}else if(f===Pt.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fl):n=[Fl])}f=f.return}n!==null&&ad(i,n,a,l),i.flags|=262144}function yc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fs(n){qs=n,Kr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return yy(qs,n)}function _c(n,i){return qs===null&&Fs(n),yy(n,i)}function yy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Kr===null){if(n===null)throw Error(s(308));Kr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Kr=Kr.next=i;return a}var qS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},FS=r.unstable_scheduleCallback,HS=r.unstable_NormalPriority,Dt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new qS,data:new Map,refCount:0}}function pl(n){n.refCount--,n.refCount===0&&FS(HS,function(){n.controller.abort()})}var gl=null,ld=0,za=0,qa=null;function GS(n,i){if(gl===null){var a=gl=[];ld=0,za=cm(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,i.then(_y,_y),i}function _y(){if(--ld===0&&gl!==null){qa!==null&&(qa.status="fulfilled");var n=gl;gl=null,za=0,qa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function $S(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var vy=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GS(n,i),vy!==null&&vy(n,i)};var Hs=re(null);function ud(){var n=Hs.current;return n!==null?n:tt.pooledCache}function vc(n,i){i===null?se(Hs,Hs.current):se(Hs,i.pool)}function by(){var n=ud();return n===null?null:{parent:Dt._currentValue,pool:n}}var yl=Error(s(460)),Ey=Error(s(474)),bc=Error(s(542)),cd={then:function(){}};function Ty(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ec(){}function wy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Ec,Ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ay(n),n;default:if(typeof i.status=="string")i.then(Ec,Ec);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ay(n),n}throw _l=i,yl}}var _l=null;function Sy(){if(_l===null)throw Error(s(459));var n=_l;return _l=null,n}function Ay(n){if(n===yl||n===bc)throw Error(s(483))}var Si=!1;function hd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ai(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ri(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=dc(n),hy(n,null,a),i}return fc(n,l,i,a),dc(n)}function vl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ko(n,a)}}function dd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var md=!1;function bl(){if(md){var n=qa;if(n!==null)throw n}}function El(n,i,a,l){md=!1;var f=n.updateQueue;Si=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,G=D.next;D.next=null,b===null?m=G:b.next=G,b=D;var W=n.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==b&&(w===null?W.firstBaseUpdate=G:w.next=G,W.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;b=0,W=G=D=null,w=m;do{var $=w.lane&-536870913,K=$!==w.lane;if(K?(Be&$)===$:(l&$)===$){$!==0&&$===za&&(md=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Se=n,ve=w;$=i;var Ze=a;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){te=Se.call(Ze,te,$);break e}te=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,$=typeof Se=="function"?Se.call(Ze,te,$):Se,$==null)break e;te=_({},te,$);break e;case 2:Si=!0}}$=w.callback,$!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[$]:K.push($))}else K={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(G=W=K,D=te):W=W.next=K,b|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(D=te),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Pi|=b,n.lanes=b,n.memoizedState=te}}function Ry(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function xy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ry(a[n],i)}var Fa=re(null),Tc=re(0);function Cy(n,i){n=ti,se(Tc,n),se(Fa,i),ti=n|i.baseLanes}function pd(){se(Tc,ti),se(Fa,Fa.current)}function gd(){ti=Tc.current,ue(Fa),ue(Tc)}var xi=0,Ne=null,Xe=null,wt=null,wc=!1,Ha=!1,Gs=!1,Sc=0,Tl=0,Ga=null,KS=0;function yt(){throw Error(s(321))}function yd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!vn(n[a],i[a]))return!1;return!0}function _d(n,i,a,l,f,m){return xi=m,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?h0:f0,Gs=!1,m=a(l,f),Gs=!1,Ha&&(m=Ny(i,a,l,f)),Iy(n),m}function Iy(n){X.H=Nc;var i=Xe!==null&&Xe.next!==null;if(xi=0,wt=Xe=Ne=null,wc=!1,Tl=0,Ga=null,i)throw Error(s(300));n===null||Lt||(n=n.dependencies,n!==null&&yc(n)&&(Lt=!0))}function Ny(n,i,a,l){Ne=n;var f=0;do{if(Ha&&(Ga=null),Tl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=eA,m=i(a,l)}while(Ha);return m}function QS(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?wl(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ne.flags|=1024),i}function vd(){var n=Sc!==0;return Sc=0,n}function bd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Ed(n){if(wc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wc=!1}xi=0,wt=Xe=Ne=null,Ha=!1,Tl=Sc=0,Ga=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ne.memoizedState=wt=n:wt=wt.next=n,wt}function St(){if(Xe===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=wt===null?Ne.memoizedState:wt.next;if(i!==null)wt=i,Xe=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Ne.memoizedState=wt=n:wt=wt.next=n}return wt}function Td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(n){var i=Tl;return Tl+=1,Ga===null&&(Ga=[]),n=wy(Ga,n,i),i=Ne,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?h0:f0),n}function Ac(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===ie)return Xt(n)}throw Error(s(438,String(n)))}function wd(n){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Td(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=V;return i.index++,a}function Yr(n,i){return typeof i=="function"?i(n):i}function Rc(n){var i=St();return Sd(i,Xe,n)}function Sd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=b=null,D=null,G=i,W=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Be&te)===te:(xi&te)===te){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===za&&(W=!0);else if((xi&$)===$){G=G.next,$===za&&(W=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(w=D=te,b=m):D=D.next=te,Ne.lanes|=$,Pi|=$;te=G.action,Gs&&a(m,te),m=G.hasEagerState?G.eagerState:a(m,te)}else $={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(w=D=$,b=m):D=D.next=$,Ne.lanes|=te,Pi|=te;G=G.next}while(G!==null&&G!==i);if(D===null?b=m:D.next=w,!vn(m,n.memoizedState)&&(Lt=!0,W&&(a=qa,a!==null)))throw a;n.memoizedState=m,n.baseState=b,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Ad(n){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=n(m,b.action),b=b.next;while(b!==f);vn(m,i.memoizedState)||(Lt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Dy(n,i,a){var l=Ne,f=St(),m=Fe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!vn((Xe||f).memoizedState,a);b&&(f.memoizedState=a,Lt=!0),f=f.queue;var w=Py.bind(null,l,f,n);if(Sl(2048,8,w,[n]),f.getSnapshot!==i||b||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,$a(9,xc(),ky.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));m||(xi&124)!==0||Oy(l,i,a)}return a}function Oy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Td(),Ne.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function ky(n,i,a,l){i.value=a,i.getSnapshot=l,My(i)&&Vy(n)}function Py(n,i,a){return a(function(){My(i)&&Vy(n)})}function My(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!vn(n,a)}catch{return!0}}function Vy(n){var i=La(n,2);i!==null&&An(i,n,2)}function Rd(n){var i=cn();if(typeof n=="function"){var a=n;if(n=a(),Gs){yn(!0);try{a()}finally{yn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function Ly(n,i,a,l){return n.baseState=a,Sd(n,Xe,typeof l=="function"?l:Yr)}function YS(n,i,a,l,f){if(Ic(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Uy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Uy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=X.T,b={};X.T=b;try{var w=a(f,l),D=X.S;D!==null&&D(b,w),jy(n,i,w)}catch(G){xd(n,i,G)}finally{X.T=m}}else try{m=a(f,l),jy(n,i,m)}catch(G){xd(n,i,G)}}function jy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){By(n,i,l)},function(l){return xd(n,i,l)}):By(n,i,a)}function By(n,i,a){i.status="fulfilled",i.value=a,zy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Uy(n,a)))}function xd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,zy(i),i=i.next;while(i!==l)}n.action=null}function zy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function qy(n,i){return i}function Fy(n,i){if(Fe){var a=tt.formState;if(a!==null){e:{var l=Ne;if(Fe){if(ht){t:{for(var f=ht,m=mr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ht=Yn(f.nextSibling),l=f.data==="F!";break e}}zs(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:i},a.queue=l,a=l0.bind(null,Ne,l),l.dispatch=a,l=Rd(!1),m=Od.bind(null,Ne,!1,l.queue),l=cn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=YS.bind(null,Ne,f,m,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function Hy(n){var i=St();return Gy(i,Xe,n)}function Gy(n,i,a){if(i=Sd(n,i,qy)[0],n=Rc(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(b){throw b===yl?bc:b}else l=i;i=St();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,$a(9,xc(),XS.bind(null,f,a),null)),[l,m,n]}function XS(n,i){n.action=i}function $y(n){var i=St(),a=Xe;if(a!==null)return Gy(i,a,n);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function $a(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Td(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function xc(){return{destroy:void 0,resource:void 0}}function Ky(){return St().memoizedState}function Cc(n,i,a,l){var f=cn();l=l===void 0?null:l,Ne.flags|=n,f.memoizedState=$a(1|i,xc(),a,l)}function Sl(n,i,a,l){var f=St();l=l===void 0?null:l;var m=f.memoizedState.inst;Xe!==null&&l!==null&&yd(l,Xe.memoizedState.deps)?f.memoizedState=$a(i,m,a,l):(Ne.flags|=n,f.memoizedState=$a(1|i,m,a,l))}function Qy(n,i){Cc(8390656,8,n,i)}function Yy(n,i){Sl(2048,8,n,i)}function Xy(n,i){return Sl(4,2,n,i)}function Wy(n,i){return Sl(4,4,n,i)}function Zy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Jy(n,i,a){a=a!=null?a.concat([n]):null,Sl(4,4,Zy.bind(null,i,n),a)}function Cd(){}function e0(n,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function t0(n,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yd(i,l[1]))return l[0];if(l=n(),Gs){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,i],l}function Id(n,i,a){return a===void 0||(xi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=i_(),Ne.lanes|=n,Pi|=n,a)}function n0(n,i,a,l){return vn(a,i)?a:Fa.current!==null?(n=Id(n,a,l),vn(n,i)||(Lt=!0),n):(xi&42)===0?(Lt=!0,n.memoizedState=a):(n=i_(),Ne.lanes|=n,Pi|=n,i)}function r0(n,i,a,l,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var b=X.T,w={};X.T=w,Od(n,!1,i,a);try{var D=f(),G=X.S;if(G!==null&&G(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=$S(D,l);Al(n,i,W,Sn(n))}else Al(n,i,l,Sn(n))}catch(te){Al(n,i,{then:function(){},status:"rejected",reason:te},Sn())}finally{oe.p=m,X.T=b}}function WS(){}function Nd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=i0(n).queue;r0(n,f,i,me,a===null?WS:function(){return s0(n),a(l)})}function i0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function s0(n){var i=i0(n).next.queue;Al(n,i,{},Sn())}function Dd(){return Xt(Fl)}function a0(){return St().memoizedState}function o0(){return St().memoizedState}function ZS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();n=Ai(a);var l=Ri(i,n,a);l!==null&&(An(l,i,a),vl(l,i,a)),i={cache:od()},n.payload=i;return}i=i.return}}function JS(n,i,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(n)?u0(i,a):(a=Wf(n,i,a,l),a!==null&&(An(a,n,l),c0(a,i,l)))}function l0(n,i,a){var l=Sn();Al(n,i,a,l)}function Al(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(n))u0(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,w=m(b,a);if(f.hasEagerState=!0,f.eagerState=w,vn(w,b))return fc(n,i,f,0),tt===null&&hc(),!1}catch{}finally{}if(a=Wf(n,i,f,l),a!==null)return An(a,n,l),c0(a,i,l),!0}return!1}function Od(n,i,a,l){if(l={lane:2,revertLane:cm(),action:l,hasEagerState:!1,eagerState:null,next:null},Ic(n)){if(i)throw Error(s(479))}else i=Wf(n,a,l,2),i!==null&&An(i,n,2)}function Ic(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function u0(n,i){Ha=wc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function c0(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ko(n,a)}}var Nc={readContext:Xt,use:Ac,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},h0={readContext:Xt,use:Ac,useCallback:function(n,i){return cn().memoizedState=[n,i===void 0?null:i],n},useContext:Xt,useEffect:Qy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Cc(4194308,4,Zy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Cc(4194308,4,n,i)},useInsertionEffect:function(n,i){Cc(4,2,n,i)},useMemo:function(n,i){var a=cn();i=i===void 0?null:i;var l=n();if(Gs){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=cn();if(a!==void 0){var f=a(i);if(Gs){yn(!0);try{a(i)}finally{yn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=JS.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var i=cn();return n={current:n},i.memoizedState=n},useState:function(n){n=Rd(n);var i=n.queue,a=l0.bind(null,Ne,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Cd,useDeferredValue:function(n,i){var a=cn();return Id(a,n,i)},useTransition:function(){var n=Rd(!1);return n=r0.bind(null,Ne,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ne,f=cn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Be&124)!==0||Oy(l,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Qy(Py.bind(null,l,m,n),[n]),l.flags|=2048,$a(9,xc(),ky.bind(null,l,m,a,i),null),a},useId:function(){var n=cn(),i=tt.identifierPrefix;if(Fe){var a=$r,l=Gr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Sc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=KS++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Dd,useFormState:Fy,useActionState:Fy,useOptimistic:function(n){var i=cn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Od.bind(null,Ne,!0,a),a.dispatch=i,[n,i]},useMemoCache:wd,useCacheRefresh:function(){return cn().memoizedState=ZS.bind(null,Ne)}},f0={readContext:Xt,use:Ac,useCallback:e0,useContext:Xt,useEffect:Yy,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:t0,useReducer:Rc,useRef:Ky,useState:function(){return Rc(Yr)},useDebugValue:Cd,useDeferredValue:function(n,i){var a=St();return n0(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Rc(Yr)[0],i=St().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:Dy,useId:a0,useHostTransitionStatus:Dd,useFormState:Hy,useActionState:Hy,useOptimistic:function(n,i){var a=St();return Ly(a,Xe,n,i)},useMemoCache:wd,useCacheRefresh:o0},eA={readContext:Xt,use:Ac,useCallback:e0,useContext:Xt,useEffect:Yy,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:t0,useReducer:Ad,useRef:Ky,useState:function(){return Ad(Yr)},useDebugValue:Cd,useDeferredValue:function(n,i){var a=St();return Xe===null?Id(a,n,i):n0(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Ad(Yr)[0],i=St().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:Dy,useId:a0,useHostTransitionStatus:Dd,useFormState:$y,useActionState:$y,useOptimistic:function(n,i){var a=St();return Xe!==null?Ly(a,Xe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:o0},Ka=null,Rl=0;function Dc(n){var i=Rl;return Rl+=1,Ka===null&&(Ka=[]),wy(Ka,n,i)}function xl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Oc(n,i){throw i.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function d0(n){var i=n._init;return i(n._payload)}function m0(n){function i(z,U){if(n){var H=z.deletions;H===null?(z.deletions=[U],z.flags|=16):H.push(U)}}function a(z,U){if(!n)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=Hr(z,U),z.index=0,z.sibling=null,z}function m(z,U,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<U?(z.flags|=67108866,U):H):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function b(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function w(z,U,H,J){return U===null||U.tag!==6?(U=Jf(H,z.mode,J),U.return=z,U):(U=f(U,H),U.return=z,U)}function D(z,U,H,J){var fe=H.type;return fe===R?W(z,U,H.props.children,J,H.key):U!==null&&(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===N&&d0(fe)===U.type)?(U=f(U,H.props),xl(U,H),U.return=z,U):(U=mc(H.type,H.key,H.props,null,z.mode,J),xl(U,H),U.return=z,U)}function G(z,U,H,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=ed(H,z.mode,J),U.return=z,U):(U=f(U,H.children||[]),U.return=z,U)}function W(z,U,H,J,fe){return U===null||U.tag!==7?(U=Ls(H,z.mode,J,fe),U.return=z,U):(U=f(U,H),U.return=z,U)}function te(z,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jf(""+U,z.mode,H),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return H=mc(U.type,U.key,U.props,null,z.mode,H),xl(H,U),H.return=z,H;case I:return U=ed(U,z.mode,H),U.return=z,U;case N:var J=U._init;return U=J(U._payload),te(z,U,H)}if(it(U)||B(U))return U=Ls(U,z.mode,H,null),U.return=z,U;if(typeof U.then=="function")return te(z,Dc(U),H);if(U.$$typeof===ie)return te(z,_c(z,U),H);Oc(z,U)}return null}function $(z,U,H,J){var fe=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:w(z,U,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===fe?D(z,U,H,J):null;case I:return H.key===fe?G(z,U,H,J):null;case N:return fe=H._init,H=fe(H._payload),$(z,U,H,J)}if(it(H)||B(H))return fe!==null?null:W(z,U,H,J,null);if(typeof H.then=="function")return $(z,U,Dc(H),J);if(H.$$typeof===ie)return $(z,U,_c(z,H),J);Oc(z,H)}return null}function K(z,U,H,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,w(U,z,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return z=z.get(J.key===null?H:J.key)||null,D(U,z,J,fe);case I:return z=z.get(J.key===null?H:J.key)||null,G(U,z,J,fe);case N:var Oe=J._init;return J=Oe(J._payload),K(z,U,H,J,fe)}if(it(J)||B(J))return z=z.get(H)||null,W(U,z,J,fe,null);if(typeof J.then=="function")return K(z,U,H,Dc(J),fe);if(J.$$typeof===ie)return K(z,U,H,_c(U,J),fe);Oc(U,J)}return null}function Se(z,U,H,J){for(var fe=null,Oe=null,pe=U,be=U=0,jt=null;pe!==null&&be<H.length;be++){pe.index>be?(jt=pe,pe=null):jt=pe.sibling;var qe=$(z,pe,H[be],J);if(qe===null){pe===null&&(pe=jt);break}n&&pe&&qe.alternate===null&&i(z,pe),U=m(qe,U,be),Oe===null?fe=qe:Oe.sibling=qe,Oe=qe,pe=jt}if(be===H.length)return a(z,pe),Fe&&js(z,be),fe;if(pe===null){for(;be<H.length;be++)pe=te(z,H[be],J),pe!==null&&(U=m(pe,U,be),Oe===null?fe=pe:Oe.sibling=pe,Oe=pe);return Fe&&js(z,be),fe}for(pe=l(pe);be<H.length;be++)jt=K(pe,z,be,H[be],J),jt!==null&&(n&&jt.alternate!==null&&pe.delete(jt.key===null?be:jt.key),U=m(jt,U,be),Oe===null?fe=jt:Oe.sibling=jt,Oe=jt);return n&&pe.forEach(function(Fi){return i(z,Fi)}),Fe&&js(z,be),fe}function ve(z,U,H,J){if(H==null)throw Error(s(151));for(var fe=null,Oe=null,pe=U,be=U=0,jt=null,qe=H.next();pe!==null&&!qe.done;be++,qe=H.next()){pe.index>be?(jt=pe,pe=null):jt=pe.sibling;var Fi=$(z,pe,qe.value,J);if(Fi===null){pe===null&&(pe=jt);break}n&&pe&&Fi.alternate===null&&i(z,pe),U=m(Fi,U,be),Oe===null?fe=Fi:Oe.sibling=Fi,Oe=Fi,pe=jt}if(qe.done)return a(z,pe),Fe&&js(z,be),fe;if(pe===null){for(;!qe.done;be++,qe=H.next())qe=te(z,qe.value,J),qe!==null&&(U=m(qe,U,be),Oe===null?fe=qe:Oe.sibling=qe,Oe=qe);return Fe&&js(z,be),fe}for(pe=l(pe);!qe.done;be++,qe=H.next())qe=K(pe,z,be,qe.value,J),qe!==null&&(n&&qe.alternate!==null&&pe.delete(qe.key===null?be:qe.key),U=m(qe,U,be),Oe===null?fe=qe:Oe.sibling=qe,Oe=qe);return n&&pe.forEach(function(t1){return i(z,t1)}),Fe&&js(z,be),fe}function Ze(z,U,H,J){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var fe=H.key;U!==null;){if(U.key===fe){if(fe=H.type,fe===R){if(U.tag===7){a(z,U.sibling),J=f(U,H.props.children),J.return=z,z=J;break e}}else if(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===N&&d0(fe)===U.type){a(z,U.sibling),J=f(U,H.props),xl(J,H),J.return=z,z=J;break e}a(z,U);break}else i(z,U);U=U.sibling}H.type===R?(J=Ls(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=mc(H.type,H.key,H.props,null,z.mode,J),xl(J,H),J.return=z,z=J)}return b(z);case I:e:{for(fe=H.key;U!==null;){if(U.key===fe)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){a(z,U.sibling),J=f(U,H.children||[]),J.return=z,z=J;break e}else{a(z,U);break}else i(z,U);U=U.sibling}J=ed(H,z.mode,J),J.return=z,z=J}return b(z);case N:return fe=H._init,H=fe(H._payload),Ze(z,U,H,J)}if(it(H))return Se(z,U,H,J);if(B(H)){if(fe=B(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),ve(z,U,H,J)}if(typeof H.then=="function")return Ze(z,U,Dc(H),J);if(H.$$typeof===ie)return Ze(z,U,_c(z,H),J);Oc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(a(z,U.sibling),J=f(U,H),J.return=z,z=J):(a(z,U),J=Jf(H,z.mode,J),J.return=z,z=J),b(z)):a(z,U)}return function(z,U,H,J){try{Rl=0;var fe=Ze(z,U,H,J);return Ka=null,fe}catch(pe){if(pe===yl||pe===bc)throw pe;var Oe=bn(29,pe,null,z.mode);return Oe.lanes=J,Oe.return=z,Oe}finally{}}}var Qa=m0(!0),p0=m0(!1),Ln=re(null),pr=null;function Ci(n){var i=n.alternate;se(Ot,Ot.current&1),se(Ln,n),pr===null&&(i===null||Fa.current!==null||i.memoizedState!==null)&&(pr=n)}function g0(n){if(n.tag===22){if(se(Ot,Ot.current),se(Ln,n),pr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(pr=n)}}else Ii()}function Ii(){se(Ot,Ot.current),se(Ln,Ln.current)}function Xr(n){ue(Ln),pr===n&&(pr=null),ue(Ot)}var Ot=re(0);function kc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Tm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Pd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Sn(),f=Ai(l);f.payload=i,a!=null&&(f.callback=a),i=Ri(n,f,l),i!==null&&(An(i,n,l),vl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Sn(),f=Ai(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ri(n,f,l),i!==null&&(An(i,n,l),vl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Sn(),l=Ai(a);l.tag=2,i!=null&&(l.callback=i),i=Ri(n,l,a),i!==null&&(An(i,n,a),vl(i,n,a))}};function y0(n,i,a,l,f,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!ul(a,l)||!ul(f,m):!0}function _0(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Pd.enqueueReplaceState(i,i.state,null)}function $s(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function v0(n){Pc(n)}function b0(n){console.error(n)}function E0(n){Pc(n)}function Mc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function T0(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Md(n,i,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(n,i)},a}function w0(n){return n=Ai(n),n.tag=3,n}function S0(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){T0(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){T0(i,a,l),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function tA(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ml(i,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return pr===null?sm():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===cd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),om(n,l,f)),!1;case 22:return a.flags|=65536,l===cd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),om(n,l,f)),!1}throw Error(s(435,a.tag))}return om(n,l,f),sm(),!1}if(Fe)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==rd&&(n=Error(s(422),{cause:l}),dl(kn(n,a)))):(l!==rd&&(i=Error(s(423),{cause:l}),dl(kn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=kn(l,a),f=Md(n.stateNode,l,f),dd(n,f),ft!==4&&(ft=2)),!1;var m=Error(s(520),{cause:l});if(m=kn(m,a),Pl===null?Pl=[m]:Pl.push(m),ft!==4&&(ft=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Md(a.stateNode,l,n),dd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=w0(f),S0(f,n,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var A0=Error(s(461)),Lt=!1;function Ft(n,i,a,l){i.child=n===null?p0(i,null,a,l):Qa(i,n.child,a,l)}function R0(n,i,a,l,f){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Fs(i),l=_d(n,i,a,b,m,f),w=vd(),n!==null&&!Lt?(bd(n,i,f),Wr(n,i,f)):(Fe&&w&&td(i),i.flags|=1,Ft(n,i,l,f),i.child)}function x0(n,i,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Zf(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,C0(n,i,m,l,f)):(n=mc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Fd(n,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(b,l)&&n.ref===i.ref)return Wr(n,i,f)}return i.flags|=1,n=Hr(m,l),n.ref=i.ref,n.return=i,i.child=n}function C0(n,i,a,l,f){if(n!==null){var m=n.memoizedProps;if(ul(m,l)&&n.ref===i.ref)if(Lt=!1,i.pendingProps=l=m,Fd(n,f))(n.flags&131072)!==0&&(Lt=!0);else return i.lanes=n.lanes,Wr(n,i,f)}return Vd(n,i,a,l,f)}function I0(n,i,a){var l=i.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return N0(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&vc(i,m!==null?m.cachePool:null),m!==null?Cy(i,m):pd(),g0(i);else return i.lanes=i.childLanes=536870912,N0(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(vc(i,m.cachePool),Cy(i,m),Ii(),i.memoizedState=null):(n!==null&&vc(i,null),pd(),Ii());return Ft(n,i,f,a),i.child}function N0(n,i,a,l){var f=ud();return f=f===null?null:{parent:Dt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&vc(i,null),pd(),g0(i),n!==null&&ml(n,i,l,!0),null}function Vc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Vd(n,i,a,l,f){return Fs(i),a=_d(n,i,a,l,void 0,f),l=vd(),n!==null&&!Lt?(bd(n,i,f),Wr(n,i,f)):(Fe&&l&&td(i),i.flags|=1,Ft(n,i,a,f),i.child)}function D0(n,i,a,l,f,m){return Fs(i),i.updateQueue=null,a=Ny(i,l,a,f),Iy(n),l=vd(),n!==null&&!Lt?(bd(n,i,m),Wr(n,i,m)):(Fe&&l&&td(i),i.flags|=1,Ft(n,i,a,m),i.child)}function O0(n,i,a,l,f){if(Fs(i),i.stateNode===null){var m=Ua,b=a.contextType;typeof b=="object"&&b!==null&&(m=Xt(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Pd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},hd(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?Xt(b):Ua,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(kd(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Pd.enqueueReplaceState(m,m.state,null),El(i,l,m,f),bl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,D=$s(a,w);m.props=D;var G=m.context,W=a.contextType;b=Ua,typeof W=="object"&&W!==null&&(b=Xt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||G!==b)&&_0(i,m,l,b),Si=!1;var $=i.memoizedState;m.state=$,El(i,l,m,f),bl(),G=i.memoizedState,w||$!==G||Si?(typeof te=="function"&&(kd(i,a,te,l),G=i.memoizedState),(D=Si||y0(i,a,D,l,$,G,b))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),m.props=l,m.state=G,m.context=b,l=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,fd(n,i),b=i.memoizedProps,W=$s(a,b),m.props=W,te=i.pendingProps,$=m.context,G=a.contextType,D=Ua,typeof G=="object"&&G!==null&&(D=Xt(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||$!==D)&&_0(i,m,l,D),Si=!1,$=i.memoizedState,m.state=$,El(i,l,m,f),bl();var K=i.memoizedState;b!==te||$!==K||Si||n!==null&&n.dependencies!==null&&yc(n.dependencies)?(typeof w=="function"&&(kd(i,a,w,l),K=i.memoizedState),(W=Si||y0(i,a,W,l,$,K,D)||n!==null&&n.dependencies!==null&&yc(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),m.props=l,m.state=K,m.context=D,l=W):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Vc(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=Qa(i,n.child,null,f),i.child=Qa(i,null,a,f)):Ft(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Wr(n,i,f),n}function k0(n,i,a,l){return fl(),i.flags|=256,Ft(n,i,a,l),i.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(n){return{baseLanes:n,cachePool:by()}}function jd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Un),n}function P0(n,i,a){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(f?Ci(i):Ii(),Fe){var w=ht,D;if(D=w){e:{for(D=w,w=mr;D.nodeType!==8;){if(!w){w=null;break e}if(D=Yn(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(i.memoizedState={dehydrated:w,treeContext:Us!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},D=bn(18,null,null,0),D.stateNode=w,D.return=i,i.child=D,ln=i,ht=null,D=!0):D=!1}D||zs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Tm(w)?i.lanes=32:i.lanes=536870912,null;Xr(i)}return w=l.children,l=l.fallback,f?(Ii(),f=i.mode,w=Lc({mode:"hidden",children:w},f),l=Ls(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=Ud(a),f.childLanes=jd(n,b,a),i.memoizedState=Ld,l):(Ci(i),Bd(i,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)i.flags&256?(Ci(i),i.flags&=-257,i=zd(n,i,a)):i.memoizedState!==null?(Ii(),i.child=n.child,i.flags|=128,i=null):(Ii(),f=l.fallback,w=i.mode,l=Lc({mode:"visible",children:l.children},w),f=Ls(f,w,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Qa(i,n.child,null,a),l=i.child,l.memoizedState=Ud(a),l.childLanes=jd(n,b,a),i.memoizedState=Ld,i=f);else if(Ci(i),Tm(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(s(419)),l.stack="",l.digest=b,dl({value:l,source:null,stack:null}),i=zd(n,i,a)}else if(Lt||ml(n,i,a,!1),b=(a&n.childLanes)!==0,Lt||b){if(b=tt,b!==null&&(l=a&-a,l=(l&42)!==0?1:gi(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,La(n,l),An(b,n,l),A0;w.data==="$?"||sm(),i=zd(n,i,a)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,ht=Yn(w.nextSibling),ln=i,Fe=!0,Bs=null,mr=!1,n!==null&&(Mn[Vn++]=Gr,Mn[Vn++]=$r,Mn[Vn++]=Us,Gr=n.id,$r=n.overflow,Us=i),i=Bd(i,l.children),i.flags|=4096);return i}return f?(Ii(),f=l.fallback,w=i.mode,D=n.child,G=D.sibling,l=Hr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?f=Hr(G,f):(f=Ls(f,w,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=n.child.memoizedState,w===null?w=Ud(a):(D=w.cachePool,D!==null?(G=Dt._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=by(),w={baseLanes:w.baseLanes|a,cachePool:D}),f.memoizedState=w,f.childLanes=jd(n,b,a),i.memoizedState=Ld,l):(Ci(i),a=n.child,n=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=a,i.memoizedState=null,a)}function Bd(n,i){return i=Lc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Lc(n,i){return n=bn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function zd(n,i,a){return Qa(i,n.child,null,a),n=Bd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function M0(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),sd(n.return,i,a)}function qd(n,i,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function V0(n,i,a){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(Ft(n,i,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&M0(n,a,i);else if(n.tag===19)M0(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Ot,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),qd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&kc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}qd(i,!0,a,null,m);break;case"together":qd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Pi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ml(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Hr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Hr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Fd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&yc(n)))}function nA(n,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),wi(i,Dt,n.memoizedState.cache),fl();break;case 27:case 5:pi(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:wi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(i),i.flags|=128,null):(a&i.child.childLanes)!==0?P0(n,i,a):(Ci(i),n=Wr(n,i,a),n!==null?n.sibling:null);Ci(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ml(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return V0(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return i.lanes=0,I0(n,i,a);case 24:wi(i,Dt,n.memoizedState.cache)}return Wr(n,i,a)}function L0(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Fd(n,a)&&(i.flags&128)===0)return Lt=!1,nA(n,i,a);Lt=(n.flags&131072)!==0}else Lt=!1,Fe&&(i.flags&1048576)!==0&&dy(i,gc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Zf(l)?(n=$s(l,n),i.tag=1,i=O0(null,i,l,n,a)):(i.tag=0,i=Vd(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===de){i.tag=11,i=R0(null,i,l,n,a);break e}else if(f===P){i.tag=14,i=x0(null,i,l,n,a);break e}}throw i=pt(l)||l,Error(s(306,i,""))}}return i;case 0:return Vd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=$s(l,i.pendingProps),O0(n,i,l,f,a);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,fd(n,i),El(i,l,null,a);var b=i.memoizedState;if(l=b.cache,wi(i,Dt,l),l!==m.cache&&ad(i,[Dt],a,!0),bl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=k0(n,i,l,a);break e}else if(l!==f){f=kn(Error(s(424)),i),dl(f),i=k0(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Yn(n.firstChild),ln=i,Fe=!0,Bs=null,mr=!0,a=p0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fl(),l===f){i=Wr(n,i,a);break e}Ft(n,i,l,a)}i=i.child}return i;case 26:return Vc(n,i),n===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,n=i.pendingProps,l=Wc(Ae.current).createElement(a),l[Ct]=i,l[Et]=n,Gt(l,a,n),gt(l),i.stateNode=l):i.memoizedState=z_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return pi(i),n===null&&Fe&&(l=i.stateNode=U_(i.type,i.pendingProps,Ae.current),ln=i,mr=!0,f=ht,Ui(i.type)?(wm=f,ht=Yn(l.firstChild)):ht=f),Ft(n,i,i.pendingProps.children,a),Vc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Fe&&((f=l=ht)&&(l=NA(l,i.type,i.pendingProps,mr),l!==null?(i.stateNode=l,ln=i,ht=Yn(l.firstChild),mr=!1,f=!0):f=!1),f||zs(i)),pi(i),f=i.type,m=i.pendingProps,b=n!==null?n.memoizedProps:null,l=m.children,vm(f,m)?l=null:b!==null&&vm(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=_d(n,i,QS,null,null,a),Fl._currentValue=f),Vc(n,i),Ft(n,i,l,a),i.child;case 6:return n===null&&Fe&&((n=a=ht)&&(a=DA(a,i.pendingProps,mr),a!==null?(i.stateNode=a,ln=i,ht=null,n=!0):n=!1),n||zs(i)),null;case 13:return P0(n,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Qa(i,null,l,a):Ft(n,i,l,a),i.child;case 11:return R0(n,i,i.type,i.pendingProps,a);case 7:return Ft(n,i,i.pendingProps,a),i.child;case 8:return Ft(n,i,i.pendingProps.children,a),i.child;case 12:return Ft(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wi(i,i.type,l.value),Ft(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=Xt(f),l=l(f),i.flags|=1,Ft(n,i,l,a),i.child;case 14:return x0(n,i,i.type,i.pendingProps,a);case 15:return C0(n,i,i.type,i.pendingProps,a);case 19:return V0(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Lc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Hr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return I0(n,i,a);case 24:return Fs(i),l=Xt(Dt),n===null?(f=ud(),f===null&&(f=tt,m=od(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:l,cache:f},hd(i),wi(i,Dt,f)):((n.lanes&a)!==0&&(fd(n,i),El(i,null,null,a),bl()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),wi(i,Dt,l)):(l=m.cache,wi(i,Dt,l),l!==f.cache&&ad(i,[Dt],a,!0))),Ft(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zr(n){n.flags|=4}function U0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!$_(i)){if(i=Ln.current,i!==null&&((Be&4194048)===Be?pr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==pr))throw _l=cd,Ey;n.flags|=8192}}function Uc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Go():536870912,n.lanes|=i,Za|=i)}function Cl(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function rA(n,i,a){var l=i.pendingProps;switch(nd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qr(Dt),nr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(hl(i)?Zr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gy())),lt(i),null;case 26:return a=i.memoizedState,n===null?(Zr(i),a!==null?(lt(i),U0(i,a)):(lt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Zr(i),lt(i),U0(i,a)):(lt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Zr(i),lt(i),i.flags&=-16777217),null;case 27:Dr(i),a=Ae.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}n=ye.current,hl(i)?my(i):(n=U_(f,l,a),i.stateNode=n,Zr(i))}return lt(i),null;case 5:if(Dr(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(n=ye.current,hl(i))my(i);else{switch(f=Wc(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ct]=i,n[Et]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Gt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zr(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ae.current,hl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ct]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D_(n.nodeValue,a)),n||zs(i)}else n=Wc(n).createTextNode(l),n[Ct]=i,i.stateNode=n}return lt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=hl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ct]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),f=!1}else f=gy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Xr(i),i):(Xr(i),null)}if(Xr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Uc(i,i.updateQueue),lt(i),null;case 4:return nr(),n===null&&mm(i.stateNode.containerInfo),lt(i),null;case 10:return Qr(i.type),lt(i),null;case 19:if(ue(Ot),f=i.memoizedState,f===null)return lt(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)Cl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=kc(n),m!==null){for(i.flags|=128,Cl(f,!1),n=m.updateQueue,i.updateQueue=n,Uc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)fy(a,n),a=a.sibling;return se(Ot,Ot.current&1|2),i.child}n=n.sibling}f.tail!==null&&xn()>zc&&(i.flags|=128,l=!0,Cl(f,!1),i.lanes=4194304)}else{if(!l)if(n=kc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Uc(i,n),Cl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return lt(i),null}else 2*xn()-f.renderingStartTime>zc&&a!==536870912&&(i.flags|=128,l=!0,Cl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=xn(),i.sibling=null,n=Ot.current,se(Ot,l?n&1|2:n&1),i):(lt(i),null);case 22:case 23:return Xr(i),gd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&Uc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ue(Hs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qr(Dt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iA(n,i){switch(nd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qr(Dt),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Dr(i),null;case 13:if(Xr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));fl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ue(Ot),null;case 4:return nr(),null;case 10:return Qr(i.type),null;case 22:case 23:return Xr(i),gd(),n!==null&&ue(Hs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qr(Dt),null;case 25:return null;default:return null}}function j0(n,i){switch(nd(i),i.tag){case 3:Qr(Dt),nr();break;case 26:case 27:case 5:Dr(i);break;case 4:nr();break;case 13:Xr(i);break;case 19:ue(Ot);break;case 10:Qr(i.type);break;case 22:case 23:Xr(i),gd(),n!==null&&ue(Hs);break;case 24:Qr(Dt)}}function Il(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(w){Je(i,i.return,w)}}function Ni(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=i;var D=a,G=w;try{G()}catch(W){Je(f,D,W)}}}l=l.next}while(l!==m)}}catch(W){Je(i,i.return,W)}}function B0(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{xy(i,a)}catch(l){Je(n,n.return,l)}}}function z0(n,i,a){a.props=$s(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,i,l)}}function Nl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Je(n,i,f)}}function gr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,i,f)}else a.current=null}function q0(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function Hd(n,i,a){try{var l=n.stateNode;AA(l,n.type,a,i),l[Et]=i}catch(f){Je(n,n.return,f)}}function F0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function Gd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||F0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $d(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xc));else if(l!==4&&(l===27&&Ui(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for($d(n,i,a),n=n.sibling;n!==null;)$d(n,i,a),n=n.sibling}function jc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Ui(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(jc(n,i,a),n=n.sibling;n!==null;)jc(n,i,a),n=n.sibling}function H0(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,l,a),i[Ct]=n,i[Et]=a}catch(m){Je(n,n.return,m)}}var Jr=!1,_t=!1,Kd=!1,G0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function sA(n,i){if(n=n.containerInfo,ym=rh,n=ny(n),Gf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,w=-1,D=-1,G=0,W=0,te=n,$=null;t:for(;;){for(var K;te!==a||f!==0&&te.nodeType!==3||(w=b+f),te!==m||l!==0&&te.nodeType!==3||(D=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(K=te.firstChild)!==null;)$=te,te=K;for(;;){if(te===n)break t;if($===a&&++G===f&&(w=b),$===m&&++W===l&&(D=b),(K=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=K}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:n,selectionRange:a},rh=!1,Ut=i;Ut!==null;)if(i=Ut,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ut=n;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Se=$s(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Je(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Em(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Em(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ut=n;break}Ut=i.return}}function $0(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Di(n,a),l&4&&Il(5,a);break;case 1:if(Di(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(b){Je(a,a.return,b)}else{var f=$s(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(a,a.return,b)}}l&64&&B0(a),l&512&&Nl(a,a.return);break;case 3:if(Di(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{xy(n,i)}catch(b){Je(a,a.return,b)}}break;case 27:i===null&&l&4&&H0(a);case 26:case 5:Di(n,a),i===null&&l&4&&q0(a),l&512&&Nl(a,a.return);break;case 12:Di(n,a);break;case 13:Di(n,a),l&4&&Y0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=mA.bind(null,a),OA(n,a))));break;case 22:if(l=a.memoizedState!==null||Jr,!l){i=i!==null&&i.memoizedState!==null||_t,f=Jr;var m=_t;Jr=l,(_t=i)&&!m?Oi(n,a,(a.subtreeFlags&8772)!==0):Di(n,a),Jr=f,_t=m}break;case 30:break;default:Di(n,a)}}function K0(n){var i=n.alternate;i!==null&&(n.alternate=null,K0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&vi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,hn=!1;function ei(n,i,a){for(a=a.child;a!==null;)Q0(n,i,a),a=a.sibling}function Q0(n,i,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:_t||gr(a,i),ei(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||gr(a,i);var l=at,f=hn;Ui(a.type)&&(at=a.stateNode,hn=!1),ei(n,i,a),jl(a.stateNode),at=l,hn=f;break;case 5:_t||gr(a,i);case 6:if(l=at,f=hn,at=null,ei(n,i,a),at=l,hn=f,at!==null)if(hn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(m){Je(a,i,m)}else try{at.removeChild(a.stateNode)}catch(m){Je(a,i,m)}break;case 18:at!==null&&(hn?(n=at,V_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Kl(n)):V_(at,a.stateNode));break;case 4:l=at,f=hn,at=a.stateNode.containerInfo,hn=!0,ei(n,i,a),at=l,hn=f;break;case 0:case 11:case 14:case 15:_t||Ni(2,a,i),_t||Ni(4,a,i),ei(n,i,a);break;case 1:_t||(gr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&z0(a,i,l)),ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,ei(n,i,a),_t=l;break;default:ei(n,i,a)}}function Y0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kl(n)}catch(a){Je(i,i.return,a)}}function aA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new G0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new G0),i;default:throw Error(s(435,n.tag))}}function Qd(n,i){var a=aA(n);i.forEach(function(l){var f=pA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function En(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,b=i,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Ui(w.type)){at=w.stateNode,hn=!1;break e}break;case 5:at=w.stateNode,hn=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,hn=!0;break e}w=w.return}if(at===null)throw Error(s(160));Q0(m,b,f),at=null,hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)X0(i,n),i=i.sibling}var Qn=null;function X0(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(i,n),Tn(n),l&4&&(Ni(3,n,n.return),Il(3,n),Ni(5,n,n.return));break;case 1:En(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),l&64&&Jr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Qn;if(En(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Es]||m[Ct]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Gt(m,l,a),m[Ct]=n,gt(m),l=m;break e;case"link":var b=H_("link","href",f).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}m=f.createElement(l),Gt(m,l,a),f.head.appendChild(m);break;case"meta":if(b=H_("meta","content",f).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}m=f.createElement(l),Gt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ct]=n,gt(m),l=m}n.stateNode=l}else G_(f,n.type,n.stateNode);else n.stateNode=F_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?G_(f,n.type,n.stateNode):F_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Hd(n,n.memoizedProps,a.memoizedProps)}break;case 27:En(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),a!==null&&l&4&&Hd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(En(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),n.flags&32){f=n.stateNode;try{In(f,"")}catch(K){Je(n,n.return,K)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Hd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Kd=!0);break;case 6:if(En(i,n),Tn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){Je(n,n.return,K)}}break;case 3:if(eh=null,f=Qn,Qn=Zc(i.containerInfo),En(i,n),Qn=f,Tn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(i.containerInfo)}catch(K){Je(n,n.return,K)}Kd&&(Kd=!1,W0(n));break;case 4:l=Qn,Qn=Zc(n.stateNode.containerInfo),En(i,n),Tn(n),Qn=l;break;case 12:En(i,n),Tn(n);break;case 13:En(i,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(em=xn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qd(n,l)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=Jr,W=_t;if(Jr=G||f,_t=W||D,En(i,n),_t=W,Jr=G,Tn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Jr||_t||Ks(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(m=D.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var te=D.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){Je(D,D.return,K)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(K){Je(D,D.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qd(n,a))));break;case 19:En(i,n),Tn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qd(n,l)));break;case 30:break;case 21:break;default:En(i,n),Tn(n)}}function Tn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(F0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Gd(n);jc(n,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(In(b,""),a.flags&=-33);var w=Gd(n);jc(n,w,b);break;case 3:case 4:var D=a.stateNode.containerInfo,G=Gd(n);$d(n,G,D);break;default:throw Error(s(161))}}catch(W){Je(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function W0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;W0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Di(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$0(n,i.alternate,i),i=i.sibling}function Ks(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ni(4,i,i.return),Ks(i);break;case 1:gr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&z0(i,i.return,a),Ks(i);break;case 27:jl(i.stateNode);case 26:case 5:gr(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}n=n.sibling}}function Oi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Oi(f,m,a),Il(4,m);break;case 1:if(Oi(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Je(l,l.return,G)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Ry(D[f],w)}catch(G){Je(l,l.return,G)}}a&&b&64&&B0(m),Nl(m,m.return);break;case 27:H0(m);case 26:case 5:Oi(f,m,a),a&&l===null&&b&4&&q0(m),Nl(m,m.return);break;case 12:Oi(f,m,a);break;case 13:Oi(f,m,a),a&&b&4&&Y0(f,m);break;case 22:m.memoizedState===null&&Oi(f,m,a),Nl(m,m.return);break;case 30:break;default:Oi(f,m,a)}i=i.sibling}}function Yd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&pl(a))}function Xd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n))}function yr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Z0(n,i,a,l),i=i.sibling}function Z0(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yr(n,i,a,l),f&2048&&Il(9,i);break;case 1:yr(n,i,a,l);break;case 3:yr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n)));break;case 12:if(f&2048){yr(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else yr(n,i,a,l);break;case 13:yr(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?yr(n,i,a,l):Dl(n,i):m._visibility&2?yr(n,i,a,l):(m._visibility|=2,Ya(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Yd(b,i);break;case 24:yr(n,i,a,l),f&2048&&Xd(i.alternate,i);break;default:yr(n,i,a,l)}}function Ya(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,b=i,w=a,D=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:Ya(m,b,w,D,f),Il(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?Ya(m,b,w,D,f):Dl(m,b):(W._visibility|=2,Ya(m,b,w,D,f)),f&&G&2048&&Yd(b.alternate,b);break;case 24:Ya(m,b,w,D,f),f&&G&2048&&Xd(b.alternate,b);break;default:Ya(m,b,w,D,f)}i=i.sibling}}function Dl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&Yd(l.alternate,l);break;case 24:Dl(a,l),f&2048&&Xd(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var Ol=8192;function Xa(n){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)J0(n),n=n.sibling}function J0(n){switch(n.tag){case 26:Xa(n),n.flags&Ol&&n.memoizedState!==null&&GA(Qn,n.memoizedState,n.memoizedProps);break;case 5:Xa(n);break;case 3:case 4:var i=Qn;Qn=Zc(n.stateNode.containerInfo),Xa(n),Qn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ol,Ol=16777216,Xa(n),Ol=i):Xa(n));break;default:Xa(n)}}function e_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function kl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,n_(l,n)}e_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)t_(n),n=n.sibling}function t_(n){switch(n.tag){case 0:case 11:case 15:kl(n),n.flags&2048&&Ni(9,n,n.return);break;case 3:kl(n);break;case 12:kl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Bc(n)):kl(n);break;default:kl(n)}}function Bc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,n_(l,n)}e_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ni(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}n=n.sibling}}function n_(n,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ni(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=n;Ut!==null;){l=Ut;var f=l.sibling,m=l.return;if(K0(l),l===a){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}var oA={getCacheForType:function(n){var i=Xt(Dt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},lA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,ke=null,Be=0,Qe=0,wn=null,ki=!1,Wa=!1,Wd=!1,ti=0,ft=0,Pi=0,Qs=0,Zd=0,Un=0,Za=0,Pl=null,fn=null,Jd=!1,em=0,zc=1/0,qc=null,Mi=null,Ht=0,Vi=null,Ja=null,eo=0,tm=0,nm=null,r_=null,Ml=0,rm=null;function Sn(){if((Ke&2)!==0&&Be!==0)return Be&-Be;if(X.T!==null){var n=za;return n!==0?n:cm()}return yi()}function i_(){Un===0&&(Un=(Be&536870912)===0||Fe?Ho():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Un}function An(n,i,a){(n===tt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(to(n,0),Li(n,Be,Un,!1)),kr(n,a),((Ke&2)===0||n!==tt)&&(n===tt&&((Ke&2)===0&&(Qs|=a),ft===4&&Li(n,Be,Un,!1)),_r(n))}function s_(n,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||bs(n,i),f=l?hA(n,i):am(n,i,!0),m=l;do{if(f===0){Wa&&!l&&Li(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!uA(a)){f=am(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var w=n;f=Pl;var D=w.current.memoizedState.isDehydrated;if(D&&(to(w,b).flags|=256),b=am(w,b,!1),b!==2){if(Wd&&!D){w.errorRecoveryDisabledLanes|=m,Qs|=m,f=4;break e}m=fn,fn=f,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){to(n,0),Li(n,i,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Li(l,i,Un,!ki);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=em+300-xn(),10<f)){if(Li(l,i,Un,!ki),_a(l,0,!0)!==0)break e;l.timeoutHandle=P_(a_.bind(null,l,a,fn,qc,Jd,i,Un,Qs,Za,ki,m,2,-0,0),f);break e}a_(l,a,fn,qc,Jd,i,Un,Qs,Za,ki,m,0,-0,0)}}break}while(!0);_r(n)}function a_(n,i,a,l,f,m,b,w,D,G,W,te,$,K){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:HA},J0(i),te=$A(),te!==null)){n.cancelPendingCommit=te(d_.bind(null,n,i,m,a,l,f,b,w,D,W,1,$,K)),Li(n,m,b,!G);return}d_(n,i,m,a,l,f,b,w,D)}function uA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,a,l){i&=~Zd,i&=~Qs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-Yt(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&rr(n,a,i)}function Fc(){return(Ke&6)===0?(Vl(0),!1):!0}function im(){if(ke!==null){if(Qe===0)var n=ke.return;else n=ke,Kr=qs=null,Ed(n),Ka=null,Rl=0,n=ke;for(;n!==null;)j0(n.alternate,n),n=n.return;ke=null}}function to(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,xA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),im(),tt=n,ke=a=Hr(n.current,null),Be=i,Qe=0,wn=null,ki=!1,Wa=bs(n,i),Wd=!1,Za=Un=Zd=Qs=Pi=ft=0,fn=Pl=null,Jd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Yt(l),m=1<<f;i|=n[f],l&=~m}return ti=i,hc(),a}function o_(n,i){Ne=null,X.H=Nc,i===yl||i===bc?(i=Sy(),Qe=3):i===Ey?(i=Sy(),Qe=4):Qe=i===A0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,ke===null&&(ft=1,Mc(n,kn(i,n.current)))}function l_(){var n=X.H;return X.H=Nc,n===null?Nc:n}function u_(){var n=X.A;return X.A=oA,n}function sm(){ft=4,ki||(Be&4194048)!==Be&&Ln.current!==null||(Wa=!0),(Pi&134217727)===0&&(Qs&134217727)===0||tt===null||Li(tt,Be,Un,!1)}function am(n,i,a){var l=Ke;Ke|=2;var f=l_(),m=u_();(tt!==n||Be!==i)&&(qc=null,to(n,i)),i=!1;var b=ft;e:do try{if(Qe!==0&&ke!==null){var w=ke,D=wn;switch(Qe){case 8:im(),b=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var G=Qe;if(Qe=0,wn=null,no(n,w,D,G),a&&Wa){b=0;break e}break;default:G=Qe,Qe=0,wn=null,no(n,w,D,G)}}cA(),b=ft;break}catch(W){o_(n,W)}while(!0);return i&&n.shellSuspendCounter++,Kr=qs=null,Ke=l,X.H=f,X.A=m,ke===null&&(tt=null,Be=0,hc()),b}function cA(){for(;ke!==null;)c_(ke)}function hA(n,i){var a=Ke;Ke|=2;var l=l_(),f=u_();tt!==n||Be!==i?(qc=null,zc=xn()+500,to(n,i)):Wa=bs(n,i);e:do try{if(Qe!==0&&ke!==null){i=ke;var m=wn;t:switch(Qe){case 1:Qe=0,wn=null,no(n,i,m,1);break;case 2:case 9:if(Ty(m)){Qe=0,wn=null,h_(i);break}i=function(){Qe!==2&&Qe!==9||tt!==n||(Qe=7),_r(n)},m.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Ty(m)?(Qe=0,wn=null,h_(i)):(Qe=0,wn=null,no(n,i,m,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var w=ke;if(!b||$_(b)){Qe=0,wn=null;var D=w.sibling;if(D!==null)ke=D;else{var G=w.return;G!==null?(ke=G,Hc(G)):ke=null}break t}}Qe=0,wn=null,no(n,i,m,5);break;case 6:Qe=0,wn=null,no(n,i,m,6);break;case 8:im(),ft=6;break e;default:throw Error(s(462))}}fA();break}catch(W){o_(n,W)}while(!0);return Kr=qs=null,X.H=l,X.A=f,Ke=a,ke!==null?0:(tt=null,Be=0,hc(),ft)}function fA(){for(;ke!==null&&!Bo();)c_(ke)}function c_(n){var i=L0(n.alternate,n,ti);n.memoizedProps=n.pendingProps,i===null?Hc(n):ke=i}function h_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=D0(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=D0(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Ed(i);default:j0(a,i),i=ke=fy(i,ti),i=L0(a,i,ti)}n.memoizedProps=n.pendingProps,i===null?Hc(n):ke=i}function no(n,i,a,l){Kr=qs=null,Ed(i),Ka=null,Rl=0;var f=i.return;try{if(tA(n,f,i,a,Be)){ft=1,Mc(n,kn(a,n.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;ft=1,Mc(n,kn(a,n.current)),ke=null;return}i.flags&32768?(Fe||l===1?n=!0:Wa||(Be&536870912)!==0?n=!1:(ki=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,n)):Hc(i)}function Hc(n){var i=n;do{if((i.flags&32768)!==0){f_(i,ki);return}n=i.return;var a=rA(i.alternate,i,ti);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=n}while(i!==null);ft===0&&(ft=5)}function f_(n,i){do{var a=iA(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);ft=6,ke=null}function d_(n,i,a,l,f,m,b,w,D){n.cancelPendingCommit=null;do Gc();while(Ht!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Xf,$o(n,a,m,b,w,D),n===tt&&(ke=tt=null,Be=0),Ja=i,Vi=n,eo=a,tm=m,nm=f,r_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gA(gs,function(){return __(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=oe.p,oe.p=2,b=Ke,Ke|=4;try{sA(n,i,a)}finally{Ke=b,oe.p=f,X.T=l}}Ht=1,m_(),p_(),g_()}}function m_(){if(Ht===1){Ht=0;var n=Vi,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ke;Ke|=4;try{X0(i,n);var m=_m,b=ny(n.containerInfo),w=m.focusedElem,D=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&ty(w.ownerDocument.documentElement,w)){if(D!==null&&Gf(w)){var G=D.start,W=D.end;if(W===void 0&&(W=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(W,w.value.length);else{var te=w.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var K=$.getSelection(),Se=w.textContent.length,ve=Math.min(D.start,Se),Ze=D.end===void 0?ve:Math.min(D.end,Se);!K.extend&&ve>Ze&&(b=Ze,Ze=ve,ve=b);var z=ey(w,ve),U=ey(w,Ze);if(z&&U&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var H=te.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),ve>Ze?(K.addRange(H),K.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),K.addRange(H))}}}}for(te=[],K=w;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}rh=!!ym,_m=ym=null}finally{Ke=f,oe.p=l,X.T=a}}n.current=i,Ht=2}}function p_(){if(Ht===2){Ht=0;var n=Vi,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ke;Ke|=4;try{$0(n,i.alternate,i)}finally{Ke=f,oe.p=l,X.T=a}}Ht=3}}function g_(){if(Ht===4||Ht===3){Ht=0,Bu();var n=Vi,i=Ja,a=eo,l=r_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Ja=Vi=null,y_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Mi=null),va(a),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var m=n.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{X.T=i,oe.p=f}}(eo&3)!==0&&Gc(),_r(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===rm?Ml++:(Ml=0,rm=n):Ml=0,Vl(0)}}function y_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,pl(i)))}function Gc(n){return m_(),p_(),g_(),__()}function __(){if(Ht!==5)return!1;var n=Vi,i=tm;tm=0;var a=va(eo),l=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=nm,nm=null;var m=Vi,b=eo;if(Ht=0,Ja=Vi=null,eo=0,(Ke&6)!==0)throw Error(s(331));var w=Ke;if(Ke|=4,t_(m.current),Z0(m,m.current,b,a),Ke=w,Vl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ct,m)}catch{}return!0}finally{oe.p=f,X.T=l,y_(n,i)}}function v_(n,i,a){i=kn(a,i),i=Md(n.stateNode,i,2),n=Ri(n,i,2),n!==null&&(kr(n,2),_r(n))}function Je(n,i,a){if(n.tag===3)v_(n,n,a);else for(;i!==null;){if(i.tag===3){v_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){n=kn(a,n),a=w0(2),l=Ri(i,a,2),l!==null&&(S0(a,l,i,n),kr(l,2),_r(l));break}}i=i.return}}function om(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new lA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Wd=!0,f.add(a),n=dA.bind(null,n,i,a),i.then(n,n))}function dA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Be&a)===a&&(ft===4||ft===3&&(Be&62914560)===Be&&300>xn()-em?(Ke&2)===0&&to(n,0):Zd|=a,Za===Be&&(Za=0)),_r(n)}function b_(n,i){i===0&&(i=Go()),n=La(n,i),n!==null&&(kr(n,i),_r(n))}function mA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),b_(n,a)}function pA(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),b_(n,a)}function gA(n,i){return ms(n,i)}var $c=null,ro=null,lm=!1,Kc=!1,um=!1,Ys=0;function _r(n){n!==ro&&n.next===null&&(ro===null?$c=ro=n:ro=ro.next=n),Kc=!0,lm||(lm=!0,_A())}function Vl(n,i){if(!um&&Kc){um=!0;do for(var a=!1,l=$c;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Yt(42|n)+1)-1,m&=f&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,S_(l,m))}else m=Be,m=_a(l,l===tt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||bs(l,m)||(a=!0,S_(l,m));l=l.next}while(a);um=!1}}function yA(){E_()}function E_(){Kc=lm=!1;var n=0;Ys!==0&&(RA()&&(n=Ys),Ys=0);for(var i=xn(),a=null,l=$c;l!==null;){var f=l.next,m=T_(l,i);m===0?(l.next=null,a===null?$c=f:a.next=f,f===null&&(ro=a)):(a=l,(n!==0||(m&3)!==0)&&(Kc=!0)),l=f}Vl(n)}function T_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-Yt(m),w=1<<b,D=f[b];D===-1?((w&a)===0||(w&l)!==0)&&(f[b]=Fo(w,i)):D<=i&&(n.expiredLanes|=w),m&=~w}if(i=tt,a=Be,a=_a(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||bs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ps(l),va(a)){case 2:case 8:a=ga;break;case 32:a=gs;break;case 268435456:a=ya;break;default:a=gs}return l=w_.bind(null,n),a=ms(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ps(l),n.callbackPriority=2,n.callbackNode=null,2}function w_(n,i){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Gc()&&n.callbackNode!==a)return null;var l=Be;return l=_a(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(s_(n,l,i),T_(n,xn()),n.callbackNode!=null&&n.callbackNode===a?w_.bind(null,n):null)}function S_(n,i){if(Gc())return null;s_(n,i,!0)}function _A(){CA(function(){(Ke&6)!==0?ms(zo,yA):E_()})}function cm(){return Ys===0&&(Ys=Ho()),Ys}function A_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Aa(""+n)}function R_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function vA(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var m=A_((f[Et]||null).action),b=l.submitter;b&&(i=(i=b[Et]||null)?A_(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var w=new Ra("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var D=b?R_(f,b):new FormData(f);Nd(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=b?R_(f,b):new FormData(f),Nd(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var hm=0;hm<Yf.length;hm++){var fm=Yf[hm],bA=fm.toLowerCase(),EA=fm[0].toUpperCase()+fm.slice(1);Kn(bA,"on"+EA)}Kn(sy,"onAnimationEnd"),Kn(ay,"onAnimationIteration"),Kn(oy,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(US,"onTransitionRun"),Kn(jS,"onTransitionStart"),Kn(BS,"onTransitionCancel"),Kn(ly,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function x_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var w=l[b],D=w.instance,G=w.currentTarget;if(w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(W){Pc(W)}f.currentTarget=null,m=D}else for(b=0;b<l.length;b++){if(w=l[b],D=w.instance,G=w.currentTarget,w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(W){Pc(W)}f.currentTarget=null,m=D}}}}function Pe(n,i){var a=i[Qo];a===void 0&&(a=i[Qo]=new Set);var l=n+"__bubble";a.has(l)||(C_(i,n,2,!1),a.add(l))}function dm(n,i,a){var l=0;i&&(l|=4),C_(a,n,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function mm(n){if(!n[Qc]){n[Qc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(TA.has(a)||dm(a,!1,n),dm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,dm("selectionchange",!1,i))}}function C_(n,i,a,l){switch(Z_(i)){case 2:var f=YA;break;case 8:f=XA;break;default:f=Cm}a=f.bind(null,i,a,n),f=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function pm(n,i,a,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Pr(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=m=b;continue e}w=w.parentNode}}l=l.return}Xu(function(){var G=m,W=Nn(a),te=[];e:{var $=uy.get(n);if($!==void 0){var K=Ra,Se=n;switch(n){case"keypress":if(ur(a)===0)break e;case"keydown":case"keyup":K=Oa;break;case"focusin":Se="focus",K=Ia;break;case"focusout":Se="blur",K=Ia;break;case"beforeblur":case"afterblur":K=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ic;break;case sy:case ay:case oy:K=Na;break;case ly:K=ac;break;case"scroll":case"scrollend":K=Wu;break;case"wheel":K=ka;break;case"copy":case"cut":case"paste":K=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ol;break;case"toggle":case"beforetoggle":K=lc}var ve=(i&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),z=ve?$!==null?$+"Capture":null:$;ve=[];for(var U=G,H;U!==null;){var J=U;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=Cs(U,z),J!=null&&ve.push(Ul(U,J,H))),Ze)break;U=U.return}0<ve.length&&($=new K($,Se,null,a,W),te.push({event:$,listeners:ve}))}}if((i&7)===0){e:{if($=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",$&&a!==Ur&&(Se=a.relatedTarget||a.fromElement)&&(Pr(Se)||Se[Cn]))break e;if((K||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Se=a.relatedTarget||a.toElement,K=G,Se=Se?Pr(Se):null,Se!==null&&(Ze=u(Se),ve=Se.tag,Se!==Ze||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(K=null,Se=G),K!==Se)){if(ve=On,J="onMouseLeave",z="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(ve=ol,J="onPointerLeave",z="onPointerEnter",U="pointer"),Ze=K==null?$:sr(K),H=Se==null?$:sr(Se),$=new ve(J,U+"leave",K,a,W),$.target=Ze,$.relatedTarget=H,J=null,Pr(W)===G&&(ve=new ve(z,U+"enter",Se,a,W),ve.target=H,ve.relatedTarget=Ze,J=ve),Ze=J,K&&Se)t:{for(ve=K,z=Se,U=0,H=ve;H;H=io(H))U++;for(H=0,J=z;J;J=io(J))H++;for(;0<U-H;)ve=io(ve),U--;for(;0<H-U;)z=io(z),H--;for(;U--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=io(ve),z=io(z)}ve=null}else ve=null;K!==null&&I_(te,$,K,ve,!1),Se!==null&&Ze!==null&&I_(te,Ze,Se,ve,!0)}}e:{if($=G?sr(G):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var fe=Qg;else if(Nt($))if(Yg)fe=MS;else{fe=kS;var Oe=OS}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&el(G.elementType)&&(fe=Qg):fe=PS;if(fe&&(fe=fe(n,G))){Fr(te,fe,a,W);break e}Oe&&Oe(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Ei($,"number",$.value)}switch(Oe=G?sr(G):window,n){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(Pa=Oe,$f=G,cl=null);break;case"focusout":cl=$f=Pa=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,ry(te,a,W);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":ry(te,a,W)}var pe;if(fr)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ue?Q(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(Ue||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ue&&(pe=nl()):(lr=W,Ti="value"in lr?lr.value:lr.textContent,Ue=!0)),Oe=Yc(G,be),0<Oe.length&&(be=new sl(be,n,null,a,W),te.push({event:be,listeners:Oe}),pe?be.data=pe:(pe=ae(a),pe!==null&&(be.data=pe)))),(pe=y?It(n,a):je(n,a))&&(be=Yc(G,"onBeforeInput"),0<be.length&&(Oe=new sl("onBeforeInput","beforeinput",null,a,W),te.push({event:Oe,listeners:be}),Oe.data=pe)),vA(te,n,G,a,W)}x_(te,i)})}function Ul(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Yc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Cs(n,a),f!=null&&l.unshift(Ul(n,f,m)),f=Cs(n,i),f!=null&&l.push(Ul(n,f,m))),n.tag===3)return l;n=n.return}return[]}function io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function I_(n,i,a,l,f){for(var m=i._reactName,b=[];a!==null&&a!==l;){var w=a,D=w.alternate,G=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||G===null||(D=G,f?(G=Cs(a,m),G!=null&&b.unshift(Ul(a,G,D))):f||(G=Cs(a,m),G!=null&&b.push(Ul(a,G,D)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var wA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function N_(n){return(typeof n=="string"?n:""+n).replace(wA,`
`).replace(SA,"")}function D_(n,i){return i=N_(i),N_(n)===i}function Xc(){}function We(n,i,a,l,f,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(n,""+l);break;case"className":ar(n,"class",l);break;case"tabIndex":ar(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(n,a,l);break;case"style":Jo(n,l,m);break;case"data":if(i!=="object"){ar(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Xc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Aa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),bi(n,"popover",l);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jf.get(a)||a,bi(n,a,l))}}function gm(n,i,a,l,f,m){switch(a){case"style":Jo(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?In(n,l):(typeof l=="number"||typeof l=="bigint")&&In(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Et]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):bi(n,a,l)}}}function Gt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,m,b,a,null)}}f&&We(n,i,"srcSet",a.srcSet,a,null),l&&We(n,i,"src",a.src,a,null);return;case"input":Pe("invalid",n);var w=m=b=f=null,D=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":b=W;break;case"checked":D=W;break;case"defaultChecked":G=W;break;case"value":m=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:We(n,i,l,W,a,null)}}As(n,m,w,D,G,b,f,!1),Sa(n);return;case"select":Pe("invalid",n),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:We(n,i,f,w,a,null)}i=m,a=b,n.multiple=!!l,i!=null?Lr(n,!!l,i,!1):a!=null&&Lr(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(n,i,b,w,a,null)}Rs(n,l,f,m),Sa(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,i,D,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Pe(Ll[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,G,l,a,null)}return;default:if(el(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&gm(n,i,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(n,i,w,l,a,null))}function AA(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,w=null,D=null,G=null,W=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(K)||We(n,i,K,null,l,te)}}for(var $ in l){var K=l[$];if(te=a[$],l.hasOwnProperty($)&&(K!=null||te!=null))switch($){case"type":m=K;break;case"name":f=K;break;case"checked":G=K;break;case"defaultChecked":W=K;break;case"value":b=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==te&&We(n,i,$,K,l,te)}}_n(n,b,w,D,G,W,m,f);return;case"select":K=b=w=$=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(m)||We(n,i,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":$=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==D&&We(n,i,f,m,l,D)}i=w,a=b,l=K,$!=null?Lr(n,!!a,$,!1):!!l!=!!a&&(i!=null?Lr(n,!!a,i,!0):Lr(n,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(n,i,w,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":$=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,i,b,f,l,m)}Ye(n,$,K);return;case"option":for(var Se in a)if($=a[Se],a.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:We(n,i,Se,null,l,$)}for(D in l)if($=l[D],K=a[D],l.hasOwnProperty(D)&&$!==K&&($!=null||K!=null))switch(D){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:We(n,i,D,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)$=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&We(n,i,ve,null,l,$);for(G in l)if($=l[G],K=a[G],l.hasOwnProperty(G)&&$!==K&&($!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(n,i,G,$,l,K)}return;default:if(el(i)){for(var Ze in a)$=a[Ze],a.hasOwnProperty(Ze)&&$!==void 0&&!l.hasOwnProperty(Ze)&&gm(n,i,Ze,void 0,l,$);for(W in l)$=l[W],K=a[W],!l.hasOwnProperty(W)||$===K||$===void 0&&K===void 0||gm(n,i,W,$,l,K);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&We(n,i,z,null,l,$);for(te in l)$=l[te],K=a[te],!l.hasOwnProperty(te)||$===K||$==null&&K==null||We(n,i,te,$,l,K)}var ym=null,_m=null;function Wc(n){return n.nodeType===9?n:n.ownerDocument}function O_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function vm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bm=null;function RA(){var n=window.event;return n&&n.type==="popstate"?n===bm?!1:(bm=n,!0):(bm=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(n){return M_.resolve(null).then(n).catch(IA)}:P_;function IA(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function V_(n,i){var a=i,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&jl(b.documentElement),a&2&&jl(b.body),a&4)for(a=b.head,jl(a),b=a.firstChild;b;){var w=b.nextSibling,D=b.nodeName;b[Es]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(f===0){n.removeChild(m),Kl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Kl(i)}function Em(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),vi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function NA(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Es])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function DA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function Tm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function OA(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Yn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var wm=null;function L_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function U_(n,i,a){switch(i=Wc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function jl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);vi(n)}var jn=new Map,j_=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ni=oe.d;oe.d={f:kA,r:PA,D:MA,C:VA,L:LA,m:UA,X:BA,S:jA,M:zA};function kA(){var n=ni.f(),i=Fc();return n||i}function PA(n){var i=ir(n);i!==null&&i.tag===5&&i.type==="form"?s0(i):ni.r(n)}var so=typeof document>"u"?null:document;function B_(n,i,a){var l=so;if(l&&typeof i=="string"&&i){var f=Tt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),j_.has(f)||(j_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function MA(n){ni.D(n),B_("dns-prefetch",n,null)}function VA(n,i){ni.C(n,i),B_("preconnect",n,i)}function LA(n,i,a){ni.L(n,i,a);var l=so;if(l&&n&&i){var f='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tt(a.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var m=f;switch(i){case"style":m=ao(n);break;case"script":m=oo(n)}jn.has(m)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),jn.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Bl(m))||i==="script"&&l.querySelector(zl(m))||(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function UA(n,i){ni.m(n,i);var a=so;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=oo(n)}if(!jn.has(m)&&(n=_({rel:"modulepreload",href:n},i),jn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(m)))return}l=a.createElement("link"),Gt(l,"link",n),gt(l),a.head.appendChild(l)}}}function jA(n,i,a){ni.S(n,i,a);var l=so;if(l&&n){var f=sn(l).hoistableStyles,m=ao(n);i=i||"default";var b=f.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Bl(m)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=jn.get(m))&&Sm(n,a);var D=b=l.createElement("link");gt(D),Gt(D,"link",n),D._p=new Promise(function(G,W){D.onload=G,D.onerror=W}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Jc(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(m,b)}}}function BA(n,i){ni.X(n,i);var a=so;if(a&&n){var l=sn(a).hoistableScripts,f=oo(n),m=l.get(f);m||(m=a.querySelector(zl(f)),m||(n=_({src:n,async:!0},i),(i=jn.get(f))&&Am(n,i),m=a.createElement("script"),gt(m),Gt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function zA(n,i){ni.M(n,i);var a=so;if(a&&n){var l=sn(a).hoistableScripts,f=oo(n),m=l.get(f);m||(m=a.querySelector(zl(f)),m||(n=_({src:n,async:!0,type:"module"},i),(i=jn.get(f))&&Am(n,i),m=a.createElement("script"),gt(m),Gt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function z_(n,i,a,l){var f=(f=Ae.current)?Zc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=sn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ao(a.href);var m=sn(f).hoistableStyles,b=m.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=f.querySelector(Bl(n)))&&!m._p&&(b.instance=m,b.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),m||qA(f,n,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=sn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ao(n){return'href="'+Tt(n)+'"'}function Bl(n){return'link[rel="stylesheet"]['+n+"]"}function q_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function qA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),gt(i),n.head.appendChild(i))}function oo(n){return'[src="'+Tt(n)+'"]'}function zl(n){return"script[async]"+n}function F_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,gt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Gt(l,"style",f),Jc(l,a.precedence,n),i.instance=l;case"stylesheet":f=ao(a.href);var m=n.querySelector(Bl(f));if(m)return i.state.loading|=4,i.instance=m,gt(m),m;l=q_(a),(f=jn.get(f))&&Sm(l,f),m=(n.ownerDocument||n).createElement("link"),gt(m);var b=m;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Gt(m,"link",l),i.state.loading|=4,Jc(m,a.precedence,n),i.instance=m;case"script":return m=oo(a.src),(f=n.querySelector(zl(m)))?(i.instance=f,gt(f),f):(l=a,(f=jn.get(m))&&(l=_({},a),Am(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),gt(f),Gt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jc(l,a.precedence,n));return i.instance}function Jc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Sm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Am(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var eh=null;function H_(n,i,a){if(eh===null){var l=new Map,f=eh=new Map;f.set(a,l)}else f=eh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Es]||m[Ct]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=n+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function G_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function FA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ql=null;function HA(){}function GA(n,i,a){if(ql===null)throw Error(s(475));var l=ql;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ao(a.href),m=n.querySelector(Bl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=th.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,gt(m);return}m=n.ownerDocument||n,a=q_(a),(f=jn.get(f))&&Sm(a,f),m=m.createElement("link"),gt(m);var b=m;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Gt(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=th.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function $A(){if(ql===null)throw Error(s(475));var n=ql;return n.stylesheets&&n.count===0&&Rm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Rm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)Rm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var nh=null;function Rm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,nh=new Map,i.forEach(KA,n),nh=null,th.call(n))}function KA(n,i){if(!(i.state.loading&4)){var a=nh.get(n);if(a)var l=a.get(null);else{a=new Map,nh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=i.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=th.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Fl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function QA(n,i,a,l,f,m,b,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function K_(n,i,a,l,f,m,b,w,D,G,W,te){return n=new QA(n,i,a,b,w,D,G,te),i=1,m===!0&&(i|=24),m=bn(3,null,null,i),n.current=m,m.stateNode=n,i=od(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},hd(m),n}function Q_(n){return n?(n=Ua,n):Ua}function Y_(n,i,a,l,f,m){f=Q_(f),l.context===null?l.context=f:l.pendingContext=f,l=Ai(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ri(n,l,i),a!==null&&(An(a,n,i),vl(a,n,i))}function X_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function xm(n,i){X_(n,i),(n=n.alternate)&&X_(n,i)}function W_(n){if(n.tag===13){var i=La(n,67108864);i!==null&&An(i,n,67108864),xm(n,67108864)}}var rh=!0;function YA(n,i,a,l){var f=X.T;X.T=null;var m=oe.p;try{oe.p=2,Cm(n,i,a,l)}finally{oe.p=m,X.T=f}}function XA(n,i,a,l){var f=X.T;X.T=null;var m=oe.p;try{oe.p=8,Cm(n,i,a,l)}finally{oe.p=m,X.T=f}}function Cm(n,i,a,l){if(rh){var f=Im(l);if(f===null)pm(n,i,l,ih,a),J_(n,l);else if(ZA(f,n,i,a,l))l.stopPropagation();else if(J_(n,l),i&4&&-1<WA.indexOf(n)){for(;f!==null;){var m=ir(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Hn(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-Yt(b);w.entanglements[1]|=D,b&=~D}_r(m),(Ke&6)===0&&(zc=xn()+500,Vl(0))}}break;case 13:w=La(m,2),w!==null&&An(w,m,2),Fc(),xm(m,2)}if(m=Im(l),m===null&&pm(n,i,l,ih,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else pm(n,i,l,null,a)}}function Im(n){return n=Nn(n),Nm(n)}var ih=null;function Nm(n){if(ih=null,n=Pr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ih=n,null}function Z_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kf()){case zo:return 2;case ga:return 8;case gs:case Pf:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Dm=!1,ji=null,Bi=null,zi=null,Hl=new Map,Gl=new Map,qi=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(n,i){switch(n){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(i.pointerId)}}function $l(n,i,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ir(i),i!==null&&W_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function ZA(n,i,a,l,f){switch(i){case"focusin":return ji=$l(ji,n,i,a,l,f),!0;case"dragenter":return Bi=$l(Bi,n,i,a,l,f),!0;case"mouseover":return zi=$l(zi,n,i,a,l,f),!0;case"pointerover":var m=f.pointerId;return Hl.set(m,$l(Hl.get(m)||null,n,i,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Gl.set(m,$l(Gl.get(m)||null,n,i,a,l,f)),!0}return!1}function ev(n){var i=Pr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Fu(n.priority,function(){if(a.tag===13){var l=Sn();l=gi(l);var f=La(a,l);f!==null&&An(f,a,l),xm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Im(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ur=l,a.target.dispatchEvent(l),Ur=null}else return i=ir(a),i!==null&&W_(i),n.blockedOn=a,!1;i.shift()}return!0}function tv(n,i,a){sh(n)&&a.delete(i)}function JA(){Dm=!1,ji!==null&&sh(ji)&&(ji=null),Bi!==null&&sh(Bi)&&(Bi=null),zi!==null&&sh(zi)&&(zi=null),Hl.forEach(tv),Gl.forEach(tv)}function ah(n,i){n.blockedOn===i&&(n.blockedOn=null,Dm||(Dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JA)))}var oh=null;function nv(n){oh!==n&&(oh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oh===n&&(oh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var m=ir(a);m!==null&&(n.splice(i,3),i-=3,Nd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Kl(n){function i(D){return ah(D,n)}ji!==null&&ah(ji,n),Bi!==null&&ah(Bi,n),zi!==null&&ah(zi,n),Hl.forEach(i),Gl.forEach(i);for(var a=0;a<qi.length;a++){var l=qi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<qi.length&&(a=qi[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&qi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[Et]||null;if(typeof m=="function")b||nv(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[Et]||null)w=b.formAction;else if(Nm(f)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),nv(a)}}}function Om(n){this._internalRoot=n}lh.prototype.render=Om.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();Y_(a,l,n,i,null,null)},lh.prototype.unmount=Om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Y_(n.current,2,null,n,null,null),Fc(),i[Cn]=null}};function lh(n){this._internalRoot=n}lh.prototype.unstable_scheduleHydration=function(n){if(n){var i=yi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<qi.length&&i!==0&&i<qi[a].priority;a++);qi.splice(a,0,n),a===0&&ev(n)}};var rv=e.version;if(rv!=="19.1.0")throw Error(s(527,rv,"19.1.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var e1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{ct=uh.inject(e1),$e=uh}catch{}}return Yl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=v0,m=b0,b=E0,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=K_(n,1,!1,null,null,a,l,f,m,b,w,null),n[Cn]=i.current,mm(n),new Om(i)},Yl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=v0,b=b0,w=E0,D=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=K_(n,1,!0,i,a??null,l,f,m,b,w,D,G),i.context=Q_(null),a=i.current,l=Sn(),l=gi(l),f=Ai(l),f.callback=null,Ri(a,f,l),a=l,i.current.lanes=a,kr(i,a),_r(i),n[Cn]=i.current,mm(n),new lh(i)},Yl.version="19.1.0",Yl}var dv;function h1(){if(dv)return Vm.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vm.exports=c1(),Vm.exports}var f1=h1();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mv="popstate";function d1(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return ap("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:cu(o)}return p1(e,t,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m1(){return Math.random().toString(36).substring(2,10)}function pv(r,e){return{usr:r.state,key:r.key,idx:e}}function ap(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:t,key:e&&e.key||s||m1()}}function cu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Co(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function p1(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function E(){d="POP";let x=_(),q=x==null?null:x-g;g=x,p&&p({action:d,location:L.location,delta:q})}function S(x,q){d="PUSH";let Z=ap(L.location,x,q);g=_()+1;let ie=pv(Z,g),de=L.createHref(Z);try{h.pushState(ie,"",de)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(de)}u&&p&&p({action:d,location:L.location,delta:1})}function I(x,q){d="REPLACE";let Z=ap(L.location,x,q);g=_();let ie=pv(Z,g),de=L.createHref(Z);h.replaceState(ie,"",de),u&&p&&p({action:d,location:L.location,delta:0})}function R(x){return g1(x)}let L={get action(){return d},get location(){return r(o,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,E),p=x,()=>{o.removeEventListener(mv,E),p=null}},createHref(x){return e(o,x)},createURL:R,encodeLocation(x){let q=R(x);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:I,go(x){return h.go(x)}};return L}function g1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function hE(r,e,t="/"){return y1(r,e,t,!1)}function y1(r,e,t,s){let o=typeof e=="string"?Co(e):e,u=li(o.pathname||"/",t);if(u==null)return null;let h=fE(r);_1(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=I1(u);d=x1(h[p],g,s)}return d}function fE(r,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ai([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:A1(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of dE(u.path))o(u,h,d)}),e}function dE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=dE(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function _1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:R1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var v1=/^:[\w-]+$/,b1=3,E1=2,T1=1,w1=10,S1=-2,gv=r=>r==="*";function A1(r,e){let t=r.split("/"),s=t.length;return t.some(gv)&&(s+=S1),e&&(s+=E1),t.filter(o=>!gv(o)).reduce((o,u)=>o+(v1.test(u)?b1:u===""?T1:w1),s)}function R1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function x1(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!E&&g&&t&&!s[s.length-1].route.index&&(E=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:ai([u,E.pathname]),pathnameBase:k1(ai([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=ai([u,E.pathnameBase]))}return h}function kh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=C1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:E},S)=>{if(_==="*"){let R=d[S]||"";h=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const I=d[S];return E&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function C1(r,e=!1,t=!0){Wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function I1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function N1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Co(r):r;return{pathname:t?t.startsWith("/")?t:D1(t,e):e,search:P1(s),hash:M1(o)}}function D1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Bm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fp(r){let e=O1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Hp(r,e,t,s=!1){let o;typeof r=="string"?o=Co(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let E=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}d=E>=0?e[E]:"/"}let p=N1(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ai=r=>r.join("/").replace(/\/\/+/g,"/"),k1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),P1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,M1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function V1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mE=["POST","PUT","PATCH","DELETE"];new Set(mE);var L1=["GET",...mE];new Set(L1);var Io=j.createContext(null);Io.displayName="DataRouter";var ef=j.createContext(null);ef.displayName="DataRouterState";j.createContext(!1);var pE=j.createContext({isTransitioning:!1});pE.displayName="ViewTransition";var U1=j.createContext(new Map);U1.displayName="Fetchers";var j1=j.createContext(null);j1.displayName="Await";var er=j.createContext(null);er.displayName="Navigation";var wu=j.createContext(null);wu.displayName="Location";var Cr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Gp=j.createContext(null);Gp.displayName="RouteError";function B1(r,{relative:e}={}){ot(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(er),{hash:o,pathname:u,search:h}=Au(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:ai([t,u])),s.createHref({pathname:d,search:h,hash:o})}function No(){return j.useContext(wu)!=null}function Ir(){return ot(No(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(wu).location}var gE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yE(r){j.useContext(er).static||j.useLayoutEffect(r)}function Su(){let{isDataRoute:r}=j.useContext(Cr);return r?J1():z1()}function z1(){ot(No(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Io),{basename:e,navigator:t}=j.useContext(er),{matches:s}=j.useContext(Cr),{pathname:o}=Ir(),u=JSON.stringify(Fp(s)),h=j.useRef(!1);return yE(()=>{h.current=!0}),j.useCallback((p,g={})=>{if(Wn(h.current,gE),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Hp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ai([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}j.createContext(null);function Au(r,{relative:e}={}){let{matches:t}=j.useContext(Cr),{pathname:s}=Ir(),o=JSON.stringify(Fp(t));return j.useMemo(()=>Hp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function q1(r,e){return _E(r,e)}function _E(r,e,t,s){ot(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(er),{matches:u}=j.useContext(Cr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let q=_&&_.path||"";vE(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=Ir(),S;if(e){let q=typeof e=="string"?Co(e):e;ot(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=E;let I=S.pathname||"/",R=I;if(g!=="/"){let q=g.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=hE(r,{pathname:R});Wn(_||L!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Wn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=K1(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:ai([g,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:ai([g,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,t,s);return e&&x?j.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},x):x}function F1(){let r=Z1(),e=V1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,h)}var H1=j.createElement(F1,null),G1=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(Cr.Provider,{value:this.props.routeContext},j.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $1({routeContext:r,match:e,children:t}){let s=j.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Cr.Provider,{value:r},t)}function K1(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:E}=t,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let E,S=!1,I=null,R=null;t&&(E=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||H1,h&&(d<0&&_===0?(vE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):d===_&&(S=!0,R=g.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,_+1)),x=()=>{let q;return E?q=I:S?q=R:g.route.Component?q=j.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,j.createElement($1,{match:g,routeContext:{outlet:p,matches:L,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?j.createElement(G1,{location:t.location,revalidation:t.revalidation,component:I,error:E,children:x(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):x()},null)}function $p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(r){let e=j.useContext(Io);return ot(e,$p(r)),e}function Y1(r){let e=j.useContext(ef);return ot(e,$p(r)),e}function X1(r){let e=j.useContext(Cr);return ot(e,$p(r)),e}function Kp(r){let e=X1(r),t=e.matches[e.matches.length-1];return ot(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function W1(){return Kp("useRouteId")}function Z1(){let r=j.useContext(Gp),e=Y1("useRouteError"),t=Kp("useRouteError");return r!==void 0?r:e.errors?.[t]}function J1(){let{router:r}=Q1("useNavigate"),e=Kp("useNavigate"),t=j.useRef(!1);return yE(()=>{t.current=!0}),j.useCallback(async(o,u={})=>{Wn(t.current,gE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var yv={};function vE(r,e,t){!e&&!yv[r]&&(yv[r]=!0,Wn(!1,t))}j.memo(eR);function eR({routes:r,future:e,state:t}){return _E(r,void 0,t,e)}function tR({to:r,replace:e,state:t,relative:s}){ot(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(er);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Cr),{pathname:h}=Ir(),d=Su(),p=Hp(r,Fp(u),h,s==="path"),g=JSON.stringify(p);return j.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function Xs(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ot(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Co(t));let{pathname:p="/",search:g="",hash:_="",state:E=null,key:S="default"}=t,I=j.useMemo(()=>{let R=li(p,h);return R==null?null:{location:{pathname:R,search:g,hash:_,state:E,key:S},navigationType:s}},[h,p,g,_,E,S,s]);return Wn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:j.createElement(er.Provider,{value:d},j.createElement(wu.Provider,{children:e,value:I}))}function rR({children:r,location:e}){return q1(op(r),e)}function op(r,e=[]){let t=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){t.push.apply(t,op(s.props.children,u));return}ot(s.type===Xs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=op(s.props.children,u)),t.push(h)}),t}var _h="get",vh="application/x-www-form-urlencoded";function tf(r){return r!=null&&typeof r.tagName=="string"}function iR(r){return tf(r)&&r.tagName.toLowerCase()==="button"}function sR(r){return tf(r)&&r.tagName.toLowerCase()==="form"}function aR(r){return tf(r)&&r.tagName.toLowerCase()==="input"}function oR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lR(r,e){return r.button===0&&(!e||e==="_self")&&!oR(r)}var ch=null;function uR(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var cR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(r){return r!=null&&!cR.has(r)?(Wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):r}function hR(r,e){let t,s,o,u,h;if(sR(r)){let d=r.getAttribute("action");s=d?li(d,e):null,t=r.getAttribute("method")||_h,o=zm(r.getAttribute("enctype"))||vh,u=new FormData(r)}else if(iR(r)||aR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?li(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||_h,o=zm(r.getAttribute("formenctype"))||zm(d.getAttribute("enctype"))||vh,u=new FormData(d,r),!uR()){let{name:g,type:_,value:E}=r;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,E)}}else{if(tf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_h,s=null,o=vh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fR(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&li(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function dR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pR(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await dR(u,t);return h.links?h.links():[]}return[]}));return vR(s.flat(1).filter(mR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _v(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function gR(r,e,{includeHydrateFallback:t}={}){return yR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yR(r){return[...new Set(r)]}function _R(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function vR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(_R(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function bE(){let r=j.useContext(Io);return Qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bR(){let r=j.useContext(ef);return Qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Yp=j.createContext(void 0);Yp.displayName="FrameworkContext";function EE(){let r=j.useContext(Yp);return Qp(r,"You must render this element inside a <HydratedRouter> element"),r}function ER(r,e){let t=j.useContext(Yp),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,S=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let L=q=>{q.forEach(Z=>{h(Z.isIntersecting)})},x=new IntersectionObserver(L,{threshold:.5});return S.current&&x.observe(S.current),()=>{x.disconnect()}}},[r]),j.useEffect(()=>{if(s){let L=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(L)}}},[s]);let I=()=>{o(!0)},R=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Xl(d,I),onBlur:Xl(p,R),onMouseEnter:Xl(g,I),onMouseLeave:Xl(_,R),onTouchStart:Xl(E,I)}]:[!1,S,{}]}function Xl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function TR({page:r,...e}){let{router:t}=bE(),s=j.useMemo(()=>hE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?j.createElement(SR,{page:r,matches:s,...e}):null}function wR(r){let{manifest:e,routeModules:t}=EE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return pR(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function SR({page:r,matches:e,...t}){let s=Ir(),{manifest:o,routeModules:u}=EE(),{basename:h}=bE(),{loaderData:d,matches:p}=bR(),g=j.useMemo(()=>_v(r,e,p,o,s,"data"),[r,e,p,o,s]),_=j.useMemo(()=>_v(r,e,p,o,s,"assets"),[r,e,p,o,s]),E=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let R=new Set,L=!1;if(e.forEach(q=>{let Z=o.routes[q.route.id];!Z||!Z.hasLoader||(!g.some(ie=>ie.route.id===q.route.id)&&q.route.id in d&&u[q.route.id]?.shouldRevalidate||Z.hasClientLoader?L=!0:R.add(q.route.id))}),R.size===0)return[];let x=fR(r,h,"data");return L&&R.size>0&&x.searchParams.set("_routes",e.filter(q=>R.has(q.route.id)).map(q=>q.route.id).join(",")),[x.pathname+x.search]},[h,d,s,o,g,e,r,u]),S=j.useMemo(()=>gR(_,o),[_,o]),I=wR(_);return j.createElement(j.Fragment,null,E.map(R=>j.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),S.map(R=>j.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),I.map(({key:R,link:L})=>j.createElement("link",{key:R,...L})))}function AR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TE&&(window.__reactRouterVersion="7.7.0")}catch{}function RR({basename:r,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=d1({window:t,v5Compat:!0}));let o=s.current,[u,h]=j.useState({action:o.action,location:o.location}),d=j.useCallback(p=>{j.startTransition(()=>h(p))},[h]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(nR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:E,...S},I){let{basename:R}=j.useContext(er),L=typeof g=="string"&&wE.test(g),x,q=!1;if(typeof g=="string"&&L&&(x=g,TE))try{let C=new URL(window.location.href),V=g.startsWith("//")?new URL(C.protocol+g):new URL(g),M=li(V.pathname,R);V.origin===C.origin&&M!=null?g=M+V.search+V.hash:q=!0}catch{Wn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=B1(g,{relative:o}),[ie,de,le]=ER(s,S),_e=NR(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function P(C){e&&e(C),C.defaultPrevented||_e(C)}let N=j.createElement("a",{...S,...le,href:x||Z,onClick:q||u?e:P,ref:AR(I,de),target:p,"data-discover":!L&&t==="render"?"true":void 0});return ie&&!L?j.createElement(j.Fragment,null,N,j.createElement(TR,{page:Z})):N});ri.displayName="Link";var xR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let E=Au(h,{relative:g.relative}),S=Ir(),I=j.useContext(ef),{navigator:R,basename:L}=j.useContext(er),x=I!=null&&MR(E)&&d===!0,q=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,Z=S.pathname,ie=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),ie=ie?ie.toLowerCase():null,q=q.toLowerCase()),ie&&L&&(ie=li(ie,L)||ie);const de=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let le=Z===q||!o&&Z.startsWith(q)&&Z.charAt(de)==="/",_e=ie!=null&&(ie===q||!o&&ie.startsWith(q)&&ie.charAt(q.length)==="/"),P={isActive:le,isPending:_e,isTransitioning:x},N=le?e:void 0,C;typeof s=="function"?C=s(P):C=[s,le?"active":null,_e?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(P):u;return j.createElement(ri,{...g,"aria-current":N,className:C,ref:_,style:V,to:h,viewTransition:d},typeof p=="function"?p(P):p)});xR.displayName="NavLink";var CR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=_h,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:E,...S},I)=>{let R=kR(),L=PR(d,{relative:g}),x=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&wE.test(d),Z=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let de=ie.nativeEvent.submitter,le=de?.getAttribute("formmethod")||h;R(de||ie.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:E})};return j.createElement("form",{ref:I,method:x,action:L,onSubmit:s?p:Z,...S,"data-discover":!q&&r==="render"?"true":void 0})});CR.displayName="Form";function IR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(r){let e=j.useContext(Io);return ot(e,IR(r)),e}function NR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Su(),p=Ir(),g=Au(r,{relative:u});return j.useCallback(_=>{if(lR(_,e)){_.preventDefault();let E=t!==void 0?t:cu(p)===cu(g);d(r,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,r,o,u,h])}var DR=0,OR=()=>`__${String(++DR)}__`;function kR(){let{router:r}=SE("useSubmit"),{basename:e}=j.useContext(er),t=W1();return j.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=hR(s,e);if(o.navigate===!1){let _=o.fetcherKey||OR();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function PR(r,{relative:e}={}){let{basename:t}=j.useContext(er),s=j.useContext(Cr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(r||".",{relative:e})},h=Ir();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ai([t,u.pathname])),cu(u)}function MR(r,e={}){let t=j.useContext(pE);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=SE("useViewTransitionState"),o=Au(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=li(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=li(t.nextLocation.pathname,s)||t.nextLocation.pathname;return kh(o.pathname,h)!=null||kh(o.pathname,u)!=null}const VR=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},LR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,I=g&63;p||(I=64,h||(S=64)),s.push(t[_],t[E],t[S],t[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(AE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const E=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new UR;const S=u<<2|d>>4;if(s.push(S),g!==64){const I=d<<4&240|g>>2;if(s.push(I),E!==64){const R=g<<6&192|E;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class UR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jR=function(r){const e=AE(r);return RE.encodeByteArray(e,!0)},Ph=function(r){return jR(r).replace(/\./g,"")},xE=function(r){try{return RE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=()=>BR().__FIREBASE_DEFAULTS__,qR=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xE(r[1]);return e&&JSON.parse(e)},nf=()=>{try{return VR()||zR()||qR()||FR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CE=r=>nf()?.emulatorHosts?.[r],HR=r=>{const e=CE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},IE=()=>nf()?.config,NE=r=>nf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(t)),Ph(JSON.stringify(h)),""].join(".")}const iu={};function KR(){const r={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?r.emulator.push(e):r.prod.push(e);return r}function QR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let bv=!1;function OE(r,e){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||iu[r]===e||iu[r]||bv)return;iu[r]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=KR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{bv=!0,h()},S}function _(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=QR(s),I=t("text"),R=document.getElementById(I)||document.createElement("span"),L=t("learnmore"),x=document.getElementById(L)||document.createElement("a"),q=t("preprendIcon"),Z=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;d(ie),_(x,L);const de=g();p(Z,q),ie.append(Z,R,x,de),document.body.appendChild(ie)}u?(R.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function XR(){const r=nf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function JR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ex(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tx(){return!XR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nx(){try{return typeof indexedDB=="object"}catch{return!1}}function rx(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="FirebaseError";class di extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=ix,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?sx(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new di(o,d,s)}}function sx(r,e){return r.replace(ax,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ax=/\{\$([^}]+)}/g;function ox(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Ev(u)&&Ev(h)){if(!na(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function lx(r,e){const t=new ux(r,e);return t.subscribe.bind(t)}class ux{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");cx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cx(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new GR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dx(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fx(r){return r===Ws?void 0:r}function dx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const px={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},gx=Me.INFO,yx={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},_x=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=yx[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=gx,this._logHandler=_x,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?px[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const vx=(r,e)=>e.some(t=>r instanceof t);let Tv,wv;function bx(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ex(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,lp=new WeakMap,PE=new WeakMap,Fm=new WeakMap,Wp=new WeakMap;function Tx(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Wi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&kE.set(t,r)}).catch(()=>{}),Wp.set(e,r),e}function wx(r){if(lp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});lp.set(r,e)}let up={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return lp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||PE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Sx(r){up=r(up)}function Ax(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Hm(this),e,...t);return PE.set(s,e.sort?e.sort():[e]),Wi(s)}:Ex().includes(r)?function(...e){return r.apply(Hm(this),e),Wi(kE.get(this))}:function(...e){return Wi(r.apply(Hm(this),e))}}function Rx(r){return typeof r=="function"?Ax(r):(r instanceof IDBTransaction&&wx(r),vx(r,bx())?new Proxy(r,up):r)}function Wi(r){if(r instanceof IDBRequest)return Tx(r);if(Fm.has(r))return Fm.get(r);const e=Rx(r);return e!==r&&(Fm.set(r,e),Wp.set(e,r)),e}const Hm=r=>Wp.get(r);function xx(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=Wi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Wi(h.result),p.oldVersion,p.newVersion,Wi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Cx=["get","getKey","getAll","getAllKeys","count"],Ix=["put","add","delete","clear"],Gm=new Map;function Sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Ix.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Cx.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Gm.set(e,u),u}Sx(r=>({...r,get:(e,t,s)=>Sv(e,t)||r.get(e,t,s),has:(e,t)=>!!Sv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Dx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Dx(r){return r.getComponent()?.type==="VERSION"}const cp="@firebase/app",Av="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Xp("@firebase/app"),Ox="@firebase/app-compat",kx="@firebase/analytics-compat",Px="@firebase/analytics",Mx="@firebase/app-check-compat",Vx="@firebase/app-check",Lx="@firebase/auth",Ux="@firebase/auth-compat",jx="@firebase/database",Bx="@firebase/data-connect",zx="@firebase/database-compat",qx="@firebase/functions",Fx="@firebase/functions-compat",Hx="@firebase/installations",Gx="@firebase/installations-compat",$x="@firebase/messaging",Kx="@firebase/messaging-compat",Qx="@firebase/performance",Yx="@firebase/performance-compat",Xx="@firebase/remote-config",Wx="@firebase/remote-config-compat",Zx="@firebase/storage",Jx="@firebase/storage-compat",e2="@firebase/firestore",t2="@firebase/ai",n2="@firebase/firestore-compat",r2="firebase",i2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",s2={[cp]:"fire-core",[Ox]:"fire-core-compat",[Px]:"fire-analytics",[kx]:"fire-analytics-compat",[Vx]:"fire-app-check",[Mx]:"fire-app-check-compat",[Lx]:"fire-auth",[Ux]:"fire-auth-compat",[jx]:"fire-rtdb",[Bx]:"fire-data-connect",[zx]:"fire-rtdb-compat",[qx]:"fire-fn",[Fx]:"fire-fn-compat",[Hx]:"fire-iid",[Gx]:"fire-iid-compat",[$x]:"fire-fcm",[Kx]:"fire-fcm-compat",[Qx]:"fire-perf",[Yx]:"fire-perf-compat",[Xx]:"fire-rc",[Wx]:"fire-rc-compat",[Zx]:"fire-gcs",[Jx]:"fire-gcs-compat",[e2]:"fire-fst",[n2]:"fire-fst-compat",[t2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,a2=new Map,fp=new Map;function Rv(r,e){try{r.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function bo(r){const e=r.name;if(fp.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,r);for(const t of Mh.values())Rv(t,r);for(const t of a2.values())Rv(t,r);return!0}function Zp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Ru("app","Firebase",o2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=i2;function ME(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:hp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zi.create("bad-app-name",{appName:String(o)});if(t||(t=IE()),!t)throw Zi.create("no-options");const u=Mh.get(o);if(u){if(na(t,u.options)&&na(s,u.config))return u;throw Zi.create("duplicate-app",{appName:o})}const h=new mx(o);for(const p of fp.values())h.addComponent(p);const d=new l2(t,s,h);return Mh.set(o,d),d}function VE(r=hp){const e=Mh.get(r);if(!e&&r===hp&&IE())return ME();if(!e)throw Zi.create("no-app",{appName:r});return e}function Ji(r,e,t){let s=s2[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(h.join(" "));return}bo(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="firebase-heartbeat-database",c2=1,hu="firebase-heartbeat-store";let $m=null;function LE(){return $m||($m=xx(u2,c2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Zi.create("idb-open",{originalErrorMessage:r.message})})),$m}async function h2(r){try{const t=(await LE()).transaction(hu),s=await t.objectStore(hu).get(UE(r));return await t.done,s}catch(e){if(e instanceof di)ui.warn(e.message);else{const t=Zi.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}}async function xv(r,e){try{const s=(await LE()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,UE(r)),await s.done}catch(t){if(t instanceof di)ui.warn(t.message);else{const s=Zi.create("idb-set",{originalErrorMessage:t?.message});ui.warn(s.message)}}}function UE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1024,d2=30;class m2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new g2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>d2){const o=y2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:t,unsentEntries:s}=p2(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ui.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function p2(r,e=f2){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Iv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class g2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nx()?rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await h2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Iv(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function y2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(r){bo(new ra("platform-logger",e=>new Nx(e),"PRIVATE")),bo(new ra("heartbeat",e=>new m2(e),"PRIVATE")),Ji(cp,Av,r),Ji(cp,Av,"esm2020"),Ji("fire-js","")}_2("");var v2="firebase",b2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(v2,b2,"app");function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E2=jE,BE=new Ru("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Xp("@firebase/auth");function T2(r,...e){Vh.logLevel<=Me.WARN&&Vh.warn(`Auth (${Oo}): ${r}`,...e)}function bh(r,...e){Vh.logLevel<=Me.ERROR&&Vh.error(`Auth (${Oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(r,...e){throw Jp(r,...e)}function Er(r,...e){return Jp(r,...e)}function zE(r,e,t){const s={...E2(),[e]:t};return new Ru("auth","Firebase",s).create(e,{appName:r.name})}function oi(r){return zE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return BE.create(r,...e)}function Te(r,e,...t){if(!r)throw Jp(e,...t)}function ii(r){const e="INTERNAL ASSERTION FAILED: "+r;throw bh(e),new Error(e)}function ci(r,e){r||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return typeof self<"u"&&self.location?.href||""}function w2(){return Nv()==="http:"||Nv()==="https:"}function Nv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w2()||ZR()||"connection"in navigator)?navigator.onLine:!0}function A2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=YR()||JR()}get(){return S2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(r,e){ci(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C2=new Cu(3e4,6e4);function cs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Nr(r,e,t,s,o={}){return FE(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=xu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return WR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Do(r.emulatorConfig.host)&&(g.credentials="include"),qE.fetch()(await HE(r,r.config.apiHost,t,d),g)})}async function FE(r,e,t){r._canInitEmulator=!1;const s={...R2,...e};try{const o=new N2(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw zE(r,_,g);Zn(r,_)}}catch(o){if(o instanceof di)throw o;Zn(r,"network-request-failed",{message:String(o)})}}async function Iu(r,e,t,s,o={}){const u=await Nr(r,e,t,s,o);return"mfaPendingCredential"in u&&Zn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function HE(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?eg(r.config,o):`${r.config.apiScheme}://${o}`;return x2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function I2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Er(this.auth,"network-request-failed")),C2.get())})}}function hh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Er(r,e,s);return o.customData._tokenResponse=t,o}function Dv(r){return r!==void 0&&r.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return I2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O2(r,e){return Nr(r,"GET","/v2/recaptchaConfig",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(r,e){return Nr(r,"POST","/v1/accounts:delete",e)}async function Lh(r,e){return Nr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(r,e=!1){const t=mt(r),s=await t.getIdToken(e),o=tg(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:su(Km(o.auth_time)),issuedAtTime:su(Km(o.iat)),expirationTime:su(Km(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Km(r){return Number(r)*1e3}function tg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=xE(t);return o?JSON.parse(o):(bh("Failed to decode base64 JWT payload"),null)}catch(o){return bh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ov(r){const e=tg(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof di&&M2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function M2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(r){const e=r.auth,t=await r.getIdToken(),s=await ia(r,Lh(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?GE(o.providerUserInfo):[],h=U2(r.providerData,u),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function L2(r){const e=mt(r);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function GE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e){const t=await FE(r,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await HE(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&Do(r.emulatorConfig.host)&&(p.credentials="include"),qE.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B2(r,e){return Nr(r,"POST","/v2/accounts:revokeToken",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Ov(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await j2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new po;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new V2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ia(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return P2(this,e)}reload(){return L2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await ia(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:I,providerData:R,stsTokenManager:L}=t;Te(E&&L,e,"internal-error");const x=po.fromJSON(this.name,L);Te(typeof E=="string",e,"internal-error"),Hi(s,e.name),Hi(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof I=="boolean",e,"internal-error"),Hi(u,e.name),Hi(h,e.name),Hi(d,e.name),Hi(p,e.name),Hi(g,e.name),Hi(_,e.name);const q=new Xn({uid:E,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:x,createdAt:g,lastLoginAt:_});return R&&Array.isArray(R)&&(q.providerData=R.map(Z=>({...Z}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,t,s=!1){const o=new po;o.updateFromServerResponse(t);const u=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new po;d.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function si(r){ci(r instanceof Function,"Expected a class definition");let e=kv.get(r);return e?(ci(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,kv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$E.type="NONE";const Pv=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r,e,t){return`firebase:${r}:${e}:${t}`}class go{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lh(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new go(si(Pv),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||si(Pv);const h=Eh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let E;if(typeof _=="string"){const S=await Lh(e,{idToken:_}).catch(()=>{});if(!S)break;E=await Xn._fromGetAccountInfoResponse(e,S,_)}else E=Xn._fromJSON(e,_);g!==u&&(d=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new go(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new go(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZE(e))return"Blackberry";if(JE(e))return"Webos";if(QE(e))return"Safari";if((e.includes("chrome/")||YE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function KE(r=rn()){return/firefox\//i.test(r)}function QE(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YE(r=rn()){return/crios\//i.test(r)}function XE(r=rn()){return/iemobile/i.test(r)}function WE(r=rn()){return/android/i.test(r)}function ZE(r=rn()){return/blackberry/i.test(r)}function JE(r=rn()){return/webos/i.test(r)}function ng(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function z2(r=rn()){return ng(r)&&!!window.navigator?.standalone}function q2(){return ex()&&document.documentMode===10}function eT(r=rn()){return ng(r)||WE(r)||JE(r)||ZE(r)||/windows phone/i.test(r)||XE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,e=[]){let t;switch(r){case"Browser":t=Mv(rn());break;case"Worker":t=`${Mv(rn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(r,e={}){return Nr(r,"GET","/v2/passwordPolicy",cs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=6;class $2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??G2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new F2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=si(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(oi(this));const t=e?mt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H2(this),t=new $2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await B2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&si(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&T2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(r){return mt(r)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=lx(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q2(r){rf=r}function nT(r){return rf.loadJS(r)}function Y2(){return rf.recaptchaEnterpriseScript}function X2(){return rf.gapiScript}function W2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Z2{constructor(){this.enterprise=new J2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class J2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eC="recaptcha-enterprise",rT="NO_RECAPTCHA";class tC{constructor(e){this.type=eC,this.auth=ca(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{O2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new D2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;Dv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(rT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&Dv(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Y2();p.length!==0&&(p+=d),nT(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function Lv(r,e,t,s=!1,o=!1){const u=new tC(r);let h;if(o)h=rT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function pp(r,e,t,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Lv(r,e,t,t==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Lv(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(r,e){const t=Zp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(na(u,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function rC(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(si);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function iC(r,e,t){const s=ca(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=iT(e),{host:h,port:d}=sC(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(na(g,s.config.emulator)&&na(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Do(h)?(DE(`${u}//${h}${p}`),OE("Auth",!0)):aC()}function iT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function sC(r){const e=iT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Uv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Uv(h)}}}function Uv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function aC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function oC(r,e){return Nr(r,"POST","/v1/accounts:update",e)}async function lC(r,e){return Nr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,e){return Iu(r,"POST","/v1/accounts:signInWithPassword",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,e){return Iu(r,"POST","/v1/accounts:signInWithEmailLink",cs(r,e))}async function hC(r,e){return Iu(r,"POST","/v1/accounts:signInWithEmailLink",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends rg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new fu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new fu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,t,"signInWithPassword",uC);case"emailLink":return cC(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,s,"signUpPassword",lC);case"emailLink":return hC(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(r,e){return Iu(r,"POST","/v1/accounts:signInWithIdp",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="http://localhost";class sa extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return yo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,yo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yo(e,t)}buildRequest(){const e={requestUri:fC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mC(r){const e=Zl(Jl(r)).link,t=e?Zl(Jl(e)).deep_link_id:null,s=Zl(Jl(r)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||t||e||r}class ig{constructor(e){const t=Zl(Jl(e)),s=t.apiKey??null,o=t.oobCode??null,u=dC(t.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=mC(e);try{return new ig(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,t){return fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ig.parseLink(t);return Te(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends sT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Nu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sa._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return $i.credential(t,s)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Nu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Nu{constructor(){super("twitter.com")}static credential(e,t){return sa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Qi.credential(t,s)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e){return Iu(r,"POST","/v1/accounts:signUp",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),h=jv(s);return new aa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=jv(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function jv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends di{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new jh(e,t,s,o)}}function aT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,u,e,s):u})}async function gC(r,e,t=!1){const s=await ia(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return aa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(r,e,t=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(oi(s));const o="reauthenticate";try{const u=await ia(r,aT(s,o,e,r),t);Te(u.idToken,s,"internal-error");const h=tg(u.idToken);Te(h,s,"internal-error");const{sub:d}=h;return Te(r.uid===d,s,"user-mismatch"),aa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lT(r,e,t=!1){if(Bn(r.app))return Promise.reject(oi(r));const s="signIn",o=await aT(r,s,e),u=await aa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function yC(r,e){return lT(ca(r),e)}async function _C(r,e){return oT(mt(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vC(r,e,t){if(Bn(r.app))return Promise.reject(oi(r));const s=ca(r),h=await pp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&uT(r),p}),d=await aa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function bC(r,e,t){return Bn(r.app)?Promise.reject(oi(r)):yC(mt(r),ha.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&uT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,e){return Nr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=mt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await ia(s,EC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function wC(r,e){return SC(mt(r),null,e)}async function SC(r,e,t){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(u.password=t);const h=await ia(r,oC(s,u));await r._updateTokensIfNecessary(h,!0)}function AC(r,e,t,s){return mt(r).onIdTokenChanged(e,t,s)}function RC(r,e,t){return mt(r).beforeAuthStateChanged(e,t)}function xC(r,e,t,s){return mt(r).onAuthStateChanged(e,t,s)}function CC(r){return mt(r).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1e3,NC=10;class hT extends cT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);q2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hT.type="LOCAL";const DC=hT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends cT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fT.type="SESSION";const dT=fT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await OC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=sg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function PC(r){Tr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function MC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function LC(){return mT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebaseLocalStorageDb",UC=1,zh="firebaseLocalStorage",gT="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function af(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function jC(){const r=indexedDB.deleteDatabase(pT);return new Du(r).toPromise()}function gp(){const r=indexedDB.open(pT,UC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:gT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await jC(),e(await gp()))})})}async function Bv(r,e,t){const s=af(r,!0).put({[gT]:e,value:t});return new Du(s).toPromise()}async function BC(r,e){const t=af(r,!1).get(e),s=await new Du(t).toPromise();return s===void 0?null:s.value}function zv(r,e){const t=af(r,!0).delete(e);return new Du(t).toPromise()}const zC=800,qC=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>qC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(LC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new kC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await Bv(e,Bh,"1"),await zv(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>BC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=af(o,!1).getAll();return new Du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const FC=yT;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r,e){return e?si(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GC(r){return lT(r.auth,new ag(r),r.bypassAuthState)}function $C(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),oT(t,new ag(r),r.bypassAuthState)}async function KC(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),gC(t,new ag(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return KC;case"reauthViaPopup":case"reauthViaRedirect":return $C;default:Zn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Cu(2e3,1e4);class mo extends _T{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QC.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="pendingRedirect",Th=new Map;class XC extends _T{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(r,e){const t=eI(e),s=JC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function ZC(r,e){Th.set(r._key(),e)}function JC(r){return si(r._redirectPersistence)}function eI(r){return Eh(YC,r.config.apiKey,r.name)}async function tI(r,e,t=!1){if(Bn(r.app))return Promise.reject(oi(r));const s=ca(r),o=HC(s,e),h=await new XC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=600*1e3;class rI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!vT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Er(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nI&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function vT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function iI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(r,e={}){return Nr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oI=/^https?/;async function lI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await sI(r);for(const t of e)try{if(uI(t))return}catch{}Zn(r,"unauthorized-domain")}function uI(r){const e=dp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!oI.test(t))return!1;if(aI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Cu(3e4,6e4);function Fv(){const r=Tr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function hI(r){return new Promise((e,t)=>{function s(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),t(Er(r,"network-request-failed"))},timeout:cI.get()})}if(Tr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tr().gapi?.load)s();else{const o=W2("iframefcb");return Tr()[o]=()=>{gapi.load?s():t(Er(r,"network-request-failed"))},nT(`${X2()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw wh=null,e})}let wh=null;function fI(r){return wh=wh||hI(r),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Cu(5e3,15e3),mI="__/auth/iframe",pI="emulator/auth/iframe",gI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _I(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?eg(e,pI):`https://${r.config.authDomain}/${mI}`,s={apiKey:e.apiKey,appName:r.name,v:Oo},o=yI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${xu(s).slice(1)}`}async function vI(r){const e=await fI(r),t=Tr().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:_I(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Er(r,"network-request-failed"),d=Tr().setTimeout(()=>{u(h)},dI.get());function p(){Tr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EI=500,TI=600,wI="_blank",SI="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AI(r,e,t,s=EI,o=TI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...bI,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();t&&(d=YE(g)?wI:t),KE(g)&&(e=e||SI,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[I,R])=>`${S}${I}=${R},`,"");if(z2(g)&&d!=="_self")return RI(e||"",d),new Hv(null);const E=window.open(e||"",d,_);Te(E,r,"popup-blocked");try{E.focus()}catch{}return new Hv(E)}function RI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="__/auth/handler",CI="emulator/auth/handler",II=encodeURIComponent("fac");async function Gv(r,e,t,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Oo,eventId:o};if(e instanceof sT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",ox(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof Nu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${II}=${encodeURIComponent(p)}`:"";return`${NI(r)}?${xu(d).slice(1)}${g}`}function NI({config:r}){return r.emulator?eg(r,CI):`https://${r.authDomain}/${xI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class DI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=tI,this._overrideRedirectResult=ZC}async _openPopup(e,t,s,o){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Gv(e,t,s,dp(),o);return AI(e,u,sg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Gv(e,t,s,dp(),o);return PC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ci(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await vI(e),s=new rI(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qm,{type:Qm},o=>{const u=o?.[0]?.[Qm];u!==void 0&&t(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eT()||QE()||ng()}}const OI=DI;var $v="@firebase/auth",Kv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MI(r){bo(new ra("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(r)},g=new K2(s,o,u,p);return rC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),bo(new ra("auth-internal",e=>{const t=ca(e.getProvider("auth").getImmediate());return(s=>new kI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji($v,Kv,PI(r)),Ji($v,Kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=300,LI=NE("authIdTokenMaxAge")||VI;let Qv=null;const UI=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>LI)return;const o=t?.token;Qv!==o&&(Qv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jI(r=VE()){const e=Zp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=nC(r,{popupRedirectResolver:OI,persistence:[FC,DC,dT]}),s=NE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=UI(u.toString());RC(t,h,()=>h(t.currentUser)),AC(t,d=>h(d))}}const o=CE("auth");return o&&iC(t,`http://${o}`),t}function BI(){return document.getElementsByTagName("head")?.[0]??document}Q2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Er("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",BI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MI("Browser");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,bT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function C(){}C.prototype=N.prototype,P.D=N.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(V,M,B){for(var O=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)O[pt-2]=arguments[pt];return N.prototype[M].apply(V,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,N,C){C||(C=0);var V=Array(16);if(typeof N=="string")for(var M=0;16>M;++M)V[M]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(M=0;16>M;++M)V[M]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=P.g[0],C=P.g[1],M=P.g[2];var B=P.g[3],O=N+(B^C&(M^B))+V[0]+3614090360&4294967295;N=C+(O<<7&4294967295|O>>>25),O=B+(M^N&(C^M))+V[1]+3905402710&4294967295,B=N+(O<<12&4294967295|O>>>20),O=M+(C^B&(N^C))+V[2]+606105819&4294967295,M=B+(O<<17&4294967295|O>>>15),O=C+(N^M&(B^N))+V[3]+3250441966&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(B^C&(M^B))+V[4]+4118548399&4294967295,N=C+(O<<7&4294967295|O>>>25),O=B+(M^N&(C^M))+V[5]+1200080426&4294967295,B=N+(O<<12&4294967295|O>>>20),O=M+(C^B&(N^C))+V[6]+2821735955&4294967295,M=B+(O<<17&4294967295|O>>>15),O=C+(N^M&(B^N))+V[7]+4249261313&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(B^C&(M^B))+V[8]+1770035416&4294967295,N=C+(O<<7&4294967295|O>>>25),O=B+(M^N&(C^M))+V[9]+2336552879&4294967295,B=N+(O<<12&4294967295|O>>>20),O=M+(C^B&(N^C))+V[10]+4294925233&4294967295,M=B+(O<<17&4294967295|O>>>15),O=C+(N^M&(B^N))+V[11]+2304563134&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(B^C&(M^B))+V[12]+1804603682&4294967295,N=C+(O<<7&4294967295|O>>>25),O=B+(M^N&(C^M))+V[13]+4254626195&4294967295,B=N+(O<<12&4294967295|O>>>20),O=M+(C^B&(N^C))+V[14]+2792965006&4294967295,M=B+(O<<17&4294967295|O>>>15),O=C+(N^M&(B^N))+V[15]+1236535329&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(M^B&(C^M))+V[1]+4129170786&4294967295,N=C+(O<<5&4294967295|O>>>27),O=B+(C^M&(N^C))+V[6]+3225465664&4294967295,B=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(B^N))+V[11]+643717713&4294967295,M=B+(O<<14&4294967295|O>>>18),O=C+(B^N&(M^B))+V[0]+3921069994&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(M^B&(C^M))+V[5]+3593408605&4294967295,N=C+(O<<5&4294967295|O>>>27),O=B+(C^M&(N^C))+V[10]+38016083&4294967295,B=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(B^N))+V[15]+3634488961&4294967295,M=B+(O<<14&4294967295|O>>>18),O=C+(B^N&(M^B))+V[4]+3889429448&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(M^B&(C^M))+V[9]+568446438&4294967295,N=C+(O<<5&4294967295|O>>>27),O=B+(C^M&(N^C))+V[14]+3275163606&4294967295,B=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(B^N))+V[3]+4107603335&4294967295,M=B+(O<<14&4294967295|O>>>18),O=C+(B^N&(M^B))+V[8]+1163531501&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(M^B&(C^M))+V[13]+2850285829&4294967295,N=C+(O<<5&4294967295|O>>>27),O=B+(C^M&(N^C))+V[2]+4243563512&4294967295,B=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(B^N))+V[7]+1735328473&4294967295,M=B+(O<<14&4294967295|O>>>18),O=C+(B^N&(M^B))+V[12]+2368359562&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(C^M^B)+V[5]+4294588738&4294967295,N=C+(O<<4&4294967295|O>>>28),O=B+(N^C^M)+V[8]+2272392833&4294967295,B=N+(O<<11&4294967295|O>>>21),O=M+(B^N^C)+V[11]+1839030562&4294967295,M=B+(O<<16&4294967295|O>>>16),O=C+(M^B^N)+V[14]+4259657740&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(C^M^B)+V[1]+2763975236&4294967295,N=C+(O<<4&4294967295|O>>>28),O=B+(N^C^M)+V[4]+1272893353&4294967295,B=N+(O<<11&4294967295|O>>>21),O=M+(B^N^C)+V[7]+4139469664&4294967295,M=B+(O<<16&4294967295|O>>>16),O=C+(M^B^N)+V[10]+3200236656&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(C^M^B)+V[13]+681279174&4294967295,N=C+(O<<4&4294967295|O>>>28),O=B+(N^C^M)+V[0]+3936430074&4294967295,B=N+(O<<11&4294967295|O>>>21),O=M+(B^N^C)+V[3]+3572445317&4294967295,M=B+(O<<16&4294967295|O>>>16),O=C+(M^B^N)+V[6]+76029189&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(C^M^B)+V[9]+3654602809&4294967295,N=C+(O<<4&4294967295|O>>>28),O=B+(N^C^M)+V[12]+3873151461&4294967295,B=N+(O<<11&4294967295|O>>>21),O=M+(B^N^C)+V[15]+530742520&4294967295,M=B+(O<<16&4294967295|O>>>16),O=C+(M^B^N)+V[2]+3299628645&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(M^(C|~B))+V[0]+4096336452&4294967295,N=C+(O<<6&4294967295|O>>>26),O=B+(C^(N|~M))+V[7]+1126891415&4294967295,B=N+(O<<10&4294967295|O>>>22),O=M+(N^(B|~C))+V[14]+2878612391&4294967295,M=B+(O<<15&4294967295|O>>>17),O=C+(B^(M|~N))+V[5]+4237533241&4294967295,C=M+(O<<21&4294967295|O>>>11),O=N+(M^(C|~B))+V[12]+1700485571&4294967295,N=C+(O<<6&4294967295|O>>>26),O=B+(C^(N|~M))+V[3]+2399980690&4294967295,B=N+(O<<10&4294967295|O>>>22),O=M+(N^(B|~C))+V[10]+4293915773&4294967295,M=B+(O<<15&4294967295|O>>>17),O=C+(B^(M|~N))+V[1]+2240044497&4294967295,C=M+(O<<21&4294967295|O>>>11),O=N+(M^(C|~B))+V[8]+1873313359&4294967295,N=C+(O<<6&4294967295|O>>>26),O=B+(C^(N|~M))+V[15]+4264355552&4294967295,B=N+(O<<10&4294967295|O>>>22),O=M+(N^(B|~C))+V[6]+2734768916&4294967295,M=B+(O<<15&4294967295|O>>>17),O=C+(B^(M|~N))+V[13]+1309151649&4294967295,C=M+(O<<21&4294967295|O>>>11),O=N+(M^(C|~B))+V[4]+4149444226&4294967295,N=C+(O<<6&4294967295|O>>>26),O=B+(C^(N|~M))+V[11]+3174756917&4294967295,B=N+(O<<10&4294967295|O>>>22),O=M+(N^(B|~C))+V[2]+718787259&4294967295,M=B+(O<<15&4294967295|O>>>17),O=C+(B^(M|~N))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+B&4294967295}s.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var C=N-this.blockSize,V=this.B,M=this.h,B=0;B<N;){if(M==0)for(;B<=C;)o(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<N;)if(V[M++]=P.charCodeAt(B++),M==this.blockSize){o(this,V),M=0;break}}else for(;B<N;)if(V[M++]=P[B++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=N},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var C=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=C&255,C/=256;for(this.u(P),P=Array(16),N=C=0;4>N;++N)for(var V=0;32>V;V+=8)P[C++]=this.g[N]>>>V&255;return P};function u(P,N){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=N(P)}function h(P,N){this.h=N;for(var C=[],V=!0,M=P.length-1;0<=M;M--){var B=P[M]|0;V&&B==N||(C[M]=B,V=!1)}this.g=C}var d={};function p(P){return-128<=P&&128>P?u(P,function(N){return new h([N|0],0>N?-1:0)}):new h([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return E;if(0>P)return x(g(-P));for(var N=[],C=1,V=0;P>=C;V++)N[V]=P/C|0,C*=4294967296;return new h(N,0)}function _(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return x(_(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(N,8)),V=E,M=0;M<P.length;M+=8){var B=Math.min(8,P.length-M),O=parseInt(P.substring(M,M+B),N);8>B?(B=g(Math.pow(N,B)),V=V.j(B).add(g(O))):(V=V.j(C),V=V.add(g(O)))}return V}var E=p(0),S=p(1),I=p(16777216);r=h.prototype,r.m=function(){if(L(this))return-x(this).m();for(var P=0,N=1,C=0;C<this.g.length;C++){var V=this.i(C);P+=(0<=V?V:4294967296+V)*N,N*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(L(this))return"-"+x(this).toString(P);for(var N=g(Math.pow(P,6)),C=this,V="";;){var M=de(C,N).g;C=q(C,M.j(N));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=M,R(C))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function L(P){return P.h==-1}r.l=function(P){return P=q(this,P),L(P)?-1:R(P)?0:1};function x(P){for(var N=P.g.length,C=[],V=0;V<N;V++)C[V]=~P.g[V];return new h(C,~P.h).add(S)}r.abs=function(){return L(this)?x(this):this},r.add=function(P){for(var N=Math.max(this.g.length,P.g.length),C=[],V=0,M=0;M<=N;M++){var B=V+(this.i(M)&65535)+(P.i(M)&65535),O=(B>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);V=O>>>16,B&=65535,O&=65535,C[M]=O<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(P,N){return P.add(x(N))}r.j=function(P){if(R(this)||R(P))return E;if(L(this))return L(P)?x(this).j(x(P)):x(x(this).j(P));if(L(P))return x(this.j(x(P)));if(0>this.l(I)&&0>P.l(I))return g(this.m()*P.m());for(var N=this.g.length+P.g.length,C=[],V=0;V<2*N;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<P.g.length;M++){var B=this.i(V)>>>16,O=this.i(V)&65535,pt=P.i(M)>>>16,it=P.i(M)&65535;C[2*V+2*M]+=O*it,Z(C,2*V+2*M),C[2*V+2*M+1]+=B*it,Z(C,2*V+2*M+1),C[2*V+2*M+1]+=O*pt,Z(C,2*V+2*M+1),C[2*V+2*M+2]+=B*pt,Z(C,2*V+2*M+2)}for(V=0;V<N;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=N;V<2*N;V++)C[V]=0;return new h(C,0)};function Z(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function ie(P,N){this.g=P,this.h=N}function de(P,N){if(R(N))throw Error("division by zero");if(R(P))return new ie(E,E);if(L(P))return N=de(x(P),N),new ie(x(N.g),x(N.h));if(L(N))return N=de(P,x(N)),new ie(x(N.g),N.h);if(30<P.g.length){if(L(P)||L(N))throw Error("slowDivide_ only works with positive integers.");for(var C=S,V=N;0>=V.l(P);)C=le(C),V=le(V);var M=_e(C,1),B=_e(V,1);for(V=_e(V,2),C=_e(C,2);!R(V);){var O=B.add(V);0>=O.l(P)&&(M=M.add(C),B=O),V=_e(V,1),C=_e(C,1)}return N=q(P,M.j(N)),new ie(M,N)}for(M=E;0<=P.l(N);){for(C=Math.max(1,Math.floor(P.m()/N.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=g(C),O=B.j(N);L(O)||0<O.l(P);)C-=V,B=g(C),O=B.j(N);R(B)&&(B=S),M=M.add(B),P=q(P,O)}return new ie(M,P)}r.A=function(P){return de(this,P).h},r.and=function(P){for(var N=Math.max(this.g.length,P.g.length),C=[],V=0;V<N;V++)C[V]=this.i(V)&P.i(V);return new h(C,this.h&P.h)},r.or=function(P){for(var N=Math.max(this.g.length,P.g.length),C=[],V=0;V<N;V++)C[V]=this.i(V)|P.i(V);return new h(C,this.h|P.h)},r.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),C=[],V=0;V<N;V++)C[V]=this.i(V)^P.i(V);return new h(C,this.h^P.h)};function le(P){for(var N=P.g.length+1,C=[],V=0;V<N;V++)C[V]=P.i(V)<<1|P.i(V-1)>>>31;return new h(C,P.h)}function _e(P,N){var C=N>>5;N%=32;for(var V=P.g.length-C,M=[],B=0;B<V;B++)M[B]=0<N?P.i(B+C)>>>N|P.i(B+C+1)<<32-N:P.i(B+C);return new h(M,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,es=h}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,eu,TT,Sh,yp,wT,ST,AT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in v))break e;v=v[F]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,F={next:function(){if(!A&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function E(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,S.apply(null,arguments)}function I(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function R(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,F,Q){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[F].apply(A,ae)}}function L(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function x(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const F=c.length||0,Q=A.length||0;c.length=F+Q;for(let ae=0;ae<Q;ae++)c[F+ae]=A[ae]}else c.push(A)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var le=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function _e(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function P(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function N(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(v in A)c[v]=A[v];for(let Q=0;Q<C.length;Q++)v=C[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function M(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Ee;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class pt{constructor(){this.h=this.g=null}add(y,v){const A=it.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Ee=new pt,k=()=>{const c=d.Promise.resolve(void 0);oe=()=>{c.then(re)}};var re=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){B(v)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{de(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}R(De,se);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),et=0;function nr(c,y,v,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=F,this.key=++et,this.da=this.fa=!1}function pi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dr(c){this.src=c,this.g={},this.h=0}Dr.prototype.add=function(c,y,v,A,F){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=ms(c,y,A,F);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new nr(y,this.src,Q,!!A,F),y.fa=v,c.push(y)),y};function ds(c,y){var v=y.type;if(v in c.g){var A=c.g[v],F=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=F)&&Array.prototype.splice.call(A,F,1),Q&&(pi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ms(c,y,v,A){for(var F=0;F<c.length;++F){var Q=c[F];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return F}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),Bo={};function Bu(c,y,v,A,F){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Bu(c,y[Q],v,A,F);return null}return v=zu(v),c&&c[Pt]?c.K(y,v,g(A)?!!A.capture:!1,F):xn(c,y,v,!1,A,F)}function xn(c,y,v,A,F,Q){if(!y)throw Error("Invalid event type");var ae=g(F)?!!F.capture:!!F,Ue=ya(c);if(Ue||(c[ps]=Ue=new Dr(c)),v=Ue.add(y,v,A,ae,Q),v.proxy)return v;if(A=kf(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ye||(F=ae),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(gs(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function kf(){function c(v){return y.call(c.src,c.listener,v)}const y=Pf;return c}function zo(c,y,v,A,F){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)zo(c,y[Q],v,A,F);else A=g(A)?!!A.capture:!!A,v=zu(v),c&&c[Pt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=ms(Q,v,A,F),-1<v&&(pi(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ya(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ms(y,v,A,F)),(v=-1<c?y[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pt])ds(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(gs(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ya(y))?(ds(v,c),v.h==0&&(v.src=null,y[ps]=null)):pi(c)}}}function gs(c){return c in Bo?Bo[c]:Bo[c]="on"+c}function Pf(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&ga(c),c=v.call(A,y)}return c}function ya(c){return c=c[ps],c instanceof Dr?c:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function zu(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(y){return c.handleEvent(y)}),c[qo])}function ct(){ue.call(this),this.i=new Dr(this),this.M=this,this.F=null}R(ct,ue),ct.prototype[Pt]=!0,ct.prototype.removeEventListener=function(c,y,v,A){zo(this,c,y,v,A)};function $e(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var F=y;y=new se(A,c),V(y,F)}if(F=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ae=y.g=v[Q];F=yn(ae,A,!0,y)&&F}if(ae=y.g=c,F=yn(ae,A,!0,y)&&F,F=yn(ae,A,!1,y)&&F,v)for(Q=0;Q<v.length;Q++)ae=y.g=v[Q],F=yn(ae,A,!1,y)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)pi(v[A]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ct.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function yn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==v){var Ue=ae.listener,It=ae.ha||ae.src;ae.fa&&ds(c.i,ae),F=Ue.call(It,A)!==!1&&F}}return F&&!A.defaultPrevented}function Yt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function qu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,qu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Mf extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){ue.call(this),this.h=c,this.g={}}R(ys,ue);var _s=[];function vs(c){_e(c.g,function(y,v){this.g.hasOwnProperty(v)&&ga(y)},c),c.g={}}ys.prototype.N=function(){ys.aa.N.call(this),vs(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,_a=d.JSON.parse,bs=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function Ho(c){return c.h||(c.h=c.i())}function Go(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){se.call(this,"d")}R(kr,se);function $o(){se.call(this,"c")}R($o,se);var rr={},Ko=null;function gi(){return Ko=Ko||new ct}rr.La="serverreachability";function va(c){se.call(this,rr.La,c)}R(va,se);function yi(c){const y=gi();$e(y,new va(y))}rr.STAT_EVENT="statevent";function Fu(c,y){se.call(this,rr.STAT_EVENT,c),this.stat=y}R(Fu,se);function st(c){const y=gi();$e(y,new Fu(y,c))}rr.Ma="timingevent";function Ct(c,y){se.call(this,rr.Ma,c),this.size=y}R(Ct,se);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Qo(c,y,v,A,F,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Ue=Q.split("&"),It=0;It<Ue.length;It++){var je=Ue[It].split("=");if(1<je.length){var Vt=je[0];je=je[1];var Nt=Vt.split("_");ae=2<=Nt.length&&Nt[1]=="type"?ae+(Vt+"="+je+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+v+`
`+ae})}function Vf(c,y,v,A,F,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+v+`
`+Q+" "+ae})}function _i(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Es(c,v)+(A?" "+A:"")})}function Hu(c,y){c.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function Es(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Q=F[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<F.length;ae++)F[ae]=""}}}}return Hn(v)}catch{return y}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function sr(){}R(sr,Fo),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ir=new sr;function sn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Yo={},ba={};function Gn(c,y,v){c.L=1,c.v=Rs(_n(y)),c.m=v,c.P=!0,Mr(c,null)}function Mr(c,y){c.F=Date.now(),Ts(c),c.A=_n(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),tl(v.i,"t",A),c.C=0,v=c.j.J,c.h=new gt,c.g=ac(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Mf(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(_s[0]=F.toString()),F=_s);for(var Q=0;Q<F.length;Q++){var ae=Bu(v,F[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?N(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),yi(),Qo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=On(this.g);var y=this.g.Ba();const Fr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Fr?yi(3):yi(2)),bi(this);var v=this.g.Z();this.X=v;t:if(Gu(this)){var A=Zu(this.g);c="";var F=A.length,Q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ar(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Vf(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,It=this.g;if((Ue=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ue)){var je=Ue;break t}}je=null}if(v=je)_i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,v);else{this.o=!1,this.s=3,st(12),zt(this),ar(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<ae.length;)if(qt=$u(this,ae),qt==ba){Nt==4&&(this.s=4,st(14),v=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Yo){this.s=4,st(15),_i(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else _i(this.i,this.l,qt,null),ws(this,qt);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ae.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)_i(this.i,this.l,ae,"[Invalid Chunked Response]"),zt(this),ar(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ps(Vt),Vt.M=!0,st(11))}}else _i(this.i,this.l,ae,null),ws(this,ae);Nt==4&&zt(this),this.o&&!this.J&&(Nt==4?rc(this.j,this):(this.o=!1,Ts(this)))}else zf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),zt(this),ar(this)}}}catch{}finally{}};function Gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $u(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ba:(v=Number(y.substring(v,A)),isNaN(v)?Yo:(A+=1,A+v>y.length?ba:(y=y.slice(A,A+v),c.C=A+v,y)))}sn.prototype.cancel=function(){this.J=!0,zt(this)};function Ts(c){c.S=Date.now()+c.I,Ku(c,c.I)}function Ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function bi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hu(this.i,this.A),this.L!=2&&(yi(),st(17)),zt(this),this.s=2,ar(this)):Ku(this,this.S-c)};function ar(c){c.j.G==0||c.J||rc(c.j,c)}function zt(c){bi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,vs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ws(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Xo(v.h,c))){if(!c.K&&Xo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Oa(v),Na(v);else break e;al(v),st(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(S(v.Za,v),6e3));if(1>=Ta(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qr(v,11)}else if((c.K||v.g==c)&&Oa(v),!Z(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let je=F[y];if(v.T=je[0],je=je[1],v.G==2)if(je[0]=="c"){v.K=je[1],v.ia=je[2];const Vt=je[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Nt=je[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Fr=je[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(A=1.5*Fr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const qt=c.g;if(qt){const dr=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Q=A.h;Q.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(wa(Q,Q.h),Q.h=null))}if(A.D){const ll=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(A.ya=ll,Ye(A.I,A.D,ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ae=c;if(A.qa=sc(A,A.J?A.ia:null,A.W),ae.K){an(A.h,ae);var Ue=ae,It=A.L;It&&(Ue.I=It),Ue.B&&(bi(Ue),Ts(Ue)),A.g=ae}else tc(A);0<v.i.length&&Da(v)}else je[0]!="stop"&&je[0]!="close"||qr(v,7);else v.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?qr(v,7):il(v):je[0]!="noop"&&v.l&&v.l.ta(je),v.v=0)}}yi(4)}catch{}}var Qu=class{constructor(c,y){this.g=c,this.map=y}};function Vr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ta(c){return c.h?1:c.g?c.g.size:0}function Xo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function wa(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vr.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return L(c.i)}function Lf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Zo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Sa(c),A=Lf(c),F=A.length,Q=0;Q<F;Q++)y.call(void 0,A[Q],v&&v[Q],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),F=null;if(0<=A){var Q=c[v].substring(0,A);F=c[v].substring(A+1)}else Q=c[v];y(Q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,Ei(this,c.s),this.l=c.l;var y=c.i,v=new Ur;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Lr(this,v),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,As(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),Ei(this,y[4]),this.l=In(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xs(y,Jo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Jo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?jf:el,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,Aa)),c.join("")};function _n(c){return new Tt(c)}function As(c,y,v){c.j=v?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ei(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Lr(c,y,v){y instanceof Ur?(c.i=y,Xu(c.i,c.h)):(v||(y=xs(y,Bf)),c.i=new Ur(y,c.h))}function Ye(c,y,v){c.i.set(y,v)}function Rs(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Yu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jo=/[#\/\?@]/g,el=/[#\?:]/g,jf=/[#\?]/g,Bf=/[#\?@]/g,Aa=/#/g;function Ur(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Uf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ur.prototype,r.add=function(c,y){Nn(this),this.i=null,c=or(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function jr(c,y){Nn(c),y=or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Br(c,y){return Nn(c),y=or(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(v,A){v.forEach(function(F){c.call(y,F,A,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const F=c[A];for(let Q=0;Q<F.length;Q++)v.push(y[A])}return v},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Br(this,c)&&(y=y.concat(this.g.get(or(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=or(this,c),Br(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function tl(c,y,v){jr(c,y),0<v.length&&(c.i=null,c.g.set(or(c,y),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var F=Q;ae[A]!==""&&(F+="="+encodeURIComponent(String(ae[A]))),c.push(F)}}return this.i=c.join("&")};function or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Xu(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,A){var F=A.toLowerCase();A!=F&&(jr(this,A),tl(this,F,v))},c)),c.j=y}function Cs(c,y){const v=new Cn;if(d.Image){const A=new Image;A.onload=I(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=I(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=I(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=I(Dn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function $n(c,y){const v=new Cn,A=new AbortController,F=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(F),Q.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(v)}catch{}}function Is(){this.g=new bs}function lr(c,y,v){const A=v||"";try{Zo(c,function(F,Q){let ae=F;g(F)&&(ae=Hn(F)),y.push(A+Q+"="+encodeURIComponent(ae))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ti(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Ti,Fo),Ti.prototype.g=function(){return new zr(this.l,this.j)},Ti.prototype.i=function(c){return function(){return c}}({});function zr(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(zr,ct),r=zr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ur(this):cr(this),this.readyState==3&&nl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},r.Qa=function(c){this.g&&(this.response=c,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rl(c){let y="";return _e(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Mt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=rl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,y,v))}function He(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(He,ct);var Ra=/^https?$/i,Ns=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?Ho(this.o):Ho(ir),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Wu(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)v.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||A||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Wu(this,Q)}};function Wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,xa(c),hr(c)}function xa(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},r.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Yt(c.Ea,0,c);else if($e(c,"readystatechange"),On(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ae===0){var F=String(c.D).match(Ss)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Ra.test(F?F.toLowerCase():"")}v=A}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var Q=2<On(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",xa(c)}}finally{hr(c)}}}}function hr(c,y){if(c.g){Ds(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ds(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_a(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Z(c[A]))continue;var v=M(c[A]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[F]||[];y[F]=Q,Q.push(v)}P(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vr(c&&c.concurrentRequestLimit),this.Da=new Is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){st(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=sc(this,null,this.W),Da(this)};function il(c){if(Ju(c),c.G==3){var y=c.U++,v=_n(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),ks(c,v),y=new sn(c,c.j,y),y.L=2,y.v=Rs(_n(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ts(y)}ic(c)}function Na(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function Ju(c){Na(c),c.u&&(d.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Da(c){if(!Ea(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||k(),me||(oe(),me=!0),Ee.add(y,c),c.B=0}}function qf(c,y){return Ta(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),ol(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new sn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=N(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(F.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,F,y),v=_n(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),ks(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(rl(Q)))+"&"+y:this.m&&Mt(v,this.m,Q)),wa(this.h,F),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",y),Ye(v,"SID","null"),F.T=!0,Gn(F,v,null)):Gn(F,v,y),this.G=2}}else this.G==3&&(c?sl(this,c):this.i.length==0||Ea(this.h)||sl(this))};function sl(c,y){var v;y?v=y.l:v=c.U++;const A=_n(c.I);Ye(A,"SID",c.K),Ye(A,"RID",v),Ye(A,"AID",c.T),ks(c,A),c.m&&c.o&&Mt(A,c.m,c.o),v=new sn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ec(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,v),Gn(v,A,y)}function ks(c,y){c.H&&_e(c.H,function(v,A){Ye(y,A,v)}),c.l&&Zo({},function(v,A){Ye(y,A,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var F=c.i;let Q=-1;for(;;){const ae=["count="+v];Q==-1?0<v?(Q=F[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ue=!0;for(let It=0;It<v;It++){let je=F[It].g;const Vt=F[It].map;if(je-=Q,0>je)Q=Math.max(0,F[It].g-100),Ue=!1;else try{lr(Vt,ae,"req"+je+"_")}catch{A&&A(Vt)}}if(Ue){A=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function tc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||k(),me||(oe(),me=!0),Ee.add(y,c),c.v=0}}function al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),ol(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Na(this),nc(this))};function Ps(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function nc(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Rs(_n(y)),v.m=null,v.P=!0,Mr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Na(this),al(this),st(19))};function Oa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function rc(c,y){var v=null;if(c.g==y){Oa(c),Ps(c),c.g=null;var A=2}else if(Xo(c.h,y))v=y.D,an(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=gi(),$e(A,new Ct(A,v)),Da(c)}else tc(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&qf(c,y)||A==2&&al(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function ol(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function qr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const F=!A;A=new Tt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||As(A,"https"),Rs(A),F?Cs(A.toString(),v):$n(A.toString(),v)}else st(2);c.G=0,c.l&&c.l.sa(y),ic(c),Ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ic(c){if(c.G=0,c.ka=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(x(c.ka,y),x(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function sc(c,y,v){var A=v instanceof Tt?_n(v):new Tt(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ei(A,A.s);else{var F=d.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Q=new Tt(null);A&&As(Q,A),y&&(Q.g=y),F&&Ei(Q,F),v&&(Q.l=v),A=Q}return v=c.D,y=c.ya,v&&y&&Ye(A,v,y),Ye(A,"VER",c.la),ks(c,A),A}function ac(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new Ti({eb:v})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}r=oc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ka(){}ka.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ct.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fr(this)}R(on,ct),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){il(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hn(c),c=v);y.i.push(new Qu(y.Ya++,c)),y.G==3&&Da(y)},on.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,on.aa.N.call(this)};function lc(c){kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}R(lc,kr);function uc(){$o.call(this),this.status=1}R(uc,$o);function fr(c){this.g=c}R(fr,oc),fr.prototype.ua=function(){$e(this.g,"a")},fr.prototype.ta=function(c){$e(this.g,new lc(c))},fr.prototype.sa=function(c){$e(this.g,new uc)},fr.prototype.ra=function(){$e(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,AT=function(){return new ka},ST=function(){return gi()},wT=rr,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Sh=vi,Pr.COMPLETE="complete",TT=Pr,Go.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",ct.prototype.listen=ct.prototype.K,eu=Go,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,ET=He}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",Wv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Xp("@firebase/firestore");function lo(){return oa.logLevel}function he(r,...e){if(oa.logLevel<=Me.DEBUG){const t=e.map(og);oa.debug(`Firestore (${ko}): ${r}`,...t)}}function hi(r,...e){if(oa.logLevel<=Me.ERROR){const t=e.map(og);oa.error(`Firestore (${ko}): ${r}`,...t)}}function Eo(r,...e){if(oa.logLevel<=Me.WARN){const t=e.map(og);oa.warn(`Firestore (${ko}): ${r}`,...t)}}function og(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,RT(r,s,t)}function RT(r,e,t){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw hi(s),new Error(s)}function Ge(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||RT(e,o,s)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class qI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new xT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class HI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new HI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $I{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=KI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function _p(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Ym(o)===Ym(u)?Ve(o,u):Ym(o)?1:-1}return Ve(r.length,e.length)}const QI=55296,YI=57343;function Ym(r){const e=r.charCodeAt(0);return e>=QI&&e<=YI}function To(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class br{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=br.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const s=br.isNumericId(e),o=br.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?br.extractNumericId(e).compare(br.extractNumericId(t)):_p(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class nt extends br{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const XI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends br{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return XI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new Kt([Jv])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WI(r,e,t,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function eb(r){if(!ge.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function tb(r){if(ge.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function IT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function of(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function qn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=of(r);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ou(r,e){if(!IT(r))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ce(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=-62135596800,rb=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*rb);return new rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nb)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rb}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:xt("string",rt._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new rt(0,0))}static max(){return new Re(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function ZI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new rt(t+1,0):new rt(t,s));return new rs(o,ge.empty(),e)}function JI(r){return new rs(r.readTime,r.key,du)}class rs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new rs(Re.min(),ge.empty(),du)}static max(){return new rs(Re.max(),ge.empty(),du)}}function eN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==tN)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++d,d===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function rN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function uf(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function iN(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="";function sN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ib(e)),e=aN(r.get(t),e);return ib(e)}function aN(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case NT:t+="";break;default:t+=u}}return t}function ib(r){return r+NT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function hs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function DT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ab(this.data.getIterator())}getIteratorFrom(e){return new ab(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class ab{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new kt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new OT("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const t=oN.exec(r);if(Ge(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="server_timestamp",PT="__type__",MT="__previous_value__",VT="__local_write_time__";function cg(r){return(r?.mapValue?.fields||{})[PT]?.stringValue===kT}function cf(r){const e=r.mapValue.fields[MT];return cg(e)?cf(e):e}function mu(r){const e=is(r.mapValue.fields[VT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,s,o,u,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Fh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Fh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__type__",uN="__max__",mh={mapValue:{}},UT="__vector__",Hh="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cg(r)?4:hN(r)?9007199254740991:cN(r)?10:11:we(28295,{value:r})}function xr(r,e){if(r===e)return!0;const t=as(r);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=is(o.timestampValue),d=is(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),d=vt(u.doubleValue);return h===d?qh(h)===qh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(sb(h)!==sb(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!xr(h[p],d[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function gu(r,e){return(r.values||[]).find(t=>xr(t,e))!==void 0}function wo(r,e){if(r===e)return 0;const t=as(r),s=as(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return ob(r.timestampValue,e.timestampValue);case 4:return ob(mu(r),mu(e));case 5:return _p(r.stringValue,e.stringValue);case 6:return function(u,h){const d=ss(u),p=ss(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Ve(d[g],p[g]);if(_!==0)return _}return Ve(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ve(vt(u.latitude),vt(h.latitude));return d!==0?d:Ve(vt(u.longitude),vt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return lb(r.arrayValue,e.arrayValue);case 10:return function(u,h){const d=u.fields||{},p=h.fields||{},g=d[Hh]?.arrayValue,_=p[Hh]?.arrayValue,E=Ve(g?.values?.length||0,_?.values?.length||0);return E!==0?E:lb(g,_)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===mh.mapValue&&h===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const S=_p(p[E],_[E]);if(S!==0)return S;const I=wo(d[p[E]],g[_[E]]);if(I!==0)return I}return Ve(p.length,_.length)}(r.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function ob(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const t=is(r),s=is(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function lb(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=wo(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function So(r){return vp(r)}function vp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=is(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ss(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=vp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${vp(t.fields[h])}`;return o+"}"}(r.mapValue):we(61005,{value:r})}function Ah(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(r);return e?16+Ah(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ah(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return hs(s.fields,(u,h)=>{o+=u.length+Ah(h)}),o}(r.mapValue);default:throw we(13486,{value:r})}}function ub(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function bp(r){return!!r&&"integerValue"in r}function hg(r){return!!r&&"arrayValue"in r}function cb(r){return!!r&&"nullValue"in r}function hb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rh(r){return!!r&&"mapValue"in r}function cN(r){return(r?.mapValue?.fields||{})[LT]?.stringValue===UT}function au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return hs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=au(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(r.arrayValue.values[t]);return e}return{...r}}function hN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=Kt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=au(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){hs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(au(this.value))}}function jT(r){const e=[];return hs(r.fields,(t,s)=>{const o=new Kt([t]);if(Rh(s)){const u=jT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,Re.min(),Re.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Re.min(),Re.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.position=e,this.inclusive=t}}function fb(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=wo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function db(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function fN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{}class Rt extends BT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new mN(e,t,s):t==="array-contains"?new yN(e,s):t==="in"?new _N(e,s):t==="not-in"?new vN(e,s):t==="array-contains-any"?new bN(e,s):new Rt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pN(e,s):new gN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wo(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends BT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Jn(e,t)}matches(e){return zT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zT(r){return r.op==="and"}function qT(r){return dN(r)&&zT(r)}function dN(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Ep(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(qT(r))return r.filters.map(e=>Ep(e)).join(",");{const e=r.filters.map(t=>Ep(t)).join(",");return`${r.op}(${e})`}}function FT(r,e){return r instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&xr(s.value,o.value)}(r,e):r instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&FT(h,o.filters[d]),!0):!1}(r,e):void we(19439)}function HT(r){return r instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`}(r):r instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(HT).join(" ,")+"}"}(r):"Filter"}class mN extends Rt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class pN extends Rt{constructor(e,t){super(e,"in",t),this.keys=GT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gN extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=GT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GT(r,e){return(e.arrayValue?.values||[]).map(t=>ge.fromName(t.referenceValue))}class yN extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&gu(t.arrayValue,this.value)}}class _N extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class vN extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class bN extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function mb(r,e=null,t=[],s=[],o=null,u=null,h=null){return new EN(r,e,t,s,o,u,h)}function fg(r){const e=xe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ep(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>So(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>So(s)).join(",")),e.Te=t}return e.Te}function dg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!FT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!db(r.startAt,e.startAt)&&db(r.endAt,e.endAt)}function Tp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TN(r,e,t,s,o,u,h,d){return new Vo(r,e,t,s,o,u,h,d)}function hf(r){return new Vo(r)}function pb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $T(r){return r.collectionGroup!==null}function ou(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new kt(Kt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yu(u,s))}),t.has(Kt.keyField().canonicalString())||e.Ie.push(new yu(Kt.keyField(),s))}return e.Ie}function wr(r){const e=xe(r);return e.Ee||(e.Ee=wN(e,ou(r))),e.Ee}function wN(r,e){if(r.limitType==="F")return mb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)});const t=r.endAt?new Gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gh(r.startAt.position,r.startAt.inclusive):null;return mb(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function wp(r,e){const t=r.filters.concat([e]);return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Sp(r,e,t){return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ff(r,e){return dg(wr(r),wr(e))&&r.limitType===e.limitType}function KT(r){return`${fg(wr(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>HT(o)).join(", ")}]`),uf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>So(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>So(o)).join(",")),`Target(${s})`}(wr(r))}; limitType=${r.limitType})`}function df(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=fb(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,ou(s),o)||s.endAt&&!function(h,d,p){const g=fb(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,ou(s),o))}(r,e)}function SN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QT(r){return(e,t)=>{let s=!1;for(const o of ou(r)){const u=AN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function AN(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?wo(p,g):we(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new ut(ge.comparator);function fi(){return RN}const YT=new ut(ge.comparator);function tu(...r){let e=YT;for(const t of r)e=e.insert(t.key,t);return e}function XT(r){let e=YT;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Zs(){return lu()}function WT(){return lu()}function lu(){return new fa(r=>r.toString(),(r,e)=>r.isEqual(e))}const xN=new ut(ge.comparator),CN=new kt(ge.comparator);function Le(...r){let e=CN;for(const t of r)e=e.add(t);return e}const IN=new kt(Ve);function NN(){return IN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function ZT(r){return{integerValue:""+r}}function DN(r,e){return iN(e)?ZT(e):mg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function ON(r,e,t){return r instanceof _u?function(o,u){const h={fields:{[PT]:{stringValue:kT},[VT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cg(u)&&(u=cf(u)),u&&(h.fields[MT]=u),{mapValue:h}}(t,e):r instanceof vu?ew(r,e):r instanceof bu?tw(r,e):function(o,u){const h=JT(o,u),d=gb(h)+gb(o.Ae);return bp(h)&&bp(o.Ae)?ZT(d):mg(o.serializer,d)}(r,e)}function kN(r,e,t){return r instanceof vu?ew(r,e):r instanceof bu?tw(r,e):t}function JT(r,e){return r instanceof $h?function(s){return bp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _u extends mf{}class vu extends mf{constructor(e){super(),this.elements=e}}function ew(r,e){const t=nw(e);for(const s of r.elements)t.some(o=>xr(o,s))||t.push(s);return{arrayValue:{values:t}}}class bu extends mf{constructor(e){super(),this.elements=e}}function tw(r,e){let t=nw(e);for(const s of r.elements)t=t.filter(o=>!xr(o,s));return{arrayValue:{values:t}}}class $h extends mf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gb(r){return vt(r.integerValue||r.doubleValue)}function nw(r){return hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.field=e,this.transform=t}}function MN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof vu&&o instanceof vu||s instanceof bu&&o instanceof bu?To(s.elements,o.elements,xr):s instanceof $h&&o instanceof $h?xr(s.Ae,o.Ae):s instanceof _u&&o instanceof _u}(r.transform,e.transform)}class VN{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pf{}function rw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pg(r.key,Fn.none()):new ku(r.key,r.data,Fn.none());{const t=r.data,s=mn.empty();let o=new kt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new fs(r.key,s,new Rn(o.toArray()),Fn.none())}}function LN(r,e,t){r instanceof ku?function(o,u,h){const d=o.value.clone(),p=_b(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof fs?function(o,u,h){if(!xh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=_b(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(iw(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uu(r,e,t,s){return r instanceof ku?function(u,h,d,p){if(!xh(u.precondition,h))return d;const g=u.value.clone(),_=vb(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof fs?function(u,h,d,p){if(!xh(u.precondition,h))return d;const g=vb(u.fieldTransforms,p,h),_=h.data;return _.setAll(iw(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(r,e,t,s):function(u,h,d){return xh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function UN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=JT(s.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(s.field,u))}return t||null}function yb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,(u,h)=>MN(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ku extends pf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends pf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function _b(r,e,t){const s=new Map;Ge(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,kN(h,d,t[o]))}return s}function vb(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,ON(u,h,e))}return s}class pg extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&LN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=WT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=rw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(t,s)=>yb(t,s))&&To(this.baseMutations,e.baseMutations,(t,s)=>yb(t,s))}}class gg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return xN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new gg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function FN(r){switch(r){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function sw(r){if(r===void 0)return hi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case At.OK:return ee.OK;case At.CANCELLED:return ee.CANCELLED;case At.UNKNOWN:return ee.UNKNOWN;case At.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case At.INTERNAL:return ee.INTERNAL;case At.UNAVAILABLE:return ee.UNAVAILABLE;case At.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case At.NOT_FOUND:return ee.NOT_FOUND;case At.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case At.ABORTED:return ee.ABORTED;case At.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case At.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:r})}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new es([4294967295,4294967295],0);function bb(r){const e=HN().encode(r),t=new bT;return t.update(e),new Uint8Array(t.digest())}function Eb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([t,s],0),new es([o,u],0)]}class yg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=es.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(es.fromNumber(s)));return o.compare(GN)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=bb(e),[s,o]=Eb(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new yg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.ge===0)return;const t=bb(e),[s,o]=Eb(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new gf(Re.min(),o,new ut(Ve),fi(),Le())}}class Pu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Pu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class aw{constructor(e,t){this.targetId=e,this.Ce=t}}class ow{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Tb{constructor(){this.ve=0,this.Fe=wb(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),s=Le();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new Pu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=wb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $N{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=ph(),this.He=ph(),this.Ye=new ut(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Tp(u))if(s===0){const h=new ge(u.path);this.et(t,h,en.newNoDocument(h,Re.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ss(s).toUint8Array()}catch(p){if(p instanceof OT)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new yg(h,o,u)}catch(p){return Eo(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&Tp(d.target)){const p=new ge(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=Le();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new gf(e,t,this.Ye,this.je,s);return this.je=fi(),this.Je=ph(),this.He=ph(),this.Ye=new ut(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Tb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Tb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ph(){return new ut(ge.comparator)}function wb(){return new ut(ge.comparator)}const KN={asc:"ASCENDING",desc:"DESCENDING"},QN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class XN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ap(r,e){return r.useProto3Json||uf(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function WN(r,e){return Kh(r,e.toTimestamp())}function Sr(r){return Ge(!!r,49232),Re.fromTimestamp(function(t){const s=is(t);return new rt(s.seconds,s.nanos)}(r))}function _g(r,e){return Rp(r,e).canonicalString()}function Rp(r,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function uw(r){const e=nt.fromString(r);return Ge(mw(e),10190,{key:e.toString()}),e}function xp(r,e){return _g(r.databaseId,e.path)}function Xm(r,e){const t=uw(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(hw(t))}function cw(r,e){return _g(r.databaseId,e)}function ZN(r){const e=uw(r);return e.length===4?nt.emptyPath():hw(e)}function Cp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hw(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Sb(r,e,t){return{name:xp(r,e),fields:t.value.mapValue.fields}}function JN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ee.UNKNOWN:sw(g.code);return new ce(_,g.message||"")}(h);t=new ow(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Xm(r,s.document.name),u=Sr(s.document.updateTime),h=s.document.createTime?Sr(s.document.createTime):Re.min(),d=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Ch(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Xm(r,s.document),u=s.readTime?Sr(s.readTime):Re.min(),h=en.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Ch([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Xm(r,s.document),u=s.removedTargetIds||[];t=new Ch([],u,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new qN(o,u),d=s.targetId;t=new aw(d,h)}}return t}function eD(r,e){let t;if(e instanceof ku)t={update:Sb(r,e.key,e.value)};else if(e instanceof pg)t={delete:xp(r,e.key)};else if(e instanceof fs)t={update:Sb(r,e.key,e.data),updateMask:uD(e.fieldMask)};else{if(!(e instanceof jN))return we(16599,{Vt:e.type});t={verify:xp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof _u)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $h)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:WN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),t}function tD(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?Sr(o.updateTime):Sr(u);return h.isEqual(Re.min())&&(h=Sr(u)),new VN(h,o.transformResults||[])}(t,e))):[]}function nD(r,e){return{documents:[cw(r,e.path)]}}function rD(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=cw(r,o);const u=function(g){if(g.length!==0)return dw(Jn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:co(S.field),direction:aD(S.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Ap(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function iD(r){let e=ZN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(E){const S=fw(E);return S instanceof Jn&&qT(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(E){return E.map(S=>function(R){return new yu(ho(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,uf(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(E){const S=!!E.before,I=E.values||[];return new Gh(I,S)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const S=!E.before,I=E.values||[];return new Gh(I,S)}(t.endAt)),TN(e,o,h,u,d,"F",p,g)}function sD(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ho(t.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(t.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ho(t.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(t){return Rt.create(ho(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(s=>fw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(r):we(30097,{filter:r})}function aD(r){return KN[r]}function oD(r){return QN[r]}function lD(r){return YN[r]}function co(r){return{fieldPath:r.canonicalString()}}function ho(r){return Kt.fromServerFormat(r.fieldPath)}function dw(r){return r instanceof Rt?function(t){if(t.op==="=="){if(hb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NAN"}};if(cb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NAN"}};if(cb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(t.field),op:oD(t.op),value:t.value}}}(r):r instanceof Jn?function(t){const s=t.getFilters().map(o=>dw(o));return s.length===1?s[0]:{compositeFilter:{op:lD(t.op),filters:s}}}(r):we(54877,{filter:r})}function uD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,s,o,u=Re.min(),h=Re.min(),d=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.yt=e}}function hD(r){const e=iD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Cn=new dD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(rs.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class dD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pw=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(pw,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="LruGarbageCollector",mD=1048576;function xb([r,e],[t,s]){const o=Ve(r,t);return o===0?Ve(e,s):o}class pD{constructor(e){this.Ir=e,this.buffer=new kt(xb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();xb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Rb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mo(t)?he(Rb,"Ignoring IndexedDB error during garbage collection: ",t):await Po(t)}await this.Vr(3e5)})}}class yD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(lf.ce);const s=new pD(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Ab)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ab):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(s=E,d=Date.now(),this.removeTargets(e,s,t))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(g=Date.now(),lo()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function _D(r,e){return new yD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.changes=new fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&uu(s.mutation,o,Rn.empty(),rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=tu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=fi();const h=lu(),d=function(){return lu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof fs)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),uu(_.mutation,g,_.mutation.getFieldMask(),rt.now())):h.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>d.set(g,new bD(_,h.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const s=lu();let o=new ut((h,d)=>h-d),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||Rn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const E=(o.get(d.batchId)||Le()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,E=WT();_.forEach(S=>{if(!u.has(S)){const I=rw(t.get(S),s.get(S));I!==null&&E.set(S,I),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$T(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(Zs());let d=du,p=u;return h.next(g=>ne.forEach(g,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(_=>({batchId:d,changes:XT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next(d=>ne.forEach(d,p=>{const g=function(E,S){return new Vo(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((E,S)=>{h=h.insert(E,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,en.newInvalidDocument(_)))});let d=tu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&uu(_.mutation,g,Rn.empty(),rt.now()),df(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Sr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:hD(o.bundledQuery),readTime:Sr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Zs();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=Zs(),u=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ut((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Zs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ne.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zN(t,s));let u=this.qr.get(t);u===void 0&&(u=Le(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Qr=new kt(Bt.$r),this.Ur=new kt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new ge(new nt([])),s=new Bt(t,e),o=new Bt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new nt([])),s=new Bt(t,e),o=new Bt(t,e+1);let u=Le();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Bt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new BN(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Bt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ug:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const d=this.Xr(h.Yr);u.push(d)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Ve);return t.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{s=s.add(d.Yr)})}),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ge(u),0);let d=new kt(Ve);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)},h),ne.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,o=>{const u=new Bt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Bt(t,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.ri=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=fi();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=fi();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||eN(JI(_),s)<=0||(o.has(_.key)||df(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we(9500)}ii(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new xD(this)}getSize(e){return ne.resolve(this.size)}}class xD extends vD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.persistence=e,this.si=new fa(t=>fg(t),dg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new vg,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new SD,this.referenceDelegate=e(this),this.Pi=new CD(this),this.indexManager=new fD,this.remoteDocumentCache=function(o){return new RD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new cD(t),this.Ii=new TD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new AD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new ID(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return ne.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class ID extends nN{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ri=new vg,this.Vi=null}static mi(e){return new bg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Qh{constructor(e,t){this.persistence=e,this.pi=new fa(s=>sN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_D(this,t)}static mi(e,t){return new Qh(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ne.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ah(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Eg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return tx()?8:rN(rn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ND;return this.Ss(e,t,h).next(d=>{if(u.result=d,this.Vs)return this.bs(e,t,h,d.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(lo()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(lo()<=Me.DEBUG&&he("QueryEngine","Query:",uo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(lo()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):ne.resolve())}ys(e,t){if(pb(t))return ne.resolve(null);let s=wr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Sp(t,null,"F"),s=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,d);return this.Cs(t,g,h,p.readTime)?this.ys(e,Sp(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return pb(t)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?ne.resolve(null):(lo()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(t)),this.vs(e,h,t,ZI(o,du)).next(d=>d))})}Ds(e,t){let s=new kt(QT(e));return t.forEach((o,u)=>{df(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return lo()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",uo(t)),this.ps.getDocumentsMatchingQuery(e,t,rs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",OD=3e8;class kD{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ut(Ve),this.xs=new fa(u=>fg(u),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ED(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function PD(r,e,t,s){return new kD(r,e,t,s)}async function yw(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Le();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function MD(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const E=g.batch,S=E.keys();let I=ne.resolve();return S.forEach(R=>{I=I.next(()=>_.getEntry(p,R)).next(L=>{const x=g.docVersions.get(R);Ge(x!==null,48541),L.version.compareTo(x)<0&&(E.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),_.addEntry(L)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function _w(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function VD(r,e){const t=xe(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((_,E)=>{const S=o.get(E);if(!S)return;d.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,E).next(()=>t.Pi.addMatchingKeys(u,_.addedDocuments,E)));let I=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(E,I),function(L,x,q){return L.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=OD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(S,I,_)&&d.push(t.Pi.updateTargetData(u,I))});let p=fi(),g=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(LD(u,h,e.documentUpdates).next(_=>{p=_.ks,g=_.qs})),!s.isEqual(Re.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next(E=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(_)}return ne.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=o,u))}function LD(r,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=fi();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(Tg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function UD(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ug),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function jD(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new Xi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Ip(r,e,t){const s=xe(r),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Mo(h))throw h;he(Tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Cb(r,e,t){const s=xe(r);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const E=xe(p),S=E.xs.get(_);return S!==void 0?ne.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,_)}(s,h,wr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?u:Le())).next(d=>(BD(s,SN(e),d),{documents:d,Qs:u})))}function BD(r,e,t){let s=r.Os.get(e)||Re.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class Ib{constructor(){this.activeTargetIds=NN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zD{constructor(){this.Mo=new Ib,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ib,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="ConnectivityMonitor";class Db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Nb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function Np(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",FD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Np(),d=this.zo(e,t.toUriEncodedString());he(Wm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),_=Do(g);return this.Jo(e,d,p,s,_).then(E=>(he(Wm,`Received RPC '${e}' ${h}: `,E),E),E=>{throw Eo(Wm,`RPC '${e}' ${h} failed with error: `,E,"url: ",d,"request:",s),E})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=FD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class $D extends HD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Np();return new Promise((d,p)=>{const g=new ET;g.setWithCredentials(!0),g.listenOnce(TT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Sh.NO_ERROR:const E=g.getResponseJson();he(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),d(E);break;case Sh.TIMEOUT:he(Zt,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const S=g.getStatus();if(he(Zt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I?.error;if(R&&R.status&&R.message){const L=function(q){const Z=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Z)>=0?Z:ee.UNKNOWN}(R.status);p(new ce(L,R.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Zt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);he(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}T_(e,t,s){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=AT(),d=ST(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");he(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=h.createWebChannel(_,p);this.I_(E);let S=!1,I=!1;const R=new GD({Yo:x=>{I?he(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(S||(he(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),he(Zt,`RPC '${e}' stream ${o} sending:`,x),E.send(x))},Zo:()=>E.close()}),L=(x,q,Z)=>{x.listen(q,ie=>{try{Z(ie)}catch(de){setTimeout(()=>{throw de},0)}})};return L(E,eu.EventType.OPEN,()=>{I||(he(Zt,`RPC '${e}' stream ${o} transport opened.`),R.o_())}),L(E,eu.EventType.CLOSE,()=>{I||(I=!0,he(Zt,`RPC '${e}' stream ${o} transport closed`),R.a_(),this.E_(E))}),L(E,eu.EventType.ERROR,x=>{I||(I=!0,Eo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,x.name,"Message:",x.message),R.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),L(E,eu.EventType.MESSAGE,x=>{if(!I){const q=x.data[0];Ge(!!q,16349);const Z=q,ie=Z?.error||Z[0]?.error;if(ie){he(Zt,`RPC '${e}' stream ${o} received error:`,ie);const de=ie.status;let le=function(N){const C=At[N];if(C!==void 0)return sw(C)}(de),_e=ie.message;le===void 0&&(le=ee.INTERNAL,_e="Unknown error status: "+de+" with message "+ie.message),I=!0,R.a_(new ce(le,_e)),E.close()}else he(Zt,`RPC '${e}' stream ${o} received:`,q),R.u_(q)}}),L(d,wT.STAT_EVENT,x=>{x.stat===yp.PROXY?he(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===yp.NOPROXY&&he(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(r){return new XN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="PersistentStream";class bw{constructor(e,t,s,o,u,h,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(Ob,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(Ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KD extends bw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=JN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Sr(h.readTime):Re.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Cp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=Tp(p)?{documents:nD(u,p)}:{query:rD(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=lw(u,h.resumeToken);const g=Ap(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){d.readTime=Kh(u,h.snapshotVersion.toTimestamp());const g=Ap(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=sD(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Cp(this.serializer),t.removeTarget=e,this.q_(t)}}class QD extends bw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=tD(e.writeResults,e.commitTime),s=Sr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Cp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>eD(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{}class XD extends YD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Rp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(e,Rp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class WD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class ZD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{da(this)&&(he(la,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.Ea.add(4),await Mu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await _f(g)}(this))})}),this.Ra=new WD(s,o)}}async function _f(r){if(da(r))for(const e of r.da)await e(!0)}async function Mu(r){for(const e of r.da)await e(!1)}function Ew(r,e){const t=xe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Rg(t)?Ag(t):Lo(t).O_()&&Sg(t,e))}function wg(r,e){const t=xe(r),s=Lo(t);t.Ia.delete(e),s.O_()&&Tw(t,e),t.Ia.size===0&&(s.O_()?s.L_():da(t)&&t.Ra.set("Unknown"))}function Sg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lo(r).Y_(e)}function Tw(r,e){r.Va.Ue(e),Lo(r).Z_(e)}function Ag(r){r.Va=new $N({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Ra.ua()}function Rg(r){return da(r)&&!Lo(r).x_()&&r.Ia.size>0}function da(r){return xe(r).Ea.size===0}function ww(r){r.Va=void 0}async function JD(r){r.Ra.set("Online")}async function eO(r){r.Ia.forEach((e,t)=>{Sg(r,e)})}async function tO(r,e){ww(r),Rg(r)?(r.Ra.ha(e),Ag(r)):r.Ra.set("Unknown")}async function nO(r,e,t){if(r.Ra.set("Online"),e instanceof ow&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(r,e)}catch(s){he(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(r,s)}else if(e instanceof Ch?r.Va.Ze(e):e instanceof aw?r.Va.st(e):r.Va.tt(e),!t.isEqual(Re.min()))try{const s=await _w(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),Tw(u,p);const E=new Xi(_.target,p,g,_.sequenceNumber);Sg(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){he(la,"Failed to raise snapshot:",s),await Yh(r,s)}}async function Yh(r,e,t){if(!Mo(e))throw e;r.Ea.add(1),await Mu(r),r.Ra.set("Offline"),t||(t=()=>_w(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(la,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await _f(r)})}function Sw(r,e){return e().catch(t=>Yh(r,t,e))}async function vf(r){const e=xe(r),t=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;rO(e);)try{const o=await UD(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,iO(e,o)}catch(o){await Yh(e,o)}Aw(e)&&Rw(e)}function rO(r){return da(r)&&r.Ta.length<10}function iO(r,e){r.Ta.push(e);const t=os(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Aw(r){return da(r)&&!os(r).x_()&&r.Ta.length>0}function Rw(r){os(r).start()}async function sO(r){os(r).ra()}async function aO(r){const e=os(r);for(const t of r.Ta)e.ea(t.mutations)}async function oO(r,e,t){const s=r.Ta.shift(),o=gg.from(s,e,t);await Sw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await vf(r)}async function lO(r,e){e&&os(r).X_&&await async function(s,o){if(function(h){return FN(h)&&h!==ee.ABORTED}(o.code)){const u=s.Ta.shift();os(s).B_(),await Sw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await vf(s)}}(r,e),Aw(r)&&Rw(r)}async function kb(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),he(la,"RemoteStore received new credentials");const s=da(t);t.Ea.add(3),await Mu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _f(t)}async function uO(r,e){const t=xe(r);e?(t.Ea.delete(2),await _f(t)):e||(t.Ea.add(2),await Mu(t),t.Ra.set("Unknown"))}function Lo(r){return r.ma||(r.ma=function(t,s,o){const u=xe(t);return u.sa(),new KD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:JD.bind(null,r),t_:eO.bind(null,r),r_:tO.bind(null,r),H_:nO.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Rg(r)?Ag(r):r.Ra.set("Unknown")):(await r.ma.stop(),ww(r))})),r.ma}function os(r){return r.fa||(r.fa=function(t,s,o){const u=xe(t);return u.sa(),new QD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:sO.bind(null,r),r_:lO.bind(null,r),ta:aO.bind(null,r),na:oO.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await vf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new xg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(r,e){if(hi("AsyncQueue",`${e}: ${r}`),Mo(r))return new ce(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=tu(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new _o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.ga=new ut(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Ro(e,t,_o.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class hO{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=xe(t),u=o.queries;o.queries=Mb(),u.forEach((h,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function Mb(){return new fa(r=>KT(r),ff)}async function xw(r,e){const t=xe(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new cO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Cg(h,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Ig(t)}async function Cw(r,e){const t=xe(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fO(r,e){const t=xe(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(s=!0);h.wa=o}}s&&Ig(t)}function dO(r,e,t){const s=xe(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Ig(r){r.Ca.forEach(e=>{e.next()})}var Dp,Vb;(Vb=Dp||(Dp={})).Ma="default",Vb.Cache="cache";class Iw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.key=e}}class Dw{constructor(e){this.key=e}}class mO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=QT(e),this.tu=new _o(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Pb,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const S=o.get(_),I=df(this.query,E)?E:null,R=!!S&&this.mutatedKeys.has(S.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let x=!1;S&&I?S.data.isEqual(I.data)?R!==L&&(s.track({type:3,doc:I}),x=!0):this.su(S,I)||(s.track({type:2,doc:I}),x=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(d=!0)):!S&&I?(s.track({type:0,doc:I}),x=!0):S&&!I&&(s.track({type:1,doc:S}),x=!0,(p||g)&&(d=!0)),x&&(I?(h=h.add(I),u=L?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,E)=>function(I,R){const L=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:x})}};return L(I)-L(R)}(_.type,E.type)||this.eu(_.doc,E.doc)),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new Dw(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new Nw(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ng="SyncEngine";class pO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class gO{constructor(e){this.key=e,this.hu=!1}}class yO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fa(d=>KT(d),ff),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new vg,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _O(r,e,t=!0){const s=Lw(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ow(s,e,t,!0),o}async function vO(r,e){const t=Lw(r);await Ow(t,e,!0,!1)}async function Ow(r,e,t,s){const o=await jD(r.localStore,wr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await bO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Ew(r.remoteStore,o),d}async function bO(r,e,t,s,o){r.pu=(E,S,I)=>async function(L,x,q,Z){let ie=x.view.ru(q);ie.Cs&&(ie=await Cb(L.localStore,x.query,!1).then(({documents:P})=>x.view.ru(P,ie)));const de=Z&&Z.targetChanges.get(x.targetId),le=Z&&Z.targetMismatches.get(x.targetId)!=null,_e=x.view.applyChanges(ie,L.isPrimaryClient,de,le);return Ub(L,x.targetId,_e.au),_e.snapshot}(r,E,S,I);const u=await Cb(r.localStore,e,!0),h=new mO(e,u.Qs),d=h.ru(u.documents),p=Pu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);Ub(r,t,g.au);const _=new pO(e,t,h);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function EO(r,e,t){const s=xe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!ff(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&wg(s.remoteStore,o.targetId),Op(s,o.targetId)}).catch(Po)):(Op(s,o.targetId),await Ip(s.localStore,o.targetId,!0))}async function TO(r,e){const t=xe(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),wg(t.remoteStore,s.targetId))}async function wO(r,e,t){const s=NO(r);try{const o=await function(h,d){const p=xe(h),g=rt.now(),_=d.reduce((I,R)=>I.add(R.key),Le());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=fi(),L=Le();return p.Ns.getEntries(I,_).next(x=>{R=x,R.forEach((q,Z)=>{Z.isValidDocument()||(L=L.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,R)).next(x=>{E=x;const q=[];for(const Z of d){const ie=UN(Z,E.get(Z.key).overlayedDocument);ie!=null&&q.push(new fs(Z.key,ie,jT(ie.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,q,d)}).next(x=>{S=x;const q=x.applyToLocalDocumentSet(E,L);return p.documentOverlayCache.saveOverlays(I,x.batchId,q)})}).then(()=>({batchId:S.batchId,changes:XT(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g}(s,o.batchId,t),await Vu(s,o.changes),await vf(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");t.reject(u)}}async function kw(r,e){const t=xe(r);try{const s=await VD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))}),await Vu(t,s,e)}catch(s){await Po(s)}}function Lb(r,e,t){const s=xe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=xe(h);p.onlineState=d;let g=!1;p.queries.forEach((_,E)=>{for(const S of E.Sa)S.va(d)&&(g=!0)}),g&&Ig(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function SO(r,e,t){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,en.newNoDocument(u,Re.min()));const d=Le().add(u),p=new gf(Re.min(),new Map,new ut(Ve),h,d);await kw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Dg(s)}else await Ip(s.localStore,e,!1).then(()=>Op(s,e,t)).catch(Po)}async function AO(r,e){const t=xe(r),s=e.batch.batchId;try{const o=await MD(t.localStore,e);Mw(t,s,null),Pw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(t,o)}catch(o){await Po(o)}}async function RO(r,e,t){const s=xe(r);try{const o=await function(h,d){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(Ge(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);Mw(s,e,t),Pw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Vu(s,o)}catch(o){await Po(o)}}function Pw(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function Mw(r,e,t){const s=xe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Op(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||Vw(r,s)})}function Vw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(wg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Dg(r))}function Ub(r,e,t){for(const s of t)s instanceof Nw?(r.Ru.addReference(s.key,e),xO(r,s)):s instanceof Dw?(he(Ng,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Vw(r,s.key)):we(19791,{wu:s})}function xO(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(he(Ng,"New document in limbo: "+t),r.Eu.add(s),Dg(r))}function Dg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ge(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new gO(t)),r.du=r.du.insert(t,s),Ew(r.remoteStore,new Xi(wr(hf(t.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function Vu(r,e,t){const s=xe(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((d,p)=>{h.push(s.pu(p,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Eg.As(p.targetId,g);u.push(_)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(p,g){const _=xe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(g,S=>ne.forEach(S.Es,I=>_.persistence.referenceDelegate.addReference(E,S.targetId,I)).next(()=>ne.forEach(S.ds,I=>_.persistence.referenceDelegate.removeReference(E,S.targetId,I)))))}catch(E){if(!Mo(E))throw E;he(Tg,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const I=_.Ms.get(S),R=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(R);_.Ms=_.Ms.insert(S,L)}}}(s.localStore,u))}async function CO(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){he(Ng,"User change. New user:",e.toKey());const s=await yw(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(d=>{d.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(t,s.Ls)}}function IO(r,e){const t=xe(r),s=t.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function Lw(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SO.bind(null,e),e.Pu.H_=fO.bind(null,e.eventManager),e.Pu.yu=dO.bind(null,e.eventManager),e}function NO(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RO.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return PD(this.persistence,new DD,e.initialUser,this.serializer)}Cu(e){return new gw(bg.mi,this.serializer)}Du(e){return new zD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class DO extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new gw(s=>Qh.mi(s,t),this.serializer)}}class kp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CO.bind(null,this.syncEngine),await uO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hO}()}createDatastore(e){const t=yf(e.databaseInfo.databaseId),s=function(u){return new $D(u)}(e.databaseInfo);return function(u,h,d,p){return new XD(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new ZD(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Lb(this.syncEngine,t,0),function(){return Db.v()?new Db:new qD}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,_){const E=new yO(o,u,h,d,p,g);return _&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=xe(t);he(la,"RemoteStore shutting down."),s.Ea.add(5),await Mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class OO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Cg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Jm(r,e){r.asyncQueue.verifyOperationInProgress(),he(ls,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await yw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function jb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await kO(r);he(ls,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>kb(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>kb(e.remoteStore,o)),r._onlineComponents=e}async function kO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ls,"Using user provided OfflineComponentProvider");try{await Jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Eo("Error using user provided cache. Falling back to memory cache: "+t),await Jm(r,new Xh)}}else he(ls,"Using default OfflineComponentProvider"),await Jm(r,new DO(void 0));return r._offlineComponents}async function jw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ls,"Using user provided OnlineComponentProvider"),await jb(r,r._uninitializedComponentsProvider._online)):(he(ls,"Using default OnlineComponentProvider"),await jb(r,new kp))),r._onlineComponents}function PO(r){return jw(r).then(e=>e.syncEngine)}async function Pp(r){const e=await jw(r),t=e.eventManager;return t.onListen=_O.bind(null,e.syncEngine),t.onUnlisten=EO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TO.bind(null,e.syncEngine),t}function MO(r,e,t={}){const s=new ts;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new Uw({next:S=>{_.Nu(),h.enqueueAndForget(()=>Cw(u,E));const I=S.docs.has(d);!I&&S.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new Iw(hf(d.path),_,{includeMetadataChanges:!0,qa:!0});return xw(u,E)}(await Pp(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firestore.googleapis.com",zb=!0;class qb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zw,this.ssl=zb}else this.host=e.host,this.ssl=e.ssl??zb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mD)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zI;switch(s.type){case"firstParty":return new GI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Bb.get(t);s&&(he("ComponentProvider","Removing Datastore"),Bb.delete(t),s.terminate())}(this),Promise.resolve()}}function VO(r,e,t,s={}){r=qn(r,bf);const o=Do(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;o&&(DE(`https://${d}`),OE("Firestore",!0)),u.host!==zw&&u.host!==d&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!na(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Jt.MOCK_USER;else{g=$R(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Jt(E)}r._authCredentials=new qI(new xT(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ou(t,dt._jsonSchema))return new dt(e,s||null,new ge(nt.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:xt("string",dt._jsonSchemaVersion),referencePath:xt("string")};class ns extends ma{constructor(e,t,s){super(e,t,hf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Fb(r,e,...t){if(r=mt(r),CT("collection","path",e),r instanceof bf){const s=nt.fromString(e,...t);return tb(s),new ns(r,null,s)}{if(!(r instanceof dt||r instanceof ns))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return tb(s),new ns(r.firestore,null,s)}}function un(r,e,...t){if(r=mt(r),arguments.length===1&&(e=lg.newId()),CT("doc","path",e),r instanceof bf){const s=nt.fromString(e,...t);return eb(s),new dt(r,null,new ge(s))}{if(!(r instanceof dt||r instanceof ns))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return eb(s),new dt(r.firestore,r instanceof ns?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="AsyncQueue";class Gb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vw(this,"async_queue_retry"),this._c=()=>{const s=Zm();s&&he(Hb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ts;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;he(Hb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",$b(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=xg.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:$b(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $b(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class us extends bf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Gb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gb(e),this._firestoreClient=void 0,await e}}}function LO(r,e){const t=typeof r=="object"?r:VE(),s=typeof r=="string"?r:Fh,o=Zp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=HR("firestore");u&&VO(o,...u)}return o}function Og(r){if(r._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UO(r),r._firestoreClient}function UO(r){const e=r._freezeSettings(),t=function(o,u,h,d){return new lN(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Bw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new OO(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Qt.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:xt("string",zn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:xt("string",Ar._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Rr(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:xt("string",Rr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class BO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ku(e,this.data,t,this.fieldTransforms)}}class qw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class kg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Fw(this.Ac)&&jO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||yf(e)}Cc(e,t,s,o=!1){return new kg({Ac:e,methodName:t,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wf(r){const e=r._freezeSettings(),t=yf(r._databaseId);return new zO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Hw(r,e,t,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,t,o);Mg("Data must be an object, but it was:",h,s);const d=Gw(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const S=Mp(e,E,t);if(!h.contains(S))throw new ce(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Kw(_,S)||_.push(S)}p=new Rn(_),g=h.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=h.fieldTransforms;return new BO(new mn(d),p,g)}class Sf extends Tf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}class Pg extends Tf{_toFieldTransform(e){return new PN(e.path,new _u)}isEqual(e){return e instanceof Pg}}function qO(r,e,t,s){const o=r.Cc(1,e,t);Mg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();hs(s,(p,g)=>{const _=Vg(e,p,t);g=mt(g);const E=o.yc(_);if(g instanceof Sf)u.push(_);else{const S=Lu(g,E);S!=null&&(u.push(_),h.set(_,S))}});const d=new Rn(u);return new qw(h,d,o.fieldTransforms)}function FO(r,e,t,s,o,u){const h=r.Cc(1,e,t),d=[Mp(e,s,t)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Mp(e,u[S])),p.push(u[S+1]);const g=[],_=mn.empty();for(let S=d.length-1;S>=0;--S)if(!Kw(g,d[S])){const I=d[S];let R=p[S];R=mt(R);const L=h.yc(I);if(R instanceof Sf)g.push(I);else{const x=Lu(R,L);x!=null&&(g.push(I),_.set(I,x))}}const E=new Rn(g);return new qw(_,E,h.fieldTransforms)}function HO(r,e,t,s=!1){return Lu(t,r.Cc(s?4:3,e))}function Lu(r,e){if($w(r=mt(r)))return Mg("Unsupported field value:",e,r),Gw(r,e);if(r instanceof Tf)return function(s,o){if(!Fw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Lu(d,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Kh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,u)}}if(s instanceof Ar)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:lw(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rr)return function(h,d){return{mapValue:{fields:{[LT]:{stringValue:UT},[Hh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return mg(d.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${of(s)}`)}(r,e)}function Gw(r,e){const t={};return DT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(r,(s,o)=>{const u=Lu(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function $w(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Ar||r instanceof zn||r instanceof dt||r instanceof Tf||r instanceof Rr)}function Mg(r,e,t){if(!$w(t)||!IT(t)){const s=of(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Mp(r,e,t){if((e=mt(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return Vg(r,e);throw Wh("Field path arguments must be of type string or ",r,!1,void 0,t)}const GO=new RegExp("[~\\*/\\[\\]]");function Vg(r,e,t){if(e.search(GO)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ef(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Wh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,d+r+p)}function Kw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $O extends Qw{data(){return super.data()}}function Lg(r,e){return typeof e=="string"?Vg(r,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class Yw extends Ug{}function QO(r,e,...t){let s=[];e instanceof Ug&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Bg).length,d=u.filter(p=>p instanceof jg).length;if(h>1||h>0&&d>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class jg extends Yw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new jg(e,t,s)}_apply(e){const t=this._parse(e);return Xw(e._query,t),new ma(e.firestore,e.converter,wp(e._query,t))}_parse(e){const t=wf(e.firestore);return function(u,h,d,p,g,_,E){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Yb(E,_);const R=[];for(const L of E)R.push(Qb(p,u,L));S={arrayValue:{values:R}}}else S=Qb(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Yb(E,_),S=HO(d,h,E,_==="in"||_==="not-in");return Rt.create(g,_,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Bg extends Ug{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)Xw(h,p),h=wp(h,p)}(e._query,t),new ma(e.firestore,e.converter,wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zg extends Yw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,h)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function YO(r,e="asc"){const t=e,s=Lg("orderBy",r);return zg._create(s,t)}function Qb(r,e,t){if(typeof(t=mt(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$T(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ub(r,new ge(s))}if(t instanceof dt)return ub(r,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(t)}.`)}function Yb(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xw(r,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XO{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return hs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[Hh].arrayValue?.values?.map(s=>vt(s.doubleValue));return new Rr(t)}convertGeoPoint(e){return new Ar(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=is(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Ge(mw(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||hi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends Qw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:xt("string",ea._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Ih extends ea{data(e={}){return super.data(e)}}class vo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ih(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ru(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ru(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:WO(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){r=qn(r,dt);const e=qn(r.firestore,us);return MO(Og(e),r._key).then(t=>eS(e,r,t))}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:xt("string",vo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Zw extends XO{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Eu(r,e,t){r=qn(r,dt);const s=qn(r.firestore,us),o=Ww(r.converter,e);return Af(s,[Hw(wf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Fn.none())])}function qg(r,e,t,...s){r=qn(r,dt);const o=qn(r.firestore,us),u=wf(o);let h;return h=typeof(e=mt(e))=="string"||e instanceof Ef?FO(u,"updateDoc",r._key,e,t,s):qO(u,"updateDoc",r._key,e),Af(o,[h.toMutation(r._key,Fn.exists(!0))])}function Jw(r){return Af(qn(r.firestore,us),[new pg(r._key,Fn.none())])}function ZO(r,e){const t=qn(r.firestore,us),s=un(r),o=Ww(r.converter,e);return Af(t,[Hw(wf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function Fg(r,...e){r=mt(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Kb(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Kb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,d;if(r instanceof dt)h=qn(r.firestore,us),d=hf(r._key.path),u={next:p=>{e[s]&&e[s](eS(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=qn(r,ma);h=qn(p.firestore,us),d=p._query;const g=new Zw(h);u={next:_=>{e[s]&&e[s](new vo(h,g,p,_))},error:e[s+1],complete:e[s+2]},KO(r._query)}return function(g,_,E,S){const I=new Uw(S),R=new Iw(_,I,E);return g.asyncQueue.enqueueAndForget(async()=>xw(await Pp(g),R)),()=>{I.Nu(),g.asyncQueue.enqueueAndForget(async()=>Cw(await Pp(g),R))}}(Og(h),d,o,u)}function Af(r,e){return function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>wO(await PO(s),o,u)),u.promise}(Og(r),e)}function eS(r,e,t){const s=t.docs.get(e._key),o=new Zw(r);return new ea(r,o,e._key,s,new ru(t.hasPendingWrites,t.fromCache),e.converter)}function Yi(){return new Pg("serverTimestamp")}(function(e,t=!0){(function(o){ko=o})(Oo),bo(new ra("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new us(new FI(s.getProvider("auth-internal")),new $I(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:t,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ji(Xv,Wv,e),Ji(Xv,Wv,"esm2020")})();const JO={apiKey:"AIzaSyDeA9WJ9h-an3mmw-Fn8w0P0-Z4kcGHcEA",authDomain:"newsdotai-database.firebaseapp.com",projectId:"newsdotai-database",storageBucket:"newsdotai-database.firebasestorage.app",messagingSenderId:"235389527224",appId:"1:235389527224:web:98d478aea2b9717410404d",measurementId:"G-1MJTLMM13M"},tS=ME(JO),yh=jI(tS),tn=LO(tS),mi=()=>{const[r,e]=j.useState(null),[t,s]=j.useState(!0),[o,u]=j.useState(null);j.useEffect(()=>{const g=xC(yh,_=>{e(_),s(!1)});return()=>g()},[]);const h=j.useCallback(async({username:g,dob:_,email:E,password:S})=>{s(!0),u(null);try{const I=g.toLowerCase(),R=un(tn,"usernames",I);if((await xo(R)).exists()){u("Username already taken"),s(!1);return}const q=(await vC(yh,E,S)).user.uid;await Eu(un(tn,"users",q),{username:I,dob:_,email:E,createdAt:new Date().toISOString()}),await Eu(R,{email:E,uid:q})}catch(I){u(I.message)}finally{s(!1)}},[]),d=j.useCallback(async(g,_)=>{s(!0),u(null);try{let E=g;if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(g)){const S=g.toLowerCase(),I=un(tn,"usernames",S),R=await xo(I);if(!R.exists()){u("Username not found"),s(!1);return}E=R.data().email}await bC(yh,E,_)}catch(E){u(E.message)}finally{s(!1)}},[]),p=j.useCallback(async()=>{s(!0),u(null);try{await CC(yh)}catch(g){u(g.message)}finally{s(!1)}},[]);return{user:r,loading:t,error:o,signUp:h,signIn:d,signOutUser:p}},ep={theme:"dark"},e4=()=>{const{user:r}=mi(),[e,t]=j.useState(null),[s,o]=j.useState(!0),[u,h]=j.useState(null);return j.useEffect(()=>{if(!r?.uid){t(null),o(!1);return}o(!0);const g=un(tn,"users",r.uid,"settings","preferences"),_=Fg(g,E=>{if(E.exists()){const S=E.data();t({theme:S.theme||ep.theme,createdAt:S.createdAt?.toDate(),updatedAt:S.updatedAt?.toDate()})}else Eu(g,{...ep,createdAt:Yi(),updatedAt:Yi()}),t(ep);o(!1)},E=>{console.error("Error fetching user settings:",E),h("Failed to load user settings"),o(!1)});return()=>_()},[r?.uid]),{settings:e,loading:s,error:u,updateTheme:async g=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const _=un(tn,"users",r.uid,"settings","preferences");(await xo(_)).exists()?await qg(_,{theme:g,updatedAt:Yi()}):await Eu(_,{theme:g,createdAt:Yi(),updatedAt:Yi()})}catch(_){throw console.error("Error updating theme:",_),h("Failed to update theme"),_}},clearError:()=>{h(null)}}},nS=j.createContext(void 0),t4=({children:r})=>{const{settings:e,updateTheme:t}=e4(),[s,o]=j.useState(!0);j.useEffect(()=>{e?.theme&&o(e.theme==="dark")},[e?.theme]),j.useEffect(()=>{setTimeout(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(s))},0)},[s]);const u=async()=>{const h=!s;o(h);try{await t(h?"dark":"light")}catch(d){console.error("Failed to update theme in Firebase:",d)}};return T.jsx(nS.Provider,{value:{isDarkMode:s,toggleDarkMode:u},children:r})},pa=()=>{const r=j.useContext(nS);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},n4=j.forwardRef(({value:r,onClick:e,placeholder:t},s)=>T.jsx("button",{type:"button",onClick:e,ref:s,className:"w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50 dark:bg-slate-700/50 dark:text-white dark:border-slate-600/50 dark:placeholder-slate-400 dark:focus:border-blue-500/50",style:{textAlign:"left",width:"100%",height:"48px"},children:r||t}));n4.displayName="CustomDateInput";const r4=()=>{const{user:r,loading:e,error:t,signIn:s}=mi(),{isDarkMode:o}=pa(),[u,h]=j.useState(""),[d,p]=j.useState(""),[g,_]=j.useState(null),E=Su();j.useEffect(()=>{o?(document.documentElement.classList.add("dark"),document.body.classList.add("dark"),document.getElementById("root")?.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"),document.getElementById("root")?.classList.remove("dark"))},[o]),j.useEffect(()=>{const I=setInterval(()=>{const R=document.querySelector(".react-datepicker-popper");R&&(o?R.classList.add("dark"):R.classList.remove("dark"),clearInterval(I))},100);return()=>clearInterval(I)},[o]),j.useEffect(()=>{r&&E("/home")},[r,E]);const S=async I=>{if(I.preventDefault(),_(null),!u||!d){_("Please fill in all fields.");return}await s(u,d)};return r?null:T.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${o?"text-white dark":"text-slate-900"}`,children:T.jsxs("div",{className:"w-full max-w-md space-y-8",children:[T.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[T.jsxs("div",{className:`relative w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-500 ${o?"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 shadow-lg shadow-blue-500/30"}`,children:[T.jsx("div",{className:"w-6 h-6 border-2 border-white/80 rounded-sm"}),T.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-transparent via-white/10 to-transparent"})]}),T.jsxs("div",{children:[T.jsx("h1",{className:`text-3xl font-bold tracking-tight transition-all duration-500 ${o?"bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent":"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-600 bg-clip-text text-transparent"}`,children:"NEWS.AI"}),T.jsx("p",{className:`text-sm font-medium transition-colors duration-500 ${o?"text-slate-400":"text-slate-500"}`,children:"Sign in to your account"})]})]}),T.jsxs("div",{className:"card-glass",children:[T.jsx("h2",{className:`mb-6 text-2xl font-bold text-center bg-gradient-to-r ${o?"from-white via-gray-200 to-gray-400":"from-slate-900 via-slate-700 to-slate-600"} bg-clip-text text-transparent`,children:"Sign In"}),T.jsxs("form",{onSubmit:S,className:"space-y-4",children:[T.jsx("input",{type:"text",placeholder:"Email or Username",value:u,onChange:I=>h(I.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${o?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),T.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:I=>p(I.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${o?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),(g||t)&&T.jsx("div",{className:"text-red-500 text-sm",children:g||t}),T.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Loading...":"Sign In"}),T.jsx("div",{className:"mt-4 text-center",children:T.jsx(ri,{to:"/signup",className:"text-blue-600 hover:underline",children:"Don't have an account? Sign Up"})})]})]})]})})};function i4(r){const e=[];return r.length<8&&e.push("At least 8 characters"),/[A-Z]/.test(r)||e.push("One uppercase letter"),/[a-z]/.test(r)||e.push("One lowercase letter"),/[0-9]/.test(r)||e.push("One number"),/[^A-Za-z0-9]/.test(r)||e.push("One special character"),e}const s4=()=>{const{user:r,loading:e,error:t,signUp:s,signIn:o}=mi(),{isDarkMode:u}=pa(),[h,d]=j.useState(!1),[p,g]=j.useState(""),[_,E]=j.useState(""),[S,I]=j.useState(null),[R,L]=j.useState(""),[x,q]=j.useState(""),[Z,ie]=j.useState(""),[de,le]=j.useState(""),[_e,P]=j.useState(null),N=Su();j.useEffect(()=>{if(!h||!_){I(null);return}let M=!0;I("checking");const B=setTimeout(async()=>{const O=un(tn,"usernames",_.toLowerCase()),pt=await xo(O);M&&I(pt.exists()?"taken":"available")},500);return()=>{M=!1,clearTimeout(B)}},[_,h]);const C=h?i4(Z):[];j.useEffect(()=>{u?(document.documentElement.classList.add("dark"),document.body.classList.add("dark"),document.getElementById("root")?.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"),document.getElementById("root")?.classList.remove("dark"))},[u]),j.useEffect(()=>{r&&N("/home")},[r,N]);const V=async M=>{if(M.preventDefault(),P(null),h){if(!_||!R||!x||!Z||!de){P("Please fill in all fields.");return}if(S==="taken"){P("Username already taken.");return}if(Z!==de){P("Passwords do not match.");return}if(C.length>0){P("Password does not meet requirements.");return}await s({username:_,dob:R,email:x,password:Z})}else{if(!p||!Z){P("Please fill in all fields.");return}await o(p,Z)}};return r?null:T.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${u?"text-white dark":"text-slate-900"}`,children:T.jsxs("div",{className:"w-full max-w-md space-y-8",children:[T.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[T.jsxs("div",{className:`relative w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-500 ${u?"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 shadow-lg shadow-blue-500/30"}`,children:[T.jsx("div",{className:"w-6 h-6 border-2 border-white/80 rounded-sm"}),T.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-transparent via-white/10 to-transparent"})]}),T.jsxs("div",{children:[T.jsx("h1",{className:`text-3xl font-bold tracking-tight transition-all duration-500 ${u?"bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent":"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-600 bg-clip-text text-transparent"}`,children:"NEWS.AI"}),T.jsx("p",{className:`text-sm font-medium transition-colors duration-500 ${u?"text-slate-400":"text-slate-500"}`,children:h?"Create your account":"Sign in to your account"})]})]}),T.jsxs("div",{className:"card-glass",children:[T.jsx("h2",{className:`mb-6 text-2xl font-bold text-center bg-gradient-to-r ${u?"from-white via-gray-200 to-gray-400":"from-slate-900 via-slate-700 to-slate-600"} bg-clip-text text-transparent`,children:h?"Sign Up":"Sign In"}),T.jsxs("form",{onSubmit:V,className:"space-y-4",children:[h?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative",children:[T.jsx("input",{id:"username",type:"text",placeholder:"Username",value:_.toLowerCase(),onChange:M=>{E(M.target.value)},className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),_&&T.jsxs("span",{className:`absolute right-3 top-1/2 -translate-y-1/2 text-xs font-medium ${S==="checking"?"text-yellow-500":S==="taken"?"text-red-500":S==="available"?"text-green-500":""}`,children:[S==="checking"&&"Checking...",S==="taken"&&"Taken",S==="available"&&"Available"]})]}),T.jsx("input",{type:"date",placeholder:"Date of Birth",value:R,onChange:M=>L(M.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),T.jsx("input",{type:"email",placeholder:"Email",value:x,onChange:M=>q(M.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),T.jsxs("div",{children:[T.jsx("input",{type:"password",placeholder:"Password",value:Z,onChange:M=>ie(M.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),Z&&T.jsxs("ul",{className:"mt-1 ml-2 text-xs text-slate-400 space-y-0.5",children:[T.jsx("li",{className:Z.length>=8?"text-green-500":"text-red-500",children:"At least 8 characters"}),T.jsx("li",{className:/[A-Z]/.test(Z)?"text-green-500":"text-red-500",children:"One uppercase letter"}),T.jsx("li",{className:/[a-z]/.test(Z)?"text-green-500":"text-red-500",children:"One lowercase letter"}),T.jsx("li",{className:/[0-9]/.test(Z)?"text-green-500":"text-red-500",children:"One number"}),T.jsx("li",{className:/[^A-Za-z0-9]/.test(Z)?"text-green-500":"text-red-500",children:"One special character"})]})]}),T.jsx("input",{type:"password",placeholder:"Retype Password",value:de,onChange:M=>le(M.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0})]}):T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",placeholder:"Email or Username",value:p,onChange:M=>g(M.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),T.jsx("input",{type:"password",placeholder:"Password",value:Z,onChange:M=>ie(M.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0})]}),(_e||t)&&T.jsx("div",{className:"text-red-500 text-sm",children:_e||t}),T.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Loading...":h?"Sign Up":"Sign In"})]}),T.jsx("div",{className:"mt-4 text-center",children:T.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>{d(!h),P(null),ie(""),le("")},children:h?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})};function rS(r,e){return function(){return r.apply(e,arguments)}}const{toString:a4}=Object.prototype,{getPrototypeOf:Hg}=Object,{iterator:Rf,toStringTag:iS}=Symbol,xf=(r=>e=>{const t=a4.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),tr=r=>(r=r.toLowerCase(),e=>xf(e)===r),Cf=r=>e=>typeof e===r,{isArray:Uo}=Array,Tu=Cf("undefined");function o4(r){return r!==null&&!Tu(r)&&r.constructor!==null&&!Tu(r.constructor)&&pn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const sS=tr("ArrayBuffer");function l4(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&sS(r.buffer),e}const u4=Cf("string"),pn=Cf("function"),aS=Cf("number"),If=r=>r!==null&&typeof r=="object",c4=r=>r===!0||r===!1,Nh=r=>{if(xf(r)!=="object")return!1;const e=Hg(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iS in r)&&!(Rf in r)},h4=tr("Date"),f4=tr("File"),d4=tr("Blob"),m4=tr("FileList"),p4=r=>If(r)&&pn(r.pipe),g4=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||pn(r.append)&&((e=xf(r))==="formdata"||e==="object"&&pn(r.toString)&&r.toString()==="[object FormData]"))},y4=tr("URLSearchParams"),[_4,v4,b4,E4]=["ReadableStream","Request","Response","Headers"].map(tr),T4=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uu(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,o;if(typeof r!="object"&&(r=[r]),Uo(r))for(s=0,o=r.length;s<o;s++)e.call(null,r[s],s,r);else{const u=t?Object.getOwnPropertyNames(r):Object.keys(r),h=u.length;let d;for(s=0;s<h;s++)d=u[s],e.call(null,r[d],d,r)}}function oS(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lS=r=>!Tu(r)&&r!==Js;function Vp(){const{caseless:r}=lS(this)&&this||{},e={},t=(s,o)=>{const u=r&&oS(e,o)||o;Nh(e[u])&&Nh(s)?e[u]=Vp(e[u],s):Nh(s)?e[u]=Vp({},s):Uo(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Uu(arguments[s],t);return e}const w4=(r,e,t,{allOwnKeys:s}={})=>(Uu(e,(o,u)=>{t&&pn(o)?r[u]=rS(o,t):r[u]=o},{allOwnKeys:s}),r),S4=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),A4=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},R4=(r,e,t,s)=>{let o,u,h;const d={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)h=o[u],(!s||s(h,r,e))&&!d[h]&&(e[h]=r[h],d[h]=!0);r=t!==!1&&Hg(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},x4=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},C4=r=>{if(!r)return null;if(Uo(r))return r;let e=r.length;if(!aS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},I4=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Hg(Uint8Array)),N4=(r,e)=>{const s=(r&&r[Rf]).call(r);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(r,u[0],u[1])}},D4=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},O4=tr("HTMLFormElement"),k4=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),Xb=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),P4=tr("RegExp"),uS=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Uu(t,(o,u)=>{let h;(h=e(o,u,r))!==!1&&(s[u]=h||o)}),Object.defineProperties(r,s)},M4=r=>{uS(r,(e,t)=>{if(pn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(pn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},V4=(r,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Uo(r)?s(r):s(String(r).split(e)),t},L4=()=>{},U4=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function j4(r){return!!(r&&pn(r.append)&&r[iS]==="FormData"&&r[Rf])}const B4=r=>{const e=new Array(10),t=(s,o)=>{if(If(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Uo(s)?[]:{};return Uu(s,(h,d)=>{const p=t(h,o+1);!Tu(p)&&(u[d]=p)}),e[o]=void 0,u}}return s};return t(r,0)},z4=tr("AsyncFunction"),q4=r=>r&&(If(r)||pn(r))&&pn(r.then)&&pn(r.catch),cS=((r,e)=>r?setImmediate:e?((t,s)=>(Js.addEventListener("message",({source:o,data:u})=>{o===Js&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Js.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pn(Js.postMessage)),F4=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||cS,H4=r=>r!=null&&pn(r[Rf]),Y={isArray:Uo,isArrayBuffer:sS,isBuffer:o4,isFormData:g4,isArrayBufferView:l4,isString:u4,isNumber:aS,isBoolean:c4,isObject:If,isPlainObject:Nh,isReadableStream:_4,isRequest:v4,isResponse:b4,isHeaders:E4,isUndefined:Tu,isDate:h4,isFile:f4,isBlob:d4,isRegExp:P4,isFunction:pn,isStream:p4,isURLSearchParams:y4,isTypedArray:I4,isFileList:m4,forEach:Uu,merge:Vp,extend:w4,trim:T4,stripBOM:S4,inherits:A4,toFlatObject:R4,kindOf:xf,kindOfTest:tr,endsWith:x4,toArray:C4,forEachEntry:N4,matchAll:D4,isHTMLForm:O4,hasOwnProperty:Xb,hasOwnProp:Xb,reduceDescriptors:uS,freezeMethods:M4,toObjectSet:V4,toCamelCase:k4,noop:L4,toFiniteNumber:U4,findKey:oS,global:Js,isContextDefined:lS,isSpecCompliantForm:j4,toJSONObject:B4,isAsyncFn:z4,isThenable:q4,setImmediate:cS,asap:F4,isIterable:H4};function Ce(r,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Y.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const hS=Ce.prototype,fS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{fS[r]={value:r}});Object.defineProperties(Ce,fS);Object.defineProperty(hS,"isAxiosError",{value:!0});Ce.from=(r,e,t,s,o,u)=>{const h=Object.create(hS);return Y.toFlatObject(r,h,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ce.call(h,r.message,e,t,s,o),h.cause=r,h.name=r.name,u&&Object.assign(h,u),h};const G4=null;function Lp(r){return Y.isPlainObject(r)||Y.isArray(r)}function dS(r){return Y.endsWith(r,"[]")?r.slice(0,-2):r}function Wb(r,e,t){return r?r.concat(e).map(function(o,u){return o=dS(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function $4(r){return Y.isArray(r)&&!r.some(Lp)}const K4=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Nf(r,e,t){if(!Y.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,x){return!Y.isUndefined(x[L])});const s=t.metaTokens,o=t.visitor||_,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(o))throw new TypeError("visitor must be a function");function g(R){if(R===null)return"";if(Y.isDate(R))return R.toISOString();if(Y.isBoolean(R))return R.toString();if(!p&&Y.isBlob(R))throw new Ce("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(R)||Y.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function _(R,L,x){let q=R;if(R&&!x&&typeof R=="object"){if(Y.endsWith(L,"{}"))L=s?L:L.slice(0,-2),R=JSON.stringify(R);else if(Y.isArray(R)&&$4(R)||(Y.isFileList(R)||Y.endsWith(L,"[]"))&&(q=Y.toArray(R)))return L=dS(L),q.forEach(function(ie,de){!(Y.isUndefined(ie)||ie===null)&&e.append(h===!0?Wb([L],de,u):h===null?L:L+"[]",g(ie))}),!1}return Lp(R)?!0:(e.append(Wb(x,L,u),g(R)),!1)}const E=[],S=Object.assign(K4,{defaultVisitor:_,convertValue:g,isVisitable:Lp});function I(R,L){if(!Y.isUndefined(R)){if(E.indexOf(R)!==-1)throw Error("Circular reference detected in "+L.join("."));E.push(R),Y.forEach(R,function(q,Z){(!(Y.isUndefined(q)||q===null)&&o.call(e,q,Y.isString(Z)?Z.trim():Z,L,S))===!0&&I(q,L?L.concat(Z):[Z])}),E.pop()}}if(!Y.isObject(r))throw new TypeError("data must be an object");return I(r),e}function Zb(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Gg(r,e){this._pairs=[],r&&Nf(r,this,e)}const mS=Gg.prototype;mS.append=function(e,t){this._pairs.push([e,t])};mS.toString=function(e){const t=e?function(s){return e.call(this,s,Zb)}:Zb;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function Q4(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pS(r,e,t){if(!e)return r;const s=t&&t.encode||Q4;Y.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Y.isURLSearchParams(e)?e.toString():new Gg(e,t).toString(s),u){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class Jb{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(s){s!==null&&e(s)})}}const gS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y4=typeof URLSearchParams<"u"?URLSearchParams:Gg,X4=typeof FormData<"u"?FormData:null,W4=typeof Blob<"u"?Blob:null,Z4={isBrowser:!0,classes:{URLSearchParams:Y4,FormData:X4,Blob:W4},protocols:["http","https","file","blob","url","data"]},$g=typeof window<"u"&&typeof document<"u",Up=typeof navigator=="object"&&navigator||void 0,J4=$g&&(!Up||["ReactNative","NativeScript","NS"].indexOf(Up.product)<0),ek=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tk=$g&&window.location.href||"http://localhost",nk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$g,hasStandardBrowserEnv:J4,hasStandardBrowserWebWorkerEnv:ek,navigator:Up,origin:tk},Symbol.toStringTag,{value:"Module"})),nn={...nk,...Z4};function rk(r,e){return Nf(r,new nn.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return nn.isNode&&Y.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function ik(r){return Y.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sk(r){const e={},t=Object.keys(r);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=r[u];return e}function yS(r){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const d=Number.isFinite(+h),p=u>=t.length;return h=!h&&Y.isArray(o)?o.length:h,p?(Y.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!d):((!o[h]||!Y.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Y.isArray(o[h])&&(o[h]=sk(o[h])),!d)}if(Y.isFormData(r)&&Y.isFunction(r.entries)){const t={};return Y.forEachEntry(r,(s,o)=>{e(ik(s),o,t,0)}),t}return null}function ak(r,e,t){if(Y.isString(r))try{return(e||JSON.parse)(r),Y.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const ju={transitional:gS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Y.isObject(e);if(u&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return o?JSON.stringify(yS(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rk(e,this.formSerializer).toString();if((d=Y.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Nf(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),ak(e)):e}],transformResponse:[function(e){const t=this.transitional||ju.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(h)throw d.name==="SyntaxError"?Ce.from(d,Ce.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],r=>{ju.headers[r]={}});const ok=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lk=r=>{const e={};let t,s,o;return r&&r.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&ok[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},eE=Symbol("internals");function Wl(r){return r&&String(r).trim().toLowerCase()}function Dh(r){return r===!1||r==null?r:Y.isArray(r)?r.map(Dh):String(r)}function uk(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const ck=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function tp(r,e,t,s,o){if(Y.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Y.isString(e)){if(Y.isString(s))return e.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(e)}}function hk(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function fk(r,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(d,p,g){const _=Wl(p);if(!_)throw new Error("header name must be a non-empty string");const E=Y.findKey(o,_);(!E||o[E]===void 0||g===!0||g===void 0&&o[E]!==!1)&&(o[E||p]=Dh(d))}const h=(d,p)=>Y.forEach(d,(g,_)=>u(g,_,p));if(Y.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Y.isString(e)&&(e=e.trim())&&!ck(e))h(lk(e),t);else if(Y.isObject(e)&&Y.isIterable(e)){let d={},p,g;for(const _ of e){if(!Y.isArray(_))throw TypeError("Object iterator must return a key-value pair");d[g=_[0]]=(p=d[g])?Y.isArray(p)?[...p,_[1]]:[p,_[1]]:_[1]}h(d,t)}else e!=null&&u(t,e,s);return this}get(e,t){if(e=Wl(e),e){const s=Y.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return uk(o);if(Y.isFunction(t))return t.call(this,o,s);if(Y.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wl(e),e){const s=Y.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||tp(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Wl(h),h){const d=Y.findKey(s,h);d&&(!t||tp(s,s[d],d,t))&&(delete s[d],o=!0)}}return Y.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||tp(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Y.forEach(this,(o,u)=>{const h=Y.findKey(s,u);if(h){t[h]=Dh(o),delete t[u];return}const d=e?hk(u):String(u).trim();d!==u&&delete t[u],t[d]=Dh(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Y.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[eE]=this[eE]={accessors:{}}).accessors,o=this.prototype;function u(h){const d=Wl(h);s[d]||(fk(o,h),s[d]=!0)}return Y.isArray(e)?e.forEach(u):u(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(gn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});Y.freezeMethods(gn);function np(r,e){const t=this||ju,s=e||t,o=gn.from(s.headers);let u=s.data;return Y.forEach(r,function(d){u=d.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function _S(r){return!!(r&&r.__CANCEL__)}function jo(r,e,t){Ce.call(this,r??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(jo,Ce,{__CANCEL__:!0});function vS(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function dk(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function mk(r,e){r=r||10;const t=new Array(r),s=new Array(r);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=s[u];h||(h=g),t[o]=p,s[o]=g;let E=u,S=0;for(;E!==o;)S+=t[E++],E=E%r;if(o=(o+1)%r,o===u&&(u=(u+1)%r),g-h<e)return;const I=_&&g-_;return I?Math.round(S*1e3/I):void 0}}function pk(r,e){let t=0,s=1e3/e,o,u;const h=(g,_=Date.now())=>{t=_,o=null,u&&(clearTimeout(u),u=null),r.apply(null,g)};return[(...g)=>{const _=Date.now(),E=_-t;E>=s?h(g,_):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-E)))},()=>o&&h(o)]}const Zh=(r,e,t=3)=>{let s=0;const o=mk(50,250);return pk(u=>{const h=u.loaded,d=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),_=h<=d;s=h;const E={loaded:h,total:d,progress:d?h/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&_?(d-h)/g:void 0,event:u,lengthComputable:d!=null,[e?"download":"upload"]:!0};r(E)},t)},tE=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},nE=r=>(...e)=>Y.asap(()=>r(...e)),gk=nn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,nn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,yk=nn.hasStandardBrowserEnv?{write(r,e,t,s,o,u){const h=[r+"="+encodeURIComponent(e)];Y.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Y.isString(s)&&h.push("path="+s),Y.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _k(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function vk(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function bS(r,e,t){let s=!_k(e);return r&&(s||t==!1)?vk(r,e):e}const rE=r=>r instanceof gn?{...r}:r;function ua(r,e){e=e||{};const t={};function s(g,_,E,S){return Y.isPlainObject(g)&&Y.isPlainObject(_)?Y.merge.call({caseless:S},g,_):Y.isPlainObject(_)?Y.merge({},_):Y.isArray(_)?_.slice():_}function o(g,_,E,S){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g,E,S)}else return s(g,_,E,S)}function u(g,_){if(!Y.isUndefined(_))return s(void 0,_)}function h(g,_){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function d(g,_,E){if(E in e)return s(g,_);if(E in r)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(g,_,E)=>o(rE(g),rE(_),E,!0)};return Y.forEach(Object.keys(Object.assign({},r,e)),function(_){const E=p[_]||o,S=E(r[_],e[_],_);Y.isUndefined(S)&&E!==d||(t[_]=S)}),t}const ES=r=>{const e=ua({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:d}=e;e.headers=h=gn.from(h),e.url=pS(bS(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),d&&h.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(Y.isFormData(t)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,..._]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",..._].join("; "))}}if(nn.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(e)),s||s!==!1&&gk(e.url))){const g=o&&u&&yk.read(u);g&&h.set(o,g)}return e},bk=typeof XMLHttpRequest<"u",Ek=bk&&function(r){return new Promise(function(t,s){const o=ES(r);let u=o.data;const h=gn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=o,_,E,S,I,R;function L(){I&&I(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function q(){if(!x)return;const ie=gn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),le={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:ie,config:r,request:x};vS(function(P){t(P),L()},function(P){s(P),L()},le),x=null}"onloadend"in x?x.onloadend=q:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(q)},x.onabort=function(){x&&(s(new Ce("Request aborted",Ce.ECONNABORTED,r,x)),x=null)},x.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,r,x)),x=null},x.ontimeout=function(){let de=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const le=o.transitional||gS;o.timeoutErrorMessage&&(de=o.timeoutErrorMessage),s(new Ce(de,le.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,r,x)),x=null},u===void 0&&h.setContentType(null),"setRequestHeader"in x&&Y.forEach(h.toJSON(),function(de,le){x.setRequestHeader(le,de)}),Y.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),d&&d!=="json"&&(x.responseType=o.responseType),g&&([S,R]=Zh(g,!0),x.addEventListener("progress",S)),p&&x.upload&&([E,I]=Zh(p),x.upload.addEventListener("progress",E),x.upload.addEventListener("loadend",I)),(o.cancelToken||o.signal)&&(_=ie=>{x&&(s(!ie||ie.type?new jo(null,r,x):ie),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const Z=dk(o.url);if(Z&&nn.protocols.indexOf(Z)===-1){s(new Ce("Unsupported protocol "+Z+":",Ce.ERR_BAD_REQUEST,r));return}x.send(u||null)})},Tk=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,d();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof Ce?_:new jo(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,u(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const d=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),r=null)};r.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>Y.asap(d),p}},wk=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,o;for(;s<t;)o=s+e,yield r.slice(s,o),s=o},Sk=async function*(r,e){for await(const t of Ak(r))yield*wk(t,e)},Ak=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},iE=(r,e,t,s)=>{const o=Sk(r,e);let u=0,h,d=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await o.next();if(g){d(),p.close();return}let E=_.byteLength;if(t){let S=u+=E;t(S)}p.enqueue(new Uint8Array(_))}catch(g){throw d(g),g}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},Df=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TS=Df&&typeof ReadableStream=="function",Rk=Df&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),wS=(r,...e)=>{try{return!!r(...e)}catch{return!1}},xk=TS&&wS(()=>{let r=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),sE=64*1024,jp=TS&&wS(()=>Y.isReadableStream(new Response("").body)),Jh={stream:jp&&(r=>r.body)};Df&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jh[e]&&(Jh[e]=Y.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const Ck=async r=>{if(r==null)return 0;if(Y.isBlob(r))return r.size;if(Y.isSpecCompliantForm(r))return(await new Request(nn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(r)||Y.isArrayBuffer(r))return r.byteLength;if(Y.isURLSearchParams(r)&&(r=r+""),Y.isString(r))return(await Rk(r)).byteLength},Ik=async(r,e)=>{const t=Y.toFiniteNumber(r.getContentLength());return t??Ck(e)},Nk=Df&&(async r=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:_,withCredentials:E="same-origin",fetchOptions:S}=ES(r);g=g?(g+"").toLowerCase():"text";let I=Tk([o,u&&u.toAbortSignal()],h),R;const L=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let x;try{if(p&&xk&&t!=="get"&&t!=="head"&&(x=await Ik(_,s))!==0){let le=new Request(e,{method:"POST",body:s,duplex:"half"}),_e;if(Y.isFormData(s)&&(_e=le.headers.get("content-type"))&&_.setContentType(_e),le.body){const[P,N]=tE(x,Zh(nE(p)));s=iE(le.body,sE,P,N)}}Y.isString(E)||(E=E?"include":"omit");const q="credentials"in Request.prototype;R=new Request(e,{...S,signal:I,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:q?E:void 0});let Z=await fetch(R,S);const ie=jp&&(g==="stream"||g==="response");if(jp&&(d||ie&&L)){const le={};["status","statusText","headers"].forEach(C=>{le[C]=Z[C]});const _e=Y.toFiniteNumber(Z.headers.get("content-length")),[P,N]=d&&tE(_e,Zh(nE(d),!0))||[];Z=new Response(iE(Z.body,sE,P,()=>{N&&N(),L&&L()}),le)}g=g||"text";let de=await Jh[Y.findKey(Jh,g)||"text"](Z,r);return!ie&&L&&L(),await new Promise((le,_e)=>{vS(le,_e,{data:de,headers:gn.from(Z.headers),status:Z.status,statusText:Z.statusText,config:r,request:R})})}catch(q){throw L&&L(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,r,R),{cause:q.cause||q}):Ce.from(q,q&&q.code,r,R)}}),Bp={http:G4,xhr:Ek,fetch:Nk};Y.forEach(Bp,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const aE=r=>`- ${r}`,Dk=r=>Y.isFunction(r)||r===null||r===!1,SS={getAdapter:r=>{r=Y.isArray(r)?r:[r];const{length:e}=r;let t,s;const o={};for(let u=0;u<e;u++){t=r[u];let h;if(s=t,!Dk(t)&&(s=Bp[(h=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(aE).join(`
`):" "+aE(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Bp};function rp(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new jo(null,r)}function oE(r){return rp(r),r.headers=gn.from(r.headers),r.data=np.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),SS.getAdapter(r.adapter||ju.adapter)(r).then(function(s){return rp(r),s.data=np.call(r,r.transformResponse,s),s.headers=gn.from(s.headers),s},function(s){return _S(s)||(rp(r),s&&s.response&&(s.response.data=np.call(r,r.transformResponse,s.response),s.response.headers=gn.from(s.response.headers))),Promise.reject(s)})}const AS="1.10.0",Of={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Of[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const lE={};Of.transitional=function(e,t,s){function o(u,h){return"[Axios v"+AS+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,d)=>{if(e===!1)throw new Ce(o(h," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!lE[h]&&(lE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,d):!0}};Of.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Ok(r,e,t){if(typeof r!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const d=r[u],p=d===void 0||h(d,u,r);if(p!==!0)throw new Ce("option "+u+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const Oh={assertOptions:Ok,validators:Of},vr=Oh.validators;let ta=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Jb,response:new Jb}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ua(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&Oh.assertOptions(s,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),o!=null&&(Y.isFunction(o)?t.paramsSerializer={serialize:o}:Oh.assertOptions(o,{encode:vr.function,serialize:vr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Oh.assertOptions(t,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Y.merge(u.common,u[t.method]);u&&Y.forEach(["delete","get","head","post","put","patch","common"],R=>{delete u[R]}),t.headers=gn.concat(h,u);const d=[];let p=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(t)===!1||(p=p&&L.synchronous,d.unshift(L.fulfilled,L.rejected))});const g=[];this.interceptors.response.forEach(function(L){g.push(L.fulfilled,L.rejected)});let _,E=0,S;if(!p){const R=[oE.bind(this),void 0];for(R.unshift.apply(R,d),R.push.apply(R,g),S=R.length,_=Promise.resolve(t);E<S;)_=_.then(R[E++],R[E++]);return _}S=d.length;let I=t;for(E=0;E<S;){const R=d[E++],L=d[E++];try{I=R(I)}catch(x){L.call(this,x);break}}try{_=oE.call(this,I)}catch(R){return Promise.reject(R)}for(E=0,S=g.length;E<S;)_=_.then(g[E++],g[E++]);return _}getUri(e){e=ua(this.defaults,e);const t=bS(e.baseURL,e.url,e.allowAbsoluteUrls);return pS(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){ta.prototype[e]=function(t,s){return this.request(ua(s||{},{method:e,url:t,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,d){return this.request(ua(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}ta.prototype[e]=t(),ta.prototype[e+"Form"]=t(!0)});let kk=class RS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(d=>{s.subscribe(d),u=d}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,d){s.reason||(s.reason=new jo(u,h,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new RS(function(o){e=o}),cancel:e}}};function Pk(r){return function(t){return r.apply(null,t)}}function Mk(r){return Y.isObject(r)&&r.isAxiosError===!0}const zp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zp).forEach(([r,e])=>{zp[e]=r});function xS(r){const e=new ta(r),t=rS(ta.prototype.request,e);return Y.extend(t,ta.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return xS(ua(r,o))},t}const bt=xS(ju);bt.Axios=ta;bt.CanceledError=jo;bt.CancelToken=kk;bt.isCancel=_S;bt.VERSION=AS;bt.toFormData=Nf;bt.AxiosError=Ce;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=Pk;bt.isAxiosError=Mk;bt.mergeConfig=ua;bt.AxiosHeaders=gn;bt.formToJSON=r=>yS(Y.isHTMLForm(r)?new FormData(r):r);bt.getAdapter=SS.getAdapter;bt.HttpStatusCode=zp;bt.default=bt;const{Axios:eP,AxiosError:tP,CanceledError:nP,isCancel:rP,CancelToken:iP,VERSION:sP,all:aP,Cancel:oP,isAxiosError:lP,spread:uP,toFormData:cP,AxiosHeaders:hP,HttpStatusCode:fP,formToJSON:dP,getAdapter:mP,mergeConfig:pP}=bt,fo={baseUrl:"https://newsdotai-backend.onrender.com/api",firebase:{apiKey:"AIzaSyDeA9WJ9h-an3mmw-Fn8w0P0-Z4kcGHcEA",authDomain:"newsdotai-database.firebaseapp.com",projectId:"newsdotai-database",storageBucket:"newsdotai-database.firebasestorage.app",messagingSenderId:"235389527224",appId:"1:235389527224:web:98d478aea2b9717410404d"},isDevelopment:!1,isProduction:!0},CS=()=>!0,IS=bt.create({baseURL:fo.baseUrl,timeout:1e4,headers:{"Content-Type":"application/json"}});IS.interceptors.response.use(r=>r,r=>{throw r.response?.status===429?new Error("Rate limit exceeded. Please try again later."):r.response?.status===401?new Error("Invalid API key. Please check your configuration."):r.response?.status===422?new Error("Invalid parameters. Please check your search criteria."):new Error("Failed to fetch news. Please try again.")});const Vk={async searchNews(r){try{return(await IS.get("/news",{params:{...r,...r.q&&{q:r.q},...r.language&&{language:r.language},...r.country&&{country:r.country},...r.category&&{category:r.category},...r.page&&{page:r.page}}})).data}catch(e){throw e}},async searchMultipleTopics(r){const e=r.map(async({label:s,topic:o})=>{try{const u=await this.searchNews({q:s});return{label:s,topic:o,articles:u.results||[]}}catch{return{label:s,topic:o,articles:[]}}});return await Promise.all(e)},isApiKeyConfigured(){return CS()}},Lk={sportingcp:[{title:"Sporting CP vence Benfica por 2-1 no derby de Lisboa",description:"O Sporting CP conquistou uma vitria importante no derby de Lisboa, vencendo o Benfica por 2-1 com golos de Viktor Gykeres e Pedro Gonalves. A equipa de Rben Amorim mantm a liderana da Liga.",link:"https://www.record.pt/futebol/futebol-nacional/liga-bwin/sporting/detalhe/sporting-vence-benfica-2-1-no-derby-de-lisboa",publishedAt:"2025-01-20T15:30:00.000Z",source_name:"Record",source_url:"https://www.record.pt",image_url:"https://cdn.record.pt/images/2025-01/sporting-benfica-derby.jpg",category:["sports"],country:["portugal"],language:"portuguese"},{title:"Gykeres marca hat-trick na vitria do Sporting sobre o Porto",description:"Viktor Gykeres foi o heri da noite ao marcar trs golos na vitria do Sporting por 3-0 sobre o FC Porto. O avanado sueco est em excelente forma esta temporada.",link:"https://www.ojogo.pt/futebol/1a-liga/sporting/noticias/gyokeres-hat-trick-sporting-porto",publishedAt:"2025-01-19T20:15:00.000Z",source_name:"O Jogo",source_url:"https://www.ojogo.pt",image_url:"https://cdn.ojogo.pt/images/2025-01/gyokeres-hat-trick.jpg",category:["sports"],country:["portugal"],language:"portuguese"},{title:"Sporting CP anuncia renovao de contrato de Rben Amorim",description:"O Sporting CP anunciou hoje a renovao do contrato do treinador Rben Amorim at 2027. O tcnico portugus continuar  frente da equipa leonina.",link:"https://www.abola.pt/futebol/2025-01-18/sporting-renova-amorim-ate-2027",publishedAt:"2025-01-18T12:00:00.000Z",source_name:"A Bola",source_url:"https://www.abola.pt",image_url:"https://cdn.abola.pt/images/2025-01/amorim-renovacao.jpg",category:["sports"],country:["portugal"],language:"portuguese"}],technology:[{title:"Apple anuncia novo iPhone 17 com inteligncia artificial avanada",description:"A Apple revelou o novo iPhone 17 com capacidades de IA integradas, incluindo processamento de linguagem natural e reconhecimento de imagem melhorado. O dispositivo chega s lojas em setembro.",link:"https://www.theverge.com/2025/01/20/apple-iphone-17-ai-features",publishedAt:"2025-01-20T14:00:00.000Z",source_name:"The Verge",source_url:"https://www.theverge.com",image_url:"https://cdn.vox-cdn.com/thumbor/iphone17-ai.jpg",category:["technology"],country:["united states"],language:"english"},{title:"OpenAI lana GPT-5 com capacidades multimodais revolucionrias",description:"A OpenAI anunciou o lanamento do GPT-5, a verso mais avanada do seu modelo de linguagem. A nova verso inclui capacidades multimodais e melhor compreenso contextual.",link:"https://techcrunch.com/2025/01/19/openai-gpt5-multimodal",publishedAt:"2025-01-19T16:30:00.000Z",source_name:"TechCrunch",source_url:"https://techcrunch.com",image_url:"https://techcrunch.com/wp-content/uploads/gpt5-announcement.jpg",category:["technology"],country:["united states"],language:"english"},{title:"Tesla revela novo modelo de carro eltrico com autonomia de 800km",description:"A Tesla apresentou o seu mais recente modelo de carro eltrico com uma autonomia impressionante de 800km. O veculo tambm inclui tecnologia de conduo autnoma de nvel 4.",link:"https://www.engadget.com/tesla-new-ev-800km-range",publishedAt:"2025-01-18T10:15:00.000Z",source_name:"Engadget",source_url:"https://www.engadget.com",image_url:"https://o.aolcdn.com/images/tesla-new-model.jpg",category:["technology"],country:["united states"],language:"english"}],business:[{title:"Bitcoin atinge novo mximo histrico de $100,000",description:"O Bitcoin atingiu um novo mximo histrico de $100,000, impulsionado pela adoo institucional e regulamentao mais clara nos Estados Unidos. A criptomoeda lidera um rally no mercado digital.",link:"https://www.bloomberg.com/news/articles/bitcoin-100k-record",publishedAt:"2025-01-20T13:45:00.000Z",source_name:"Bloomberg",source_url:"https://www.bloomberg.com",image_url:"https://assets.bwbx.io/bitcoin-chart.jpg",category:["business"],country:["united states"],language:"english"},{title:"Microsoft anuncia aquisio de startup de IA por $10 mil milhes",description:"A Microsoft anunciou a aquisio de uma startup especializada em inteligncia artificial por $10 mil milhes. A aquisio refora a posio da empresa no mercado de IA.",link:"https://www.reuters.com/microsoft-ai-startup-acquisition",publishedAt:"2025-01-19T09:20:00.000Z",source_name:"Reuters",source_url:"https://www.reuters.com",image_url:"https://www.reuters.com/pf/resources/microsoft-ai.jpg",category:["business"],country:["united states"],language:"english"},{title:"Amazon lana novo servio de entrega por drone em Portugal",description:"A Amazon anunciou o lanamento do seu servio de entrega por drone em Portugal, comeando por Lisboa. O servio promete entregas em menos de 30 minutos.",link:"https://www.publico.pt/2025/01/18/amazon-drone-delivery-portugal",publishedAt:"2025-01-18T11:30:00.000Z",source_name:"Pblico",source_url:"https://www.publico.pt",image_url:"https://imagens.publico.pt/amazon-drone.jpg",category:["business"],country:["portugal"],language:"portuguese"}],politics:[{title:"Eleies presidenciais em Portugal: candidatos apresentam propostas",description:"Os candidatos s eleies presidenciais em Portugal apresentaram as suas propostas principais. A campanha eleitoral aquece com debates televisivos marcados para as prximas semanas.",link:"https://www.dn.pt/politica/eleicoes-presidenciais-candidatos-propostas",publishedAt:"2025-01-20T12:00:00.000Z",source_name:"Dirio de Notcias",source_url:"https://www.dn.pt",image_url:"https://cdn.dn.pt/images/eleicoes-presidenciais.jpg",category:["politics"],country:["portugal"],language:"portuguese"},{title:"Unio Europeia aprova novo pacote de medidas climticas",description:"A Unio Europeia aprovou um novo pacote de medidas climticas ambicioso, incluindo metas de reduo de emisses de 55% at 2030. O acordo foi celebrado como um marco histrico.",link:"https://www.euractiv.com/eu-climate-package-approved",publishedAt:"2025-01-19T15:45:00.000Z",source_name:"EURACTIV",source_url:"https://www.euractiv.com",image_url:"https://www.euractiv.com/wp-content/uploads/eu-climate.jpg",category:["politics"],country:["belgium"],language:"english"},{title:"NATO anuncia exerccios militares conjuntos no Bltico",description:"A NATO anunciou a realizao de exerccios militares conjuntos no Mar Bltico com a participao de 15 pases membros. Os exerccios visam demonstrar a unidade da aliana.",link:"https://www.nato.int/cps/en/natohq/news_baltic-exercises",publishedAt:"2025-01-18T08:30:00.000Z",source_name:"NATO",source_url:"https://www.nato.int",image_url:"https://www.nato.int/images/baltic-exercises.jpg",category:["politics"],country:["belgium"],language:"english"}],entertainment:[{title:"Festival de Cannes anuncia programao para 2025",description:"O Festival de Cannes revelou a programao oficial para a edio de 2025, com filmes de realizadores consagrados e estreantes. O festival decorre de 14 a 25 de maio.",link:"https://www.variety.com/cannes-2025-lineup",publishedAt:"2025-01-20T10:15:00.000Z",source_name:"Variety",source_url:"https://www.variety.com",image_url:"https://variety.com/wp-content/uploads/cannes-2025.jpg",category:["entertainment"],country:["france"],language:"english"},{title:"Taylor Swift anuncia nova tour mundial para 2025",description:"Taylor Swift anunciou uma nova tour mundial para 2025, incluindo datas em Portugal. A cantora promete um espetculo ainda mais impressionante que o anterior.",link:"https://www.billboard.com/taylor-swift-2025-tour",publishedAt:"2025-01-19T14:20:00.000Z",source_name:"Billboard",source_url:"https://www.billboard.com",image_url:"https://www.billboard.com/wp-content/uploads/taylor-swift-tour.jpg",category:["entertainment"],country:["united states"],language:"english"},{title:"Netflix anuncia nova srie portuguesa com atores internacionais",description:"A Netflix anunciou uma nova srie portuguesa com atores internacionais. A produo ser filmada em Lisboa e Porto, com estreia prevista para 2026.",link:"https://www.expresso.pt/cultura/netflix-serie-portuguesa",publishedAt:"2025-01-18T16:00:00.000Z",source_name:"Expresso",source_url:"https://www.expresso.pt",image_url:"https://cdn.expresso.pt/images/netflix-portugal.jpg",category:["entertainment"],country:["portugal"],language:"portuguese"}]},Uk=r=>Lk[r.toLowerCase()]||[];function NS(){const{user:r}=mi(),[e,t]=j.useState([]),[s,o]=j.useState(!1),[u,h]=j.useState(null),d=j.useCallback(async(I,R,L)=>{if(!r)throw new Error("Not authenticated");try{const x=await fetch(`${fo.baseUrl}/news/store`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.uid,articles:I,topicId:R,topicLabel:L})});if(!x.ok)throw new Error(`Failed to store news: ${x.statusText}`);return await x.json()}catch(x){throw h(x.message),x}},[r]),p=j.useCallback(async(I={})=>{if(r){o(!0),h(null);try{const R=new URLSearchParams;Object.entries(I).forEach(([q,Z])=>{Z!=null&&Z!==""&&R.append(q,Z.toString())});const L=await fetch(`${fo.baseUrl}/news/feed/${r.uid}?${R.toString()}`);if(!L.ok)throw new Error(`Failed to fetch news: ${L.statusText}`);const x=await L.json();t(x)}catch(R){h(R.message)}finally{o(!1)}}},[r]),g=j.useCallback(async(I,R)=>{if(!r)throw new Error("Not authenticated");try{const L=await fetch(`${fo.baseUrl}/news/favorite/${r.uid}/${I}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isFavorite:R})});if(!L.ok)throw new Error(`Failed to update favorite: ${L.statusText}`);return t(x=>x.map(q=>q.id===I?{...q,isFavorite:R}:q)),await L.json()}catch(L){throw h(L.message),L}},[r]),_=j.useCallback(async I=>{if(!r)throw new Error("Not authenticated");try{const R=await fetch(`${fo.baseUrl}/news/${r.uid}/${I}`,{method:"DELETE"});if(!R.ok)throw new Error(`Failed to delete news: ${R.statusText}`);return t(L=>L.filter(x=>x.id!==I)),await R.json()}catch(R){throw h(R.message),R}},[r]),E=j.useCallback(async()=>{if(!r)return null;try{const I=await fetch(`${fo.baseUrl}/news/stats/${r.uid}`);if(!I.ok)throw new Error(`Failed to fetch stats: ${I.statusText}`);return await I.json()}catch(I){return h(I.message),null}},[r]),S=j.useCallback(()=>t([]),[]);return{news:e,loading:s,error:u,saveNews:d,fetchNews:p,clearNews:S,toggleFavorite:g,deleteNews:_,getStats:E}}const jk=()=>{const[r,e]=j.useState([]),[t,s]=j.useState(!1),[o,u]=j.useState(null),{saveNews:h}=NS(),d=j.useCallback(async(_,E=!1,S=!1)=>{s(!0),u(null);try{let I;E?I=_.map(({label:L,topic:x})=>{const q=Uk(x);return{label:L,topic:x,articles:q}}):I=await Vk.searchMultipleTopics(_);const R=I.map(L=>{const x=L.articles.map(q=>!q||typeof q!="object"?{title:"Invalid article",url:"#",publishedAt:new Date().toISOString(),source:{name:"Unknown Source"},description:"Invalid article data"}:{...q,title:q.title||"No title",url:q.link||q.url||"#",publishedAt:q.publishedAt||q.pubDate||new Date().toISOString(),source:{name:q.source_name||q.source?.name||"Unknown Source",url:q.source_url||q.source?.url},description:q.description||q.content||"No description available",image:q.image_url||q.image});return{...L,articles:x}});if(e(R),S)try{for(const L of R)for(const x of L.articles)await h(x,L.topic,L.label)}catch(L){console.error("Erro ao guardar notcias:",L)}}catch(I){u(I instanceof Error?I.message:"Failed to fetch news")}finally{s(!1)}},[h]),p=j.useCallback(()=>{e([]),u(null)},[]),g=j.useMemo(()=>CS(),[]);return{topicsWithNews:r,isLoading:t,error:o,fetchNews:d,clearNews:p,isApiKeyConfigured:g}},DS=()=>{const{user:r}=mi(),[e,t]=j.useState([]),[s,o]=j.useState(!0),[u,h]=j.useState(null);return j.useEffect(()=>{if(!r?.uid){t([]),o(!1);return}o(!0);const E=Fb(tn,"users",r.uid,"topics"),S=QO(E,YO("createdAt","desc")),I=Fg(S,R=>{const L=R.docs.map(x=>({id:x.id,label:x.data().label,topic:x.data().topic,createdAt:x.data().createdAt?.toDate()||new Date,updatedAt:x.data().updatedAt?.toDate()||new Date}));t(L),o(!1)},R=>{console.error("Error fetching topics:",R),h("Failed to load topics"),o(!1)});return()=>I()},[r?.uid]),{topics:e,loading:s,error:u,addTopic:async(E,S)=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const I=Fb(tn,"users",r.uid,"topics");await ZO(I,{label:E.trim(),topic:S.trim(),createdAt:Yi(),updatedAt:Yi()})}catch(I){throw console.error("Error adding topic:",I),h("Failed to add topic"),I}},editTopic:async(E,S,I)=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const R=un(tn,"users",r.uid,"topics",E);await qg(R,{label:S.trim(),topic:I.trim(),updatedAt:Yi()})}catch(R){throw console.error("Error updating topic:",R),h("Failed to update topic"),R}},deleteTopic:async E=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const S=un(tn,"users",r.uid,"topics",E);await Jw(S)}catch(S){throw console.error("Error deleting topic:",S),h("Failed to delete topic"),S}},clearError:()=>{h(null)}}};function Bk({topicsWithNews:r,isDarkMode:e}){const t=o=>{if(!o)return"No date";const u=new Date(o);if(isNaN(u.getTime()))return"No date";try{return u.toLocaleDateString("pt-PT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"No date"}},s=(o,u)=>o.length<=u?o:o.substring(0,u)+"...";return T.jsx("div",{className:"space-y-6",children:r.map((o,u)=>T.jsxs("div",{className:`p-6 rounded-3xl transition-all duration-500 ${e?"bg-slate-800/30 backdrop-blur-xl border border-slate-700/50 shadow-2xl shadow-black/20":"bg-white/80 backdrop-blur-xl border border-slate-200/50 shadow-2xl shadow-slate-200/50"}`,children:[T.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[T.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-blue-400":"bg-blue-500"}`}),T.jsx("h3",{className:`text-xl font-bold transition-colors duration-500 ${e?"text-slate-200":"text-slate-800"}`,children:o.label}),T.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 ${e?"text-slate-300 bg-slate-600/50":"text-slate-600 bg-slate-200"}`,children:o.topic}),o.isLoading&&T.jsx("div",{className:`w-4 h-4 border-2 border-t-transparent rounded-full animate-spin ${e?"border-slate-400":"border-slate-600"}`})]}),o.isLoading&&T.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>T.jsx("div",{className:`animate-pulse ${e?"bg-slate-700/50":"bg-slate-200"} rounded-2xl h-32`},h))}),o.error&&T.jsx("div",{className:`p-4 rounded-2xl border ${e?"bg-red-900/20 border-red-700/50 text-red-300":"bg-red-50 border-red-200 text-red-700"}`,children:T.jsxs("p",{className:"font-medium",children:["Error: ",o.error]})}),!o.isLoading&&!o.error&&o.articles.length>0&&T.jsx("div",{className:"space-y-4",children:o.articles.slice(0,5).map((h,d)=>T.jsxs("article",{className:`p-4 rounded-2xl transition-all duration-300 hover:scale-[1.02] ${e?"bg-slate-700/50 border border-slate-600/50 hover:bg-slate-700/70":"bg-slate-50 border border-slate-200 hover:bg-white shadow-sm"}`,children:[T.jsxs("div",{className:"flex space-x-4",children:[(h.image||h.image_url)&&(h.image||h.image_url)?.trim()!==""&&T.jsx("div",{className:"flex-shrink-0",children:T.jsx("img",{src:h.image||h.image_url||"",alt:h.title,className:"w-20 h-20 object-cover rounded-xl",onError:p=>{const g=p.target;g.style.display="none"}})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h4",{className:`font-semibold mb-2 transition-colors duration-300 ${e?"text-white":"text-slate-900"}`,children:s(h.title,80)}),T.jsx("p",{className:`text-sm mb-3 transition-colors duration-300 ${e?"text-slate-300":"text-slate-600"}`,children:s(h.description||h.content||"No description available",120)}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:`text-xs font-medium transition-colors duration-300 ${e?"text-slate-400":"text-slate-500"}`,children:h.source?.name||"Unknown Source"}),T.jsx("span",{className:`text-xs transition-colors duration-300 ${e?"text-slate-400":"text-slate-500"}`,children:t(h.publishedAt)})]})]})]}),h.url&&T.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:`mt-3 inline-flex items-center text-sm font-medium transition-colors duration-300 ${e?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,onClick:()=>{window.open(h.url,"_blank","noopener,noreferrer")},children:["Ler mais",T.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]},d))}),!o.isLoading&&!o.error&&o.articles.length===0&&T.jsx("div",{className:`p-4 rounded-2xl border ${e?"bg-slate-700/30 border-slate-600/50 text-slate-400":"bg-slate-50 border-slate-200 text-slate-600"}`,children:T.jsxs("p",{className:"text-center",children:['Nenhuma notcia encontrada para "',o.label,'"']})})]},`${o.label}-${u}`))})}function uE({options:r,value:e,onChange:t,placeholder:s,isDarkMode:o}){const[u,h]=j.useState(!1),[d,p]=j.useState(-1),g=j.useRef(null),_=r.find(I=>I.value===e);j.useEffect(()=>{const I=R=>{g.current&&!g.current.contains(R.target)&&(h(!1),p(-1))};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const E=()=>{h(!u)},S=I=>{switch(I.key){case"ArrowDown":I.preventDefault(),p(R=>R<r.length-1?R+1:0);break;case"ArrowUp":I.preventDefault(),p(R=>R>0?R-1:r.length-1);break;case"Enter":I.preventDefault(),d>=0?(t(r[d].value),h(!1),p(-1)):h(!u);break;case"Escape":h(!1),p(-1);break}};return T.jsxs("div",{className:"relative dropdown-force-top",ref:g,style:{zIndex:999999},children:[T.jsx("button",{type:"button",onClick:E,onKeyDown:S,className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 text-left ${o?"bg-slate-700/50 text-white border-slate-600/50 focus:border-blue-500/50 focus:ring-blue-500/20":"bg-white/80 text-slate-900 border-slate-300 focus:border-blue-500 focus:ring-blue-500/20 shadow-sm"}`,tabIndex:0,children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:_?"":"text-slate-500",children:_?_.label:s}),T.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${u?"rotate-180":""} ${o?"text-slate-400":"text-slate-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),u&&T.jsx("div",{className:`absolute w-full mt-2 rounded-xl border-2 shadow-2xl transition-all duration-200 dropdown-force-top ${o?"bg-slate-800/95 border-slate-600/50 backdrop-blur-xl":"bg-white/95 border-slate-200 backdrop-blur-xl"}`,style:{zIndex:999999},children:T.jsx("div",{className:"py-2 max-h-60 overflow-y-auto",children:r.map((I,R)=>T.jsxs("button",{type:"button",onClick:L=>{L.preventDefault(),L.stopPropagation(),t(I.value),h(!1),p(-1)},onMouseEnter:()=>p(R),className:`w-full px-4 py-3 text-left transition-all duration-200 flex items-center space-x-3 ${R===d?o?"bg-blue-600/20 text-blue-300":"bg-blue-50 text-blue-700":""} ${I.value===e?o?"bg-blue-600/30 text-blue-200 font-semibold":"bg-blue-100 text-blue-800 font-semibold":o?"text-slate-200 hover:bg-slate-700/50":"text-slate-700 hover:bg-slate-50"}`,children:[T.jsx("div",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center",children:I.value===e&&T.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("span",{className:`${I.isMock?o?"text-purple-300 font-semibold":"text-purple-600 font-semibold":""}`,children:I.label}),I.isMock&&T.jsx("span",{className:`ml-2 text-xs px-2 py-1 rounded-full ${o?"bg-purple-600/20 text-purple-300":"bg-purple-100 text-purple-600"}`,children:"MOCK"})]})]},I.value))})})]})}function zk(){const{isDarkMode:r}=pa(),[e,t]=j.useState(""),[s,o]=j.useState(""),[u,h]=j.useState(!1),[d,p]=j.useState(null),[g,_]=j.useState(""),[E,S]=j.useState(""),[I,R]=j.useState(""),{topics:L,loading:x,error:q,addTopic:Z,editTopic:ie,deleteTopic:de,clearError:le}=DS(),{topicsWithNews:_e,isLoading:P,error:N,fetchNews:C,clearNews:V,isApiKeyConfigured:M}=jk(),B=async()=>{if(!e||!s)return;if(L.some(k=>k.label.toLowerCase()===e.toLowerCase())){R("This label already exists! Please use a different label."),setTimeout(()=>R(""),3e3);return}try{await Z(e,s),t(""),o(""),I&&R("")}catch{R("Failed to add topic. Please try again."),setTimeout(()=>R(""),3e3)}},O=async()=>{L.length!==0&&await C(L,u,!0)},pt=()=>{V()},it=Ee=>{p(Ee),_(L[Ee].label),S(L[Ee].topic)},X=async()=>{if(d!==null&&g&&E)try{const Ee=L[d];await ie(Ee.id,g,E),p(null),_(""),S(""),I&&R("")}catch{R("Failed to update topic. Please try again."),setTimeout(()=>R(""),3e3)}},oe=()=>{p(null),_(""),S("")},me=async Ee=>{try{const k=L[Ee];await de(k.id),I&&R("")}catch{R("Failed to delete topic. Please try again."),setTimeout(()=>R(""),3e3)}};return q&&!I&&(R(q),setTimeout(()=>{R(""),le()},3e3)),T.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${r?"bg-glass-gradient text-white":"bg-glass-gradient-light text-slate-900"}`,children:T.jsxs("div",{className:`card-glass${r?"":"-light"} w-full max-w-2xl space-y-8`,children:[T.jsx("div",{className:"flex justify-end mb-4",children:T.jsxs("button",{onClick:()=>h(!u),className:`relative px-4 py-2 rounded-xl transition-all duration-300 hover:scale-105 group ${u?"bg-purple-600/80 border border-purple-500/50 hover:bg-purple-500/80 text-white":r?"bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 text-white":"bg-white/80 border border-slate-200/50 hover:bg-white text-slate-700 shadow-lg"}`,children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-500 ${u?"bg-purple-300":"bg-slate-400"}`}),T.jsx("span",{className:"text-sm font-medium",children:u?"MOCKi":"API"})]}),T.jsx("div",{className:`absolute inset-0 rounded-xl transition-all duration-300 ${u?"bg-gradient-to-r from-transparent via-purple-500/10 to-transparent":r?"bg-gradient-to-r from-transparent via-white/5 to-transparent":"bg-gradient-to-r from-transparent via-slate-500/5 to-transparent"}`})]})}),T.jsxs("div",{className:`space-y-6 rounded-2xl border ${r?"bg-slate-800/30 border-slate-700":"bg-white/90 border-slate-200 shadow"} p-6`,children:[T.jsxs("div",{className:"space-y-4",children:[T.jsx("label",{className:r?"block text-sm font-bold mb-2":"block text-sm font-bold mb-2 text-slate-900",htmlFor:"topic-label",children:"TOPIC LABEL"}),T.jsx("input",{id:"topic-label",type:"text",placeholder:"Enter topic keywords...",value:e,onChange:Ee=>{t(Ee.target.value),I&&R("")},className:r?"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"input-light"}),T.jsx("label",{className:r?"block text-sm font-bold mb-2":"block text-sm font-bold mb-2 text-slate-900",htmlFor:"category",children:"CATEGORY"}),T.jsx(uE,{options:[{value:"Technology",label:"Technology"},{value:"Finance",label:"Finance"},{value:"Sports",label:"Sports"},{value:"Politics",label:"Politics"},{value:"Science",label:"Science"},...u?[{value:"sportingcp",label:"Sporting CP",isMock:!0},{value:"technology",label:"Technology",isMock:!0},{value:"business",label:"Business",isMock:!0},{value:"politics",label:"Politics",isMock:!0},{value:"entertainment",label:"Entertainment",isMock:!0}]:[]],value:s,onChange:Ee=>{o(Ee),I&&R("")},placeholder:"Select category",isDarkMode:r})]}),T.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[T.jsx("button",{onClick:B,disabled:!e||!s||x,className:r?"btn-primary":"btn-primary-light",children:T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x?T.jsx("div",{className:"w-5 h-5 border-2 border-white/80 border-t-transparent rounded-full animate-spin"}):T.jsx("div",{className:`w-5 h-5 border-2 rounded-sm ${r?"border-white/80":"border-white/90"}`}),T.jsx("span",{children:x?"ADDING...":"ADD TOPIC"})]})}),T.jsx("button",{onClick:O,disabled:L.length===0||P||!M&&!u,className:r?"btn-primary":"btn-primary-light",children:T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[P?T.jsx("div",{className:"w-5 h-5 border-2 border-white/80 border-t-transparent rounded-full animate-spin"}):T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),T.jsx("span",{children:P?"SEARCHING...":"SEARCH NEWS"})]})}),T.jsx("button",{onClick:pt,disabled:L.length===0&&_e.length===0,className:r?"btn-primary":"btn-primary-light",children:T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),T.jsx("span",{children:"CLEAR ALL"})]})})]})]}),I&&T.jsx("div",{className:`p-4 rounded-2xl border transition-all duration-300 ${r?"bg-red-900/20 border-red-700/50 text-red-300":"bg-red-50 border-red-200 text-red-700"}`,children:T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),T.jsx("p",{className:"font-medium",children:I})]})}),T.jsx("div",{className:"h-4"}),!M&&T.jsxs("div",{className:`p-4 rounded-2xl border ${r?"bg-yellow-900/20 border-yellow-700/50 text-yellow-300":"bg-yellow-50 border-yellow-200 text-yellow-700"}`,children:[T.jsx("p",{className:"font-medium",children:" Backend Connection Required"}),T.jsx("p",{className:"text-sm mt-1",children:"Unable to connect to the news service. Please check if the backend is running."})]}),N&&T.jsxs("div",{className:"text-red-500 text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[T.jsx("p",{className:"font-medium",children:" Connection Error"}),T.jsx("p",{className:"text-sm mt-1",children:"Unable to connect to the news service. Please try again later."})]}),L.length>0&&T.jsxs("div",{className:`mt-8 p-6 rounded-3xl ${r?"bg-slate-800/30 border border-slate-700 text-white":"bg-white/90 border border-slate-200 text-slate-900 shadow"} transition-all duration-500 relative z-1`,children:[T.jsxs("div",{className:"flex items-center space-x-3 mb-6 relative z-1",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-400":"bg-green-500"}`}),T.jsx("h2",{className:`text-lg font-bold transition-colors duration-500 relative z-1 ${r?"text-slate-200":"text-slate-800"}`,children:"ACTIVE TOPICS"}),T.jsx("div",{className:`flex-1 h-px ${r?"bg-slate-600":"bg-slate-300"}`})]}),T.jsx("div",{className:"space-y-3",children:L.map((Ee,k)=>T.jsx("div",{className:`p-4 rounded-2xl transition-all duration-300 hover:scale-[1.02] ${r?"bg-slate-800/30 border border-slate-700 text-white":"bg-white/90 border border-slate-200 text-slate-900 shadow"}`,children:d===k?T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-yellow-400":"bg-yellow-500"}`}),T.jsx("span",{className:`text-sm font-medium transition-colors duration-300 ${r?"text-yellow-300":"text-yellow-600"}`,children:"EDITING"})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:X,disabled:!g||!E,className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed ${r?"bg-green-600/80 text-white hover:bg-green-500/80 disabled:bg-slate-600/50 disabled:text-slate-400":"bg-green-500 text-white hover:bg-green-400 disabled:bg-slate-200 disabled:text-slate-400"}`,children:"Save"}),T.jsx("button",{onClick:oe,className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 ${r?"bg-slate-600/50 text-slate-300 hover:bg-slate-500/50":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Cancel"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:`block text-xs font-medium mb-1 transition-colors duration-300 ${r?"text-slate-400":"text-slate-600"}`,children:"TOPIC LABEL"}),T.jsx("input",{type:"text",value:g,onChange:re=>_(re.target.value),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 focus:outline-none focus:ring-2 ${r?"bg-slate-600/50 text-white border-slate-500/50 focus:border-yellow-500/50 focus:ring-yellow-500/20":"bg-white text-slate-900 border-slate-300 focus:border-yellow-500 focus:ring-yellow-500/20"}`})]}),T.jsxs("div",{children:[T.jsx("label",{className:`block text-xs font-medium mb-1 transition-colors duration-300 ${r?"text-slate-400":"text-slate-600"}`,children:"CATEGORY"}),T.jsx(uE,{options:[{value:"Technology",label:"Technology"},{value:"Finance",label:"Finance"},{value:"Sports",label:"Sports"},{value:"Politics",label:"Politics"},{value:"Science",label:"Science"},...u?[{value:"sportingcp",label:"Sporting CP",isMock:!0},{value:"technology",label:"Technology",isMock:!0},{value:"business",label:"Business",isMock:!0},{value:"politics",label:"Politics",isMock:!0},{value:"entertainment",label:"Entertainment",isMock:!0}]:[]],value:E,onChange:S,placeholder:"Select category",isDarkMode:r})]})]})]}):T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-blue-400":"bg-blue-500"}`}),T.jsx("span",{className:`font-semibold transition-colors duration-300 ${r?"text-white":"text-slate-900"}`,children:Ee.label})]}),T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 ${r?"text-slate-300 bg-slate-600/50":"text-slate-600 bg-slate-200"}`,children:Ee.topic}),T.jsxs("div",{className:"flex items-center space-x-1",children:[T.jsx("button",{onClick:()=>it(k),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${r?"text-blue-400 hover:bg-blue-600/20":"text-blue-600 hover:bg-blue-50"}`,title:"Edit topic",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),T.jsx("button",{onClick:()=>me(k),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${r?"text-red-400 hover:bg-red-600/20":"text-red-600 hover:bg-red-50"}`,title:"Delete topic",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},Ee.id))})]}),T.jsx(Bk,{topicsWithNews:_e,isDarkMode:r})]})})}function qk(){const{news:r,loading:e,error:t,fetchNews:s,toggleFavorite:o,deleteNews:u}=NS(),{topics:h}=DS(),{isDarkMode:d}=pa(),[p,g]=j.useState({topicId:"",isFavorite:null,fromDate:"",toDate:"",keywords:""}),[_,E]=j.useState(!1);j.useEffect(()=>{s()},[s]);const S=()=>{const x={};p.topicId&&(x.topicId=p.topicId),p.isFavorite!==null&&(x.isFavorite=p.isFavorite),p.fromDate&&(x.fromDate=p.fromDate),p.toDate&&(x.toDate=p.toDate),p.keywords&&(x.keywords=p.keywords),s(x)},I=()=>{g({topicId:"",isFavorite:null,fromDate:"",toDate:"",keywords:""}),s()},R=x=>new Date(x).toLocaleDateString("pt-PT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=(x,q)=>x.length>q?x.substring(0,q)+"...":x;return T.jsxs("div",{className:`relative min-h-screen flex flex-col items-center justify-center px-4 py-12 transition-all duration-500 ${d?"bg-glass-gradient text-white":"bg-glass-gradient-light text-slate-900"}`,children:[T.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[T.jsx("div",{className:"absolute -top-32 -left-32 w-[600px] h-[600px] bg-blue-900 opacity-20 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute bottom-0 right-0 w-[400px] h-[400px] bg-blue-500 opacity-10 rounded-full blur-2xl"})]}),T.jsxs("div",{className:"relative z-10 w-full max-w-6xl",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("h1",{className:`text-3xl font-bold mb-2 ${d?"text-white":"text-gray-900"}`,children:"Feed"}),T.jsxs("p",{className:`text-lg ${d?"text-gray-300":"text-gray-600"}`,children:[r.length," notcias no teu feed"]})]}),T.jsxs("div",{className:`mb-6 p-4 rounded-xl ${d?"bg-slate-800/30 border border-slate-700":"bg-white/90 border border-slate-200 shadow"}`,children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h2",{className:`text-lg font-semibold ${d?"text-white":"text-gray-900"}`,children:"Filtros"}),T.jsxs("button",{onClick:()=>E(!_),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 ${d?"bg-slate-600/50 text-slate-300 hover:bg-slate-500/50":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:[_?"Ocultar":"Mostrar"," Filtros"]})]}),_&&T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:`block text-sm font-medium mb-2 ${d?"text-gray-300":"text-gray-700"}`,children:"Tpico"}),T.jsxs("select",{value:p.topicId,onChange:x=>g({...p,topicId:x.target.value}),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[T.jsx("option",{value:"",children:"Todos os tpicos"}),h.map(x=>T.jsx("option",{value:x.label,children:x.label},x.id))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:`block text-sm font-medium mb-2 ${d?"text-gray-300":"text-gray-700"}`,children:"Favoritos"}),T.jsxs("select",{value:p.isFavorite===null?"":p.isFavorite.toString(),onChange:x=>g({...p,isFavorite:x.target.value===""?null:x.target.value==="true"}),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[T.jsx("option",{value:"",children:"Todos"}),T.jsx("option",{value:"true",children:"Apenas favoritos"}),T.jsx("option",{value:"false",children:"No favoritos"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:`block text-sm font-medium mb-2 ${d?"text-gray-300":"text-gray-700"}`,children:"Data inicial"}),T.jsx("input",{type:"date",value:p.fromDate,onChange:x=>g({...p,fromDate:x.target.value}),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),T.jsxs("div",{children:[T.jsx("label",{className:`block text-sm font-medium mb-2 ${d?"text-gray-300":"text-gray-700"}`,children:"Data final"}),T.jsx("input",{type:"date",value:p.toDate,onChange:x=>g({...p,toDate:x.target.value}),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),T.jsxs("div",{children:[T.jsx("label",{className:`block text-sm font-medium mb-2 ${d?"text-gray-300":"text-gray-700"}`,children:"Palavras-chave"}),T.jsx("input",{type:"text",value:p.keywords,onChange:x=>g({...p,keywords:x.target.value}),placeholder:"Ex: tecnologia, desporto...",className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-slate-700 border-slate-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]})]}),T.jsxs("div",{className:"flex gap-3 mt-4",children:[T.jsx("button",{onClick:S,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 ${d?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Aplicar Filtros"}),T.jsx("button",{onClick:I,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:scale-105 ${d?"bg-slate-600 text-white hover:bg-slate-500":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"Limpar Filtros"})]})]}),e&&T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:`inline-block animate-spin rounded-full h-8 w-8 border-b-2 ${d?"border-white":"border-gray-900"}`}),T.jsx("p",{className:`mt-2 ${d?"text-gray-300":"text-gray-600"}`,children:"A carregar notcias..."})]}),t&&T.jsxs("div",{className:`text-center p-4 rounded-xl ${d?"bg-red-900/20 border border-red-700 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:[T.jsx("p",{className:"font-medium",children:"Erro ao carregar notcias"}),T.jsx("p",{className:"text-sm mt-1",children:t})]}),!e&&!t&&r.length===0&&T.jsxs("div",{className:`text-center py-12 ${d?"text-gray-400":"text-gray-500"}`,children:[T.jsx("p",{className:"text-lg",children:"Nenhuma notcia no feed"}),T.jsx("p",{className:"text-sm mt-2",children:"Adiciona tpicos e busca notcias para comear a preencher o teu feed"})]}),!e&&!t&&r.length>0&&T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(x=>T.jsxs("div",{className:`p-6 rounded-xl transition-all duration-300 hover:scale-[1.02] ${d?"bg-slate-800/30 border border-slate-700 text-white":"bg-white/90 border border-slate-200 text-gray-900 shadow"}`,children:[T.jsxs("div",{className:"flex items-start justify-between mb-3",children:[T.jsx("div",{className:"flex-1",children:T.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${d?"bg-blue-900/30 text-blue-300":"bg-blue-100 text-blue-700"}`,children:x.topicLabel})}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>o(x.id,!x.isFavorite),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${x.isFavorite?"text-yellow-500":d?"text-gray-400 hover:text-yellow-400":"text-gray-400 hover:text-yellow-500"}`,children:x.isFavorite?"":""}),T.jsx("button",{onClick:()=>u(x.id),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${d?"text-red-400 hover:text-red-300":"text-red-500 hover:text-red-600"}`,children:""})]})]}),T.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:x.title}),x.description&&T.jsx("p",{className:`text-sm mb-3 line-clamp-3 ${d?"text-gray-300":"text-gray-600"}`,children:L(x.description,150)}),x.image&&T.jsx("img",{src:x.image,alt:x.title,className:"w-full h-48 object-cover rounded-lg mb-3",onError:q=>{q.currentTarget.style.display="none"}}),T.jsxs("div",{className:"flex items-center justify-between text-sm",children:[T.jsx("span",{className:`${d?"text-gray-400":"text-gray-500"}`,children:x.source?.name||"Fonte desconhecida"}),T.jsx("span",{className:`${d?"text-gray-400":"text-gray-500"}`,children:R(x.publishedAt)})]}),T.jsx("a",{href:x.url||x.link||"#",target:"_blank",rel:"noopener noreferrer",className:`block mt-3 text-center py-2 px-4 rounded-lg font-medium transition-all duration-200 hover:scale-105 ${d?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Ler mais"})]},x.id))})]})]})}function Fk(){return T.jsx(qk,{})}const Hk=()=>{const{isDarkMode:r,toggleDarkMode:e}=pa(),{user:t}=mi(),[s,o]=j.useState(""),[u,h]=j.useState(""),[d,p]=j.useState(!1),[g,_]=j.useState(""),[E,S]=j.useState(null),[I,R]=j.useState(""),[L,x]=j.useState(""),[q,Z]=j.useState(""),[ie,de]=j.useState(!1);Mm.useEffect(()=>{t&&(async()=>{const V=un(tn,"users",t.uid),M=await xo(V);M.exists()&&o(M.data().username||"")})()},[t]),Mm.useEffect(()=>{if(!u){S(null);return}let C=!0;S("checking");const V=setTimeout(async()=>{const M=un(tn,"usernames",u.toLowerCase()),B=await xo(M);C&&S(B.exists()?"taken":"available")},500);return()=>{C=!1,clearTimeout(V)}},[u]),Mm.useEffect(()=>{h("")},[t]);const le=async()=>{if(!(!t||!u.trim())){if(E==="taken"){_("Username already taken.");return}p(!0),_("");try{s&&await Jw(un(tn,"usernames",s.toLowerCase())),await Eu(un(tn,"usernames",u.toLowerCase()),{uid:t.uid,email:t.email});const C=un(tn,"users",t.uid);await qg(C,{username:u.trim()}),await TC(t,{displayName:u.trim()}),o(u.trim()),h(""),_("Username updated!")}catch{_("Error updating username")}finally{p(!1)}}},P=(C=>{const V=[];return C.length<6&&V.push("Password must be at least 6 characters long"),/[A-Z]/.test(C)||V.push("Password must contain at least one uppercase letter"),/[a-z]/.test(C)||V.push("Password must contain at least one lowercase letter"),/\d/.test(C)||V.push("Password must contain at least one number"),V})(I),N=t?.photoURL||"https://ui-avatars.com/api/?name="+(s?.[0]?.toUpperCase()||t?.email?.[0]?.toUpperCase()||"U");return T.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${r?"bg-glass-gradient text-white":"bg-glass-gradient-light text-slate-900"}`,children:T.jsxs("div",{className:`card-glass${r?"":"-light"} w-full max-w-md md:max-w-xl lg:max-w-2xl`,children:[T.jsxs("div",{className:"flex flex-col items-center mb-8",children:[T.jsx("img",{src:N,alt:"avatar",className:"w-32 h-32 rounded-full border-4 border-blue-500 object-cover mb-4 shadow"}),T.jsx("h2",{className:r?"text-2xl font-bold mb-1":"text-2xl font-bold mb-1 text-slate-900",children:s}),T.jsx("p",{className:r?"text-slate-500 dark:text-slate-300 text-sm mb-2":"text-slate-600 text-sm mb-2",children:t?.email}),T.jsx("button",{className:"text-blue-600 hover:underline text-sm font-medium mb-4",children:"Upload New Photo"}),T.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700 my-4"}),T.jsxs("div",{className:"w-full flex flex-col items-center",children:[T.jsx("span",{className:r?"text-xs text-slate-400 mb-1":"text-xs text-slate-600 mb-1",children:"Last login"}),T.jsx("span",{className:r?"text-xs text-slate-500 dark:text-slate-300":"text-xs text-slate-600",children:"(placeholder date)"})]})]}),T.jsxs("section",{className:`mb-6 rounded-2xl border ${r?"bg-slate-800/30 border-slate-700":"bg-white/90 border-slate-200"} p-6`,children:[T.jsx("h3",{className:r?"text-lg font-bold mb-1":"text-lg font-bold mb-1 text-slate-900",children:"Theme"}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:r?"text-slate-500 dark:text-slate-300 text-sm":"text-slate-600 text-sm",children:"Switch between light and dark mode."}),T.jsx("button",{onClick:e,"aria-label":"Toggle dark mode",className:`ml-4 p-2 rounded-full ${r?"bg-slate-800":"bg-slate-200"} transition-colors duration-200 focus:outline-none border border-slate-300`,children:r?T.jsx("span",{role:"img","aria-label":"Light mode",children:""}):T.jsx("span",{role:"img","aria-label":"Dark mode",children:""})})]})]}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h3",{className:r?"text-lg font-bold mb-4":"text-lg font-bold mb-4 text-slate-900",children:"Username Settings"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"Current Username"}),T.jsx("input",{type:"text",value:s,disabled:!0,className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-slate-300 cursor-not-allowed":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-slate-100 text-slate-500 cursor-not-allowed"})]}),T.jsxs("div",{children:[T.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"New Username"}),T.jsx("input",{type:"text",value:u,onChange:C=>h(C.target.value),className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter new username"}),E==="checking"&&T.jsx("p",{className:"text-blue-500 text-sm mt-1",children:"Checking availability..."}),E==="available"&&T.jsx("p",{className:"text-green-500 text-sm mt-1",children:"Username available!"}),E==="taken"&&T.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Username already taken"})]}),T.jsx("button",{onClick:le,disabled:!u||E==="taken"||d,className:r?"btn-primary":"btn-primary-light",children:d?"Saving...":"Update Username"}),g&&T.jsx("div",{className:"text-xs mt-2 text-green-500",children:g})]})]}),T.jsxs("section",{children:[T.jsx("h3",{className:r?"text-lg font-bold mb-4":"text-lg font-bold mb-4 text-slate-900",children:"Password Settings"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"Current Password"}),T.jsx("input",{type:"password",value:L,onChange:C=>x(C.target.value),className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter current password"})]}),T.jsxs("div",{children:[T.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"New Password"}),T.jsx("input",{type:"password",value:I,onChange:C=>R(C.target.value),className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter new password"}),P.length>0&&T.jsx("div",{className:"mt-2",children:P.map((C,V)=>T.jsxs("p",{className:"text-red-500 text-sm",children:[" ",C]},V))})]}),T.jsx("button",{className:r?"btn-primary mt-2":"btn-primary-light mt-2",onClick:async()=>{Z(""),de(!0);try{if(!t)throw new Error("User not found");if(P.length>0){Z("Password does not meet requirements."),de(!1);return}const C=ha.credential(t.email,L);await _C(t,C),await wC(t,I),Z("Password updated!"),x(""),R("")}catch(C){C.code==="auth/wrong-password"?Z("Current password is incorrect."):C.code==="auth/weak-password"?Z("Password should be at least 6 characters."):Z("Error updating password: "+C.message)}finally{de(!1)}},disabled:ie||!L||!I||P.length>0,children:ie?"Saving...":"Change Password"}),q&&T.jsx("div",{className:"text-xs mt-2 text-green-500",children:q})]})]})]})})},Gk=()=>{const{isDarkMode:r,toggleDarkMode:e}=pa(),{user:t,signOutUser:s}=mi(),o=Su(),u=Ir(),[h,d]=j.useState(""),[p,g]=j.useState(!1);j.useEffect(()=>{if(t){const E=Fg(un(tn,"users",t.uid),S=>{S.exists()&&d(S.data().username||"")},S=>{console.error("Error fetching username:",S)});return()=>E()}},[t]);const _=async()=>{await s(),o("/")};return T.jsxs("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b transition-all duration-300 ${r?"bg-slate-900/80 border-slate-700":"bg-white/80 border-slate-200"}`,children:[T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsx(ri,{to:"/home",className:`text-xl font-bold transition-colors duration-200 ${r?"text-white":"text-slate-900"}`,children:"NEWS.AI"}),T.jsxs("nav",{className:"hidden md:flex space-x-8",children:[T.jsx(ri,{to:"/home",className:`transition-colors duration-200 ${u.pathname==="/home"?r?"text-blue-400":"text-blue-600":r?"text-slate-300 hover:text-white":"text-slate-600 hover:text-slate-900"}`,children:"Home"}),T.jsx(ri,{to:"/mytopics",className:`transition-colors duration-200 ${u.pathname==="/mytopics"?r?"text-blue-400":"text-blue-600":r?"text-slate-300 hover:text-white":"text-slate-600 hover:text-slate-900"}`,children:"My Topics"}),T.jsx(ri,{to:"/feed",className:`transition-colors duration-200 ${u.pathname==="/feed"?r?"text-blue-400":"text-blue-600":r?"text-slate-300 hover:text-white":"text-slate-600 hover:text-slate-900"}`,children:"Feed"})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("button",{onClick:e,className:`p-2 rounded-lg transition-all duration-200 ${r?"hover:bg-slate-800 text-slate-300":"hover:bg-slate-100 text-slate-600"}`,"aria-label":"Toggle dark mode",children:r?T.jsx("span",{className:"text-lg",children:""}):T.jsx("span",{className:"text-lg",children:""})}),T.jsxs("div",{className:"relative",children:[T.jsxs("button",{onClick:()=>g(!p),className:`flex items-center space-x-2 p-2 rounded-lg transition-all duration-200 ${r?"hover:bg-slate-800 text-slate-300":"hover:bg-slate-100 text-slate-600"}`,children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium",children:h?.[0]?.toUpperCase()||t?.email?.[0]?.toUpperCase()||"U"}),T.jsx("span",{className:"hidden sm:block font-medium",children:h||t?.email}),T.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&T.jsx("div",{className:`absolute right-0 mt-2 w-56 rounded-xl shadow-lg border transition-all duration-200 ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:T.jsxs("div",{className:"py-2",children:[T.jsxs(ri,{to:"/profile",className:`flex items-center px-4 py-3 transition-colors duration-200 ${r?"text-slate-300 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>g(!1),children:[T.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile Settings"]}),T.jsxs("button",{onClick:_,className:`w-full flex items-center px-4 py-3 text-left transition-colors duration-200 ${r?"text-red-400 hover:bg-red-900/20":"text-red-600 hover:bg-red-50"}`,children:[T.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})})]})]})]})}),p&&T.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)})]})};function ip({children:r}){const{user:e,loading:t}=mi();return t?null:e?r:T.jsx(tR,{to:"/",replace:!0})}const Kg="/newsdotai/",$k=Kg+"ai-news-dark.png",Kk=Kg+"ai-news-light.png",cE=Kg+"ai-news.png";function sp({icon:r,label:e}){return T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("span",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mb-2",children:r}),T.jsx("span",{className:"text-xs opacity-80",children:e})]})}const Qk=()=>{const{isDarkMode:r}=pa();return T.jsxs("div",{className:`relative min-h-screen flex flex-col items-center justify-center px-4 py-12 transition-all duration-500 ${r?"bg-glass-gradient text-white":"bg-glass-gradient-light text-slate-900"}`,children:[T.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[T.jsx("div",{className:"absolute -top-32 -left-32 w-[600px] h-[600px] bg-blue-900 opacity-20 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute bottom-0 right-0 w-[400px] h-[400px] bg-blue-500 opacity-10 rounded-full blur-2xl"})]}),T.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-center w-full max-w-6xl gap-12 md:gap-20",children:[T.jsxs("div",{className:"flex-1 flex flex-col items-center md:items-start text-center md:text-left space-y-8 md:space-y-10",children:[T.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold leading-tight drop-shadow-xl",children:["Stay Ahead with"," ",T.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"NEWS.AI"})]}),T.jsx("p",{className:"text-lg md:text-2xl font-medium max-w-xl drop-shadow opacity-90",children:"Get personalized, real-time news from top sources. Rephrased by AI. Delivered beautifully."}),T.jsx(ri,{to:"/mytopics",className:"inline-block bg-blue-500 text-white px-8 py-4 rounded-xl text-lg font-semibold shadow-lg hover:bg-blue-600 transition transform hover:scale-105",children:"Explore My News Feed"}),T.jsxs("div",{className:"flex space-x-8 pt-6 md:pt-10 justify-center md:justify-start",children:[T.jsx(sp,{icon:T.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v18h18"})}),label:"Analytics"}),T.jsx(sp,{icon:T.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 3v18M4 21V3m14 18V8m-7 13h7"})}),label:"Reports"}),T.jsx(sp,{icon:T.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),label:"Verified"})]})]}),T.jsx("div",{className:"flex-1 flex justify-center items-center w-full max-w-xl",children:T.jsx("img",{src:r?$k:Kk,alt:"AI Illustration",className:"max-w-md w-full drop-shadow-2xl rounded-3xl border-4 border-blue-900/20 bg-white/10 dark:bg-slate-800/30 transition-all duration-500",onError:e=>{e.currentTarget&&e.currentTarget.src!==cE&&(e.currentTarget.src=cE,e.currentTarget.onerror=()=>{e.currentTarget&&(e.currentTarget.src="https://placehold.co/600x400?text=AI+News")})}})})]})]})};function Yk(){const{user:r}=mi(),e=Ir(),t=e.pathname==="/"||e.pathname==="/login"||e.pathname==="/signup";return T.jsxs(T.Fragment,{children:[!t&&r&&T.jsx(Gk,{}),T.jsxs(rR,{children:[T.jsx(Xs,{path:"/",element:T.jsx(r4,{})}),T.jsx(Xs,{path:"/signup",element:T.jsx(s4,{})}),T.jsx(Xs,{path:"/home",element:T.jsx(Qk,{})}),T.jsx(Xs,{path:"/mytopics",element:T.jsx(ip,{children:T.jsx(zk,{})})}),T.jsx(Xs,{path:"/feed",element:T.jsx(ip,{children:T.jsx(Fk,{})})}),T.jsx(Xs,{path:"/profile",element:T.jsx(ip,{children:T.jsx(Hk,{})})})]})]})}const Xk=()=>T.jsx(t4,{children:T.jsx(RR,{basename:"/newsdotai",children:T.jsx(Yk,{})})});f1.createRoot(document.getElementById("root")).render(T.jsx(j.StrictMode,{children:T.jsx(Xk,{})}));
