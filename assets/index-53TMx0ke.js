(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function WA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function ZA(){if(tv)return Kl;tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var nv;function JA(){return nv||(nv=1,Dm.exports=ZA()),Dm.exports}var A=JA(),km={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function e1(){if(rv)return Ie;rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function V(D,re,ue){this.props=D,this.context=re,this.refs=U,this.updater=ue||I}V.prototype.isReactComponent={},V.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},V.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function K(){}K.prototype=V.prototype;function ee(D,re,ue){this.props=D,this.context=re,this.refs=U,this.updater=ue||I}var ie=ee.prototype=new K;ie.constructor=ee,C(ie,V.prototype),ie.isPureReactComponent=!0;var de=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function M(D,re,ue,se,ye,Oe){return ue=Oe.ref,{$$typeof:r,type:D,key:re,ref:ue!==void 0?ue:null,props:Oe}}function x(D,re){return M(D.type,re,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function P(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return re[ue]})}var k=/\/+/g;function B(D,re){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):re.toString(36)}function O(){}function pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(O,O):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function it(D,re,ue,se,ye){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(Oe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case e:Ae=!0;break;case _:return Ae=D._init,it(Ae(D._payload),re,ue,se,ye)}}if(Ae)return ye=ye(D),Ae=se===""?"."+B(D,0):se,de(ye)?(ue="",Ae!=null&&(ue=Ae.replace(k,"$&/")+"/"),it(ye,re,ue,"",function(nr){return nr})):ye!=null&&(R(ye)&&(ye=x(ye,ue+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(k,"$&/")+"/")+Ae)),re.push(ye)),1;Ae=0;var Mt=se===""?".":se+":";if(de(D))for(var et=0;et<D.length;et++)se=D[et],Oe=Mt+B(se,et),Ae+=it(se,re,ue,Oe,ye);else if(et=w(D),typeof et=="function")for(D=et.call(D),et=0;!(se=D.next()).done;)se=se.value,Oe=Mt+B(se,et++),Ae+=it(se,re,ue,Oe,ye);else if(Oe==="object"){if(typeof D.then=="function")return it(pt(D),re,ue,se,ye);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(D,re,ue){if(D==null)return D;var se=[],ye=0;return it(D,se,"","",function(Oe){return re.call(ue,Oe,ye++)}),se}function oe(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function be(){}return Ie.Children={map:X,forEach:function(D,re,ue){X(D,function(){re.apply(this,arguments)},ue)},count:function(D){var re=0;return X(D,function(){re++}),re},toArray:function(D){return X(D,function(re){return re})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=V,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=ee,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return le.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cloneElement=function(D,re,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=C({},D.props),ye=D.key,Oe=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(Oe=void 0),re.key!==void 0&&(ye=""+re.key),re)!_e.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(se[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ue;else if(1<Ae){for(var Mt=Array(Ae),et=0;et<Ae;et++)Mt[et]=arguments[et+2];se.children=Mt}return M(D.type,ye,void 0,void 0,Oe,se)},Ie.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ie.createElement=function(D,re,ue){var se,ye={},Oe=null;if(re!=null)for(se in re.key!==void 0&&(Oe=""+re.key),re)_e.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=re[se]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var Mt=Array(Ae),et=0;et<Ae;et++)Mt[et]=arguments[et+2];ye.children=Mt}if(D&&D.defaultProps)for(se in Ae=D.defaultProps,Ae)ye[se]===void 0&&(ye[se]=Ae[se]);return M(D,Oe,void 0,void 0,null,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:m,render:D}},Ie.isValidElement=R,Ie.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:oe}},Ie.memo=function(D,re){return{$$typeof:p,type:D,compare:re===void 0?null:re}},Ie.startTransition=function(D){var re=le.T,ue={};le.T=ue;try{var se=D(),ye=le.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(be,me)}catch(Oe){me(Oe)}finally{le.T=re}},Ie.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ie.use=function(D){return le.H.use(D)},Ie.useActionState=function(D,re,ue){return le.H.useActionState(D,re,ue)},Ie.useCallback=function(D,re){return le.H.useCallback(D,re)},Ie.useContext=function(D){return le.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,re){return le.H.useDeferredValue(D,re)},Ie.useEffect=function(D,re,ue){var se=le.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(D,re)},Ie.useId=function(){return le.H.useId()},Ie.useImperativeHandle=function(D,re,ue){return le.H.useImperativeHandle(D,re,ue)},Ie.useInsertionEffect=function(D,re){return le.H.useInsertionEffect(D,re)},Ie.useLayoutEffect=function(D,re){return le.H.useLayoutEffect(D,re)},Ie.useMemo=function(D,re){return le.H.useMemo(D,re)},Ie.useOptimistic=function(D,re){return le.H.useOptimistic(D,re)},Ie.useReducer=function(D,re,ue){return le.H.useReducer(D,re,ue)},Ie.useRef=function(D){return le.H.useRef(D)},Ie.useState=function(D){return le.H.useState(D)},Ie.useSyncExternalStore=function(D,re,ue){return le.H.useSyncExternalStore(D,re,ue)},Ie.useTransition=function(){return le.H.useTransition()},Ie.version="19.1.0",Ie}var iv;function Bp(){return iv||(iv=1,km.exports=e1()),km.exports}var j=Bp();const Mm=WA(j);var Pm={exports:{}},Ql={},Vm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function t1(){return sv||(sv=1,function(r){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var be=me-1>>>1,D=X[be];if(0<o(D,oe))X[be]=oe,X[me]=D,me=be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var be=0,D=X.length,re=D>>>1;be<re;){var ue=2*(be+1)-1,se=X[ue],ye=ue+1,Oe=X[ye];if(0>o(se,me))ye<D&&0>o(Oe,se)?(X[be]=Oe,X[ye]=me,be=ye):(X[be]=se,X[ue]=me,be=ue);else if(ye<D&&0>o(Oe,me))X[be]=Oe,X[ye]=me,be=ye;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],_=1,b=null,w=3,I=!1,C=!1,U=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function de(X){for(var oe=t(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=X)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=t(p)}}function le(X){if(U=!1,de(X),!C)if(t(g)!==null)C=!0,_e||(_e=!0,B());else{var oe=t(p);oe!==null&&it(le,oe.startTime-X)}}var _e=!1,M=-1,x=5,R=-1;function P(){return V?!0:!(r.unstable_now()-R<x)}function k(){if(V=!1,_e){var X=r.unstable_now();R=X;var oe=!0;try{e:{C=!1,U&&(U=!1,ee(M),M=-1),I=!0;var me=w;try{t:{for(de(X),b=t(g);b!==null&&!(b.expirationTime>X&&P());){var be=b.callback;if(typeof be=="function"){b.callback=null,w=b.priorityLevel;var D=be(b.expirationTime<=X);if(X=r.unstable_now(),typeof D=="function"){b.callback=D,de(X),oe=!0;break t}b===t(g)&&s(g),de(X)}else s(g);b=t(g)}if(b!==null)oe=!0;else{var re=t(p);re!==null&&it(le,re.startTime-X),oe=!1}}break e}finally{b=null,w=me,I=!1}oe=void 0}}finally{oe?B():_e=!1}}}var B;if(typeof ie=="function")B=function(){ie(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,pt=O.port2;O.port1.onmessage=k,B=function(){pt.postMessage(null)}}else B=function(){K(k,0)};function it(X,oe){M=K(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return X()}finally{w=me}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=w;w=X;try{return oe()}finally{w=me}},r.unstable_scheduleCallback=function(X,oe,me){var be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,X={id:_++,callback:oe,priorityLevel:X,startTime:me,expirationTime:D,sortIndex:-1},me>be?(X.sortIndex=me,e(p,X),t(g)===null&&X===t(p)&&(U?(ee(M),M=-1):U=!0,it(le,me-be))):(X.sortIndex=D,e(g,X),C||I||(C=!0,_e||(_e=!0,B()))),X},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(X){var oe=w;return function(){var me=w;w=oe;try{return X.apply(this,arguments)}finally{w=me}}}}(Lm)),Lm}var av;function n1(){return av||(av=1,Vm.exports=t1()),Vm.exports}var Um={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function r1(){if(ov)return Wt;ov=1;var r=Bp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,_)},Wt.flushSync=function(g){var p=h.T,_=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=_,s.d.f()}},Wt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,b=m(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:I}):_==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Wt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Wt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,b=m(_,p.crossOrigin);s.d.L(g,_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Wt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,p){return g(p)},Wt.useFormState=function(g,p,_){return h.H.useFormState(g,p,_)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var lv;function i1(){if(lv)return Um.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Um.exports=r1(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function s1(){if(uv)return Ql;uv=1;var r=n1(),e=Bp(),t=i1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case V:return"Profiler";case U:return"StrictMode";case le:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case ie:return(n.displayName||"Context")+".Provider";case ee:return(n._context.displayName||"Context")+".Consumer";case de:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:pt(n.type)||"Memo";case x:i=n._payload,n=n._init;try{return pt(n(i))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},be=[],D=-1;function re(n){return{current:n}}function ue(n){0>D||(n.current=be[D],be[D]=null,D--)}function se(n,i){D++,be[D]=n.current,n.current=i}var ye=re(null),Oe=re(null),Ae=re(null),Mt=re(null);function et(n,i){switch(se(Ae,i),se(Oe,n),se(ye,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?I_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=I_(i),n=N_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),se(ye,n)}function nr(){ue(ye),ue(Oe),ue(Ae)}function di(n){n.memoizedState!==null&&se(Mt,n);var i=ye.current,a=N_(i,n.type);i!==a&&(se(Oe,n),se(ye,a))}function Or(n){Oe.current===n&&(ue(ye),ue(Oe)),Mt.current===n&&(ue(Mt),ql._currentValue=me)}var ds=Object.prototype.hasOwnProperty,ms=r.unstable_scheduleCallback,ps=r.unstable_cancelCallback,jo=r.unstable_shouldYield,ju=r.unstable_requestPaint,xn=r.unstable_now,Df=r.unstable_getCurrentPriorityLevel,Bo=r.unstable_ImmediatePriority,ma=r.unstable_UserBlockingPriority,gs=r.unstable_NormalPriority,kf=r.unstable_LowPriority,pa=r.unstable_IdlePriority,zo=r.log,Bu=r.unstable_setDisableYieldValue,ct=null,$e=null;function yn(n){if(typeof zo=="function"&&Bu(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ct,n)}catch{}}var Yt=Math.clz32?Math.clz32:ys,zu=Math.log,Mf=Math.LN2;function ys(n){return n>>>=0,n===0?32:31-(zu(n)/Mf|0)|0}var _s=256,vs=4194304;function Fn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ga(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Fn(l):(E&=T,E!==0?f=Fn(E):a||(a=T&~n,a!==0&&(f=Fn(a))))):(T=l&~d,T!==0?f=Fn(T):E!==0?f=Fn(E):a||(a=l&~n,a!==0&&(f=Fn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Es(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function qo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var n=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),n}function Fo(){var n=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),n}function Dr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function kr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Go(n,i,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,N=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Yt(a),te=1<<W;T[W]=0,N[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var $=G[W];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&rr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function rr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Yt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function $o(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Yt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function mi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ya(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pi(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Y_(n.type))}function qu(n,i){var a=oe.p;try{return oe.p=n,i()}finally{oe.p=a}}var st=Math.random().toString(36).slice(2),Ct="__reactFiber$"+st,bt="__reactProps$"+st,Cn="__reactContainer$"+st,Ko="__reactEvents$"+st,Pf="__reactListeners$"+st,gi="__reactHandles$"+st,Hu="__reactResources$"+st,bs="__reactMarker$"+st;function yi(n){delete n[Ct],delete n[bt],delete n[Ko],delete n[Pf],delete n[gi]}function Mr(n){var i=n[Ct];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Cn]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=M_(n);n!==null;){if(a=n[Ct])return a;n=M_(n)}return i}n=a,a=n.parentNode}return null}function ir(n){if(n=n[Ct]||n[Cn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function sn(n){var i=n[Hu];return i||(i=n[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(n){n[bs]=!0}var Qo=new Set,_a={};function Gn(n,i){Pr(n,i),Pr(n+"Capture",i)}function Pr(n,i){for(_a[n]=i,n=0;n<i.length;n++)Qo.add(i[n])}var Fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},Ts={};function $u(n){return ds.call(Ts,n)?!0:ds.call(Gu,n)?!1:Fu.test(n)?Ts[n]=!0:(Gu[n]=!0,!1)}function _i(n,i,a){if($u(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ar(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function zt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var ws,Ku;function Vr(n){if(ws===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ws=i&&i[1]||"",Ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+n+Ku}var va=!1;function Ea(n,i){if(!n||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var G=$}Reflect.construct(n,[],te)}else{try{te.call()}catch($){G=$}n.call(te.prototype)}}else{try{throw Error()}catch($){G=$}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var N=E.split(`
`),F=T.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var W=`
`+N[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Vr(a):""}function Yo(n){switch(n.tag){case 26:case 27:case 5:return Vr(n.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return Ea(n.type,!1);case 11:return Ea(n.type.render,!1);case 1:return Ea(n.type,!0);case 31:return Vr("Activity");default:return""}}function ba(n){try{var i="";do i+=Yo(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vf(n){var i=Xo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ta(n){n._valueTracker||(n._valueTracker=Vf(n))}function Wo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Xo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ss(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lf=/[\n"\\]/g;function Tt(n){return n.replace(Lf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(n,i,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+an(i)):n.value!==""+an(i)&&(n.value=""+an(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?vi(n,E,an(i)):a!=null?vi(n,E,an(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+an(T):n.removeAttribute("name")}function As(n,i,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function vi(n,i,a){i==="number"&&Ss(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Lr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ye(n,i,a){if(i!=null&&(i=""+an(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+an(a):""}function Rs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function In(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||xs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Zo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Qu(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Qu(n,d,i[d])}function Jo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(n){return jf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ur=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jr=null,Br=null;function el(n){var i=ir(n);if(i&&(n=i.stateNode)){var a=n[bt]||null;e:switch(n=i.stateNode,i.type){case"input":if(_n(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[bt]||null;if(!f)throw Error(s(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Wo(l)}break e;case"textarea":Ye(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Lr(n,!!a.multiple,i,!1)}}}var or=!1;function Yu(n,i,a){if(or)return n(i,a);or=!0;try{var l=n(i);return l}finally{if(or=!1,(jr!==null||Br!==null)&&(qc(),jr&&(i=jr,n=Br,Br=jr=null,el(i),n)))for(i=0;i<n.length;i++)el(n[i])}}function Cs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if($n)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){On=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{On=!1}var lr=null,Ei=null,zr=null;function tl(){if(zr)return zr;var n,i=Ei,a=i.length,l,f="value"in lr?lr.value:lr.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===f[d-l];l++);return zr=f.slice(n,1<l?1-l:void 0)}function ur(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function cr(){return!0}function nl(){return!1}function Pt(n){function i(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?cr:nl,this.isPropagationStopped=nl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Pt(Fe),Ns=_({},Fe,{view:0,detail:0}),Xu=Pt(Ns),Aa,Ra,hr,Os=_({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hr&&(hr&&n.type==="mousemove"?(Aa=n.screenX-hr.screenX,Ra=n.screenY-hr.screenY):Ra=Aa=0,hr=n),Aa)},movementY:function(n){return"movementY"in n?n.movementY:Ra}}),Dn=Pt(Os),Wu=_({},Os,{dataTransfer:0}),Bf=Pt(Wu),Ds=_({},Ns,{relatedTarget:0}),xa=Pt(Ds),rl=_({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Pt(rl),Zu=_({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ia=Pt(Zu),zf=_({},Fe,{data:0}),il=Pt(zf),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ec[n])?!!i[n]:!1}function Ms(){return sl}var tc=_({},Ns,{key:function(n){if(n.key){var i=ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ur(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ju[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(n){return n.type==="keypress"?ur(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ur(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Na=Pt(tc),nc=_({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Pt(nc),qr=_({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),rc=Pt(qr),ic=_({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=Pt(ic),ac=_({},Os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=Pt(ac),on=_({},Fe,{newState:0,oldState:0}),oc=Pt(on),lc=[9,13,27,32],fr=$n&&"CompositionEvent"in window,c=null;$n&&"documentMode"in document&&(c=document.documentMode);var y=$n&&"TextEvent"in window&&!c,v=$n&&(!fr||c&&8<c&&11>=c),S=" ",q=!1;function Q(n,i){switch(n){case"keyup":return lc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function It(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(q=!0,S);case"textInput":return n=i.data,n===S&&q?null:n;default:return null}}function je(n,i){if(Ue)return n==="compositionend"||!fr&&Q(n,i)?(n=tl(),zr=Ei=lr=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vt[n.type]:i==="textarea"}function Hr(n,i,a,l){jr?Br?Br.push(l):Br=[l]:jr=l,i=Qc(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var qt=null,dr=null;function ol(n){S_(n,0)}function uc(n){var i=sr(n);if(Wo(i))return n}function Gg(n,i){if(n==="change")return i}var $g=!1;if($n){var qf;if($n){var Hf="oninput"in document;if(!Hf){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Hf=typeof Kg.oninput=="function"}qf=Hf}else qf=!1;$g=qf&&(!document.documentMode||9<document.documentMode)}function Qg(){qt&&(qt.detachEvent("onpropertychange",Yg),dr=qt=null)}function Yg(n){if(n.propertyName==="value"&&uc(dr)){var i=[];Hr(i,dr,n,Nn(n)),Yu(ol,i)}}function xS(n,i,a){n==="focusin"?(Qg(),qt=i,dr=a,qt.attachEvent("onpropertychange",Yg)):n==="focusout"&&Qg()}function CS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uc(dr)}function IS(n,i){if(n==="click")return uc(i)}function NS(n,i){if(n==="input"||n==="change")return uc(i)}function OS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:OS;function ll(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ds.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function Xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wg(n,i){var a=Xg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Zg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Zg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Jg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ss(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ss(n.document)}return i}function Ff(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var DS=$n&&"documentMode"in document&&11>=document.documentMode,Da=null,Gf=null,ul=null,$f=!1;function ey(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$f||Da==null||Da!==Ss(l)||(l=Da,"selectionStart"in l&&Ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Qc(Gf,"onSelect"),0<l.length&&(i=new Sa("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Da)))}function Ps(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ka={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Kf={},ty={};$n&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Vs(n){if(Kf[n])return Kf[n];if(!ka[n])return n;var i=ka[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in ty)return Kf[n]=i[a];return n}var ny=Vs("animationend"),ry=Vs("animationiteration"),iy=Vs("animationstart"),kS=Vs("transitionrun"),MS=Vs("transitionstart"),PS=Vs("transitioncancel"),sy=Vs("transitionend"),ay=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function Kn(n,i){ay.set(n,i),Gn(i,[n])}var oy=new WeakMap;function kn(n,i){if(typeof n=="object"&&n!==null){var a=oy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ba(i)},oy.set(n,i),i)}return{value:n,source:i,stack:ba(i)}}var Mn=[],Ma=0,Yf=0;function cc(){for(var n=Ma,i=Yf=Ma=0;i<n;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&ly(a,f,d)}}function hc(n,i,a,l){Mn[Ma++]=n,Mn[Ma++]=i,Mn[Ma++]=a,Mn[Ma++]=l,Yf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Xf(n,i,a,l){return hc(n,i,a,l),fc(n)}function Pa(n,i){return hc(n,null,null,i),fc(n)}function ly(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-Yt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function fc(n){if(50<Ml)throw Ml=0,nm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Va={};function VS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,a,l){return new VS(n,i,a,l)}function Wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fr(n,i){var a=n.alternate;return a===null?(a=En(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function uy(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function dc(n,i,a,l,f,d){var E=0;if(l=n,typeof n=="function")Wf(n)&&(E=1);else if(typeof n=="string")E=UA(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=En(31,a,i,f),n.elementType=R,n.lanes=d,n;case C:return Ls(a.children,f,d,i);case U:E=8,f|=24;break;case V:return n=En(12,a,i,f|2),n.elementType=V,n.lanes=d,n;case le:return n=En(13,a,i,f),n.elementType=le,n.lanes=d,n;case _e:return n=En(19,a,i,f),n.elementType=_e,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K:case ie:E=10;break e;case ee:E=9;break e;case de:E=11;break e;case M:E=14;break e;case x:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=En(E,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Ls(n,i,a,l){return n=En(7,n,l,i),n.lanes=a,n}function Zf(n,i,a){return n=En(6,n,null,i),n.lanes=a,n}function Jf(n,i,a){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var La=[],Ua=0,mc=null,pc=0,Pn=[],Vn=0,Us=null,Gr=1,$r="";function js(n,i){La[Ua++]=pc,La[Ua++]=mc,mc=n,pc=i}function cy(n,i,a){Pn[Vn++]=Gr,Pn[Vn++]=$r,Pn[Vn++]=Us,Us=n;var l=Gr;n=$r;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var d=32-Yt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Gr=1<<32-Yt(i)+f|a<<f|l,$r=d+n}else Gr=1<<d|a<<f|l,$r=n}function ed(n){n.return!==null&&(js(n,1),cy(n,1,0))}function td(n){for(;n===mc;)mc=La[--Ua],La[Ua]=null,pc=La[--Ua],La[Ua]=null;for(;n===Us;)Us=Pn[--Vn],Pn[Vn]=null,$r=Pn[--Vn],Pn[Vn]=null,Gr=Pn[--Vn],Pn[Vn]=null}var ln=null,ht=null,He=!1,Bs=null,mr=!1,nd=Error(s(519));function zs(n){var i=Error(s(418,""));throw fl(kn(i,n)),nd}function hy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Ct]=n,i[bt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Me(Vl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),As(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Rs(i,l.value,l.defaultValue,l.children),Ta(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||C_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Yc),i=!0):i=!1,i||zs(n)}function fy(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:ln=ln.return}}function cl(n){if(n!==ln)return!1;if(!He)return fy(n),He=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||_m(n.type,n.memoizedProps)),a=!a),a&&ht&&zs(n),fy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ht=Yn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ht=null}}else i===27?(i=ht,Vi(n.type)?(n=Tm,Tm=null,ht=n):ht=i):ht=ln?Yn(n.stateNode.nextSibling):null;return!0}function hl(){ht=ln=null,He=!1}function dy(){var n=Bs;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Bs=null),n}function fl(n){Bs===null?Bs=[n]:Bs.push(n)}var rd=re(null),qs=null,Kr=null;function bi(n,i,a){se(rd,i._currentValue),i._currentValue=a}function Qr(n){n._currentValue=rd.current,ue(rd)}function id(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function sd(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),id(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),id(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function dl(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;vn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Mt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ql):n=[ql])}f=f.return}n!==null&&sd(i,n,a,l),i.flags|=262144}function gc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Hs(n){qs=n,Kr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return my(qs,n)}function yc(n,i){return qs===null&&Hs(n),my(n,i)}function my(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Kr===null){if(n===null)throw Error(s(308));Kr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Kr=Kr.next=i;return a}var LS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},US=r.unstable_scheduleCallback,jS=r.unstable_NormalPriority,Ot={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new LS,data:new Map,refCount:0}}function ml(n){n.refCount--,n.refCount===0&&US(jS,function(){n.controller.abort()})}var pl=null,od=0,ja=0,Ba=null;function BS(n,i){if(pl===null){var a=pl=[];od=0,ja=um(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return od++,i.then(py,py),i}function py(){if(--od===0&&pl!==null){Ba!==null&&(Ba.status="fulfilled");var n=pl;pl=null,ja=0,Ba=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function zS(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var gy=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&BS(n,i),gy!==null&&gy(n,i)};var Fs=re(null);function ld(){var n=Fs.current;return n!==null?n:tt.pooledCache}function _c(n,i){i===null?se(Fs,Fs.current):se(Fs,i.pool)}function yy(){var n=ld();return n===null?null:{parent:Ot._currentValue,pool:n}}var gl=Error(s(460)),_y=Error(s(474)),vc=Error(s(542)),ud={then:function(){}};function vy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ec(){}function Ey(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Ec,Ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ty(n),n;default:if(typeof i.status=="string")i.then(Ec,Ec);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ty(n),n}throw yl=i,gl}}var yl=null;function by(){if(yl===null)throw Error(s(459));var n=yl;return yl=null,n}function Ty(n){if(n===gl||n===vc)throw Error(s(483))}var Ti=!1;function cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Si(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=fc(n),ly(n,null,a),i}return hc(n,l,i,a),fc(n)}function _l(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,$o(n,a)}}function fd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var dd=!1;function vl(){if(dd){var n=Ba;if(n!==null)throw n}}function El(n,i,a,l){dd=!1;var f=n.updateQueue;Ti=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var N=T,F=N.next;N.next=null,E===null?d=F:E.next=F,E=N;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==E&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=N))}if(d!==null){var te=f.baseState;E=0,W=F=N=null,T=d;do{var G=T.lane&-536870913,$=G!==T.lane;if($?(Be&G)===G:(l&G)===G){G!==0&&G===ja&&(dd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=n,ve=T;G=i;var Ze=a;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){te=Se.call(Ze,te,G);break e}te=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,G=typeof Se=="function"?Se.call(Ze,te,G):Se,G==null)break e;te=_({},te,G);break e;case 2:Ti=!0}}G=T.callback,G!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[G]:$.push(G))}else $={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=$,N=te):W=W.next=$,E|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;$=T,T=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(N=te),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Di|=E,n.lanes=E,n.memoizedState=te}}function wy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Sy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)wy(a[n],i)}var za=re(null),bc=re(0);function Ay(n,i){n=ti,se(bc,n),se(za,i),ti=n|i.baseLanes}function md(){se(bc,ti),se(za,za.current)}function pd(){ti=bc.current,ue(za),ue(bc)}var Ai=0,Ne=null,Xe=null,wt=null,Tc=!1,qa=!1,Gs=!1,wc=0,bl=0,Ha=null,qS=0;function yt(){throw Error(s(321))}function gd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!vn(n[a],i[a]))return!1;return!0}function yd(n,i,a,l,f,d){return Ai=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?l0:u0,Gs=!1,d=a(l,f),Gs=!1,qa&&(d=xy(i,a,l,f)),Ry(n),d}function Ry(n){X.H=Ic;var i=Xe!==null&&Xe.next!==null;if(Ai=0,wt=Xe=Ne=null,Tc=!1,bl=0,Ha=null,i)throw Error(s(300));n===null||Lt||(n=n.dependencies,n!==null&&gc(n)&&(Lt=!0))}function xy(n,i,a,l){Ne=n;var f=0;do{if(qa&&(Ha=null),bl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=YS,d=i(a,l)}while(qa);return d}function HS(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Tl(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ne.flags|=1024),i}function _d(){var n=wc!==0;return wc=0,n}function vd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Ed(n){if(Tc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tc=!1}Ai=0,wt=Xe=Ne=null,qa=!1,bl=wc=0,Ha=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ne.memoizedState=wt=n:wt=wt.next=n,wt}function St(){if(Xe===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=wt===null?Ne.memoizedState:wt.next;if(i!==null)wt=i,Xe=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Ne.memoizedState=wt=n:wt=wt.next=n}return wt}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(n){var i=bl;return bl+=1,Ha===null&&(Ha=[]),n=Ey(Ha,n,i),i=Ne,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?l0:u0),n}function Sc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tl(n);if(n.$$typeof===ie)return Xt(n)}throw Error(s(438,String(n)))}function Td(n){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=bd(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=P;return i.index++,a}function Yr(n,i){return typeof i=="function"?i(n):i}function Ac(n){var i=St();return wd(i,Xe,n)}function wd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var T=E=null,N=null,F=i,W=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Be&te)===te:(Ai&te)===te){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===ja&&(W=!0);else if((Ai&G)===G){F=F.next,G===ja&&(W=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(T=N=te,E=d):N=N.next=te,Ne.lanes|=G,Di|=G;te=F.action,Gs&&a(d,te),d=F.hasEagerState?F.eagerState:a(d,te)}else G={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(T=N=G,E=d):N=N.next=G,Ne.lanes|=te,Di|=te;F=F.next}while(F!==null&&F!==i);if(N===null?E=d:N.next=T,!vn(d,n.memoizedState)&&(Lt=!0,W&&(a=Ba,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Sd(n){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);vn(d,i.memoizedState)||(Lt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Cy(n,i,a){var l=Ne,f=St(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!vn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Lt=!0),f=f.queue;var T=Oy.bind(null,l,f,n);if(wl(2048,8,T,[n]),f.getSnapshot!==i||E||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Rc(),Ny.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(Ai&124)!==0||Iy(l,i,a)}return a}function Iy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=bd(),Ne.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Ny(n,i,a,l){i.value=a,i.getSnapshot=l,Dy(i)&&ky(n)}function Oy(n,i,a){return a(function(){Dy(i)&&ky(n)})}function Dy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!vn(n,a)}catch{return!0}}function ky(n){var i=Pa(n,2);i!==null&&An(i,n,2)}function Ad(n){var i=cn();if(typeof n=="function"){var a=n;if(n=a(),Gs){yn(!0);try{a()}finally{yn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function My(n,i,a,l){return n.baseState=a,wd(n,Xe,typeof l=="function"?l:Yr)}function FS(n,i,a,l,f){if(Cc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Py(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Py(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=X.T,E={};X.T=E;try{var T=a(f,l),N=X.S;N!==null&&N(E,T),Vy(n,i,T)}catch(F){Rd(n,i,F)}finally{X.T=d}}else try{d=a(f,l),Vy(n,i,d)}catch(F){Rd(n,i,F)}}function Vy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ly(n,i,l)},function(l){return Rd(n,i,l)}):Ly(n,i,a)}function Ly(n,i,a){i.status="fulfilled",i.value=a,Uy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Py(n,a)))}function Rd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Uy(i),i=i.next;while(i!==l)}n.action=null}function Uy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function jy(n,i){return i}function By(n,i){if(He){var a=tt.formState;if(a!==null){e:{var l=Ne;if(He){if(ht){t:{for(var f=ht,d=mr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=Yn(f.nextSibling),l=f.data==="F!";break e}}zs(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:i},a.queue=l,a=s0.bind(null,Ne,l),l.dispatch=a,l=Ad(!1),d=Od.bind(null,Ne,!1,l.queue),l=cn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=FS.bind(null,Ne,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function zy(n){var i=St();return qy(i,Xe,n)}function qy(n,i,a){if(i=wd(n,i,jy)[0],n=Ac(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Tl(i)}catch(E){throw E===gl?vc:E}else l=i;i=St();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Fa(9,Rc(),GS.bind(null,f,a),null)),[l,d,n]}function GS(n,i){n.action=i}function Hy(n){var i=St(),a=Xe;if(a!==null)return qy(i,a,n);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Fa(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=bd(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Rc(){return{destroy:void 0,resource:void 0}}function Fy(){return St().memoizedState}function xc(n,i,a,l){var f=cn();l=l===void 0?null:l,Ne.flags|=n,f.memoizedState=Fa(1|i,Rc(),a,l)}function wl(n,i,a,l){var f=St();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&gd(l,Xe.memoizedState.deps)?f.memoizedState=Fa(i,d,a,l):(Ne.flags|=n,f.memoizedState=Fa(1|i,d,a,l))}function Gy(n,i){xc(8390656,8,n,i)}function $y(n,i){wl(2048,8,n,i)}function Ky(n,i){return wl(4,2,n,i)}function Qy(n,i){return wl(4,4,n,i)}function Yy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Xy(n,i,a){a=a!=null?a.concat([n]):null,wl(4,4,Yy.bind(null,i,n),a)}function xd(){}function Wy(n,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&gd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Zy(n,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&gd(i,l[1]))return l[0];if(l=n(),Gs){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,i],l}function Cd(n,i,a){return a===void 0||(Ai&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=t_(),Ne.lanes|=n,Di|=n,a)}function Jy(n,i,a,l){return vn(a,i)?a:za.current!==null?(n=Cd(n,a,l),vn(n,i)||(Lt=!0),n):(Ai&42)===0?(Lt=!0,n.memoizedState=a):(n=t_(),Ne.lanes|=n,Di|=n,i)}function e0(n,i,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=X.T,T={};X.T=T,Od(n,!1,i,a);try{var N=f(),F=X.S;if(F!==null&&F(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=zS(N,l);Sl(n,i,W,Sn(n))}else Sl(n,i,l,Sn(n))}catch(te){Sl(n,i,{then:function(){},status:"rejected",reason:te},Sn())}finally{oe.p=d,X.T=E}}function $S(){}function Id(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=t0(n).queue;e0(n,f,i,me,a===null?$S:function(){return n0(n),a(l)})}function t0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function n0(n){var i=t0(n).next.queue;Sl(n,i,{},Sn())}function Nd(){return Xt(ql)}function r0(){return St().memoizedState}function i0(){return St().memoizedState}function KS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();n=wi(a);var l=Si(i,n,a);l!==null&&(An(l,i,a),_l(l,i,a)),i={cache:ad()},n.payload=i;return}i=i.return}}function QS(n,i,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(n)?a0(i,a):(a=Xf(n,i,a,l),a!==null&&(An(a,n,l),o0(a,i,l)))}function s0(n,i,a){var l=Sn();Sl(n,i,a,l)}function Sl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(n))a0(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,vn(T,E))return hc(n,i,f,0),tt===null&&cc(),!1}catch{}finally{}if(a=Xf(n,i,f,l),a!==null)return An(a,n,l),o0(a,i,l),!0}return!1}function Od(n,i,a,l){if(l={lane:2,revertLane:um(),action:l,hasEagerState:!1,eagerState:null,next:null},Cc(n)){if(i)throw Error(s(479))}else i=Xf(n,a,l,2),i!==null&&An(i,n,2)}function Cc(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function a0(n,i){qa=Tc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function o0(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,$o(n,a)}}var Ic={readContext:Xt,use:Sc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},l0={readContext:Xt,use:Sc,useCallback:function(n,i){return cn().memoizedState=[n,i===void 0?null:i],n},useContext:Xt,useEffect:Gy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,xc(4194308,4,Yy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return xc(4194308,4,n,i)},useInsertionEffect:function(n,i){xc(4,2,n,i)},useMemo:function(n,i){var a=cn();i=i===void 0?null:i;var l=n();if(Gs){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=cn();if(a!==void 0){var f=a(i);if(Gs){yn(!0);try{a(i)}finally{yn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=QS.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var i=cn();return n={current:n},i.memoizedState=n},useState:function(n){n=Ad(n);var i=n.queue,a=s0.bind(null,Ne,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:xd,useDeferredValue:function(n,i){var a=cn();return Cd(a,n,i)},useTransition:function(){var n=Ad(!1);return n=e0.bind(null,Ne,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ne,f=cn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Be&124)!==0||Iy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Gy(Oy.bind(null,l,d,n),[n]),l.flags|=2048,Fa(9,Rc(),Ny.bind(null,l,d,a,i),null),a},useId:function(){var n=cn(),i=tt.identifierPrefix;if(He){var a=$r,l=Gr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=wc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=qS++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Nd,useFormState:By,useActionState:By,useOptimistic:function(n){var i=cn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Od.bind(null,Ne,!0,a),a.dispatch=i,[n,i]},useMemoCache:Td,useCacheRefresh:function(){return cn().memoizedState=KS.bind(null,Ne)}},u0={readContext:Xt,use:Sc,useCallback:Wy,useContext:Xt,useEffect:$y,useImperativeHandle:Xy,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:Zy,useReducer:Ac,useRef:Fy,useState:function(){return Ac(Yr)},useDebugValue:xd,useDeferredValue:function(n,i){var a=St();return Jy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Ac(Yr)[0],i=St().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:Cy,useId:r0,useHostTransitionStatus:Nd,useFormState:zy,useActionState:zy,useOptimistic:function(n,i){var a=St();return My(a,Xe,n,i)},useMemoCache:Td,useCacheRefresh:i0},YS={readContext:Xt,use:Sc,useCallback:Wy,useContext:Xt,useEffect:$y,useImperativeHandle:Xy,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:Zy,useReducer:Sd,useRef:Fy,useState:function(){return Sd(Yr)},useDebugValue:xd,useDeferredValue:function(n,i){var a=St();return Xe===null?Cd(a,n,i):Jy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Sd(Yr)[0],i=St().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:Cy,useId:r0,useHostTransitionStatus:Nd,useFormState:Hy,useActionState:Hy,useOptimistic:function(n,i){var a=St();return Xe!==null?My(a,Xe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Td,useCacheRefresh:i0},Ga=null,Al=0;function Nc(n){var i=Al;return Al+=1,Ga===null&&(Ga=[]),Ey(Ga,n,i)}function Rl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Oc(n,i){throw i.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function c0(n){var i=n._init;return i(n._payload)}function h0(n){function i(z,L){if(n){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function a(z,L){if(!n)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=Fr(z,L),z.index=0,z.sibling=null,z}function d(z,L,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=67108866,L):H):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function T(z,L,H,Z){return L===null||L.tag!==6?(L=Zf(H,z.mode,Z),L.return=z,L):(L=f(L,H),L.return=z,L)}function N(z,L,H,Z){var fe=H.type;return fe===C?W(z,L,H.props.children,Z,H.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===x&&c0(fe)===L.type)?(L=f(L,H.props),Rl(L,H),L.return=z,L):(L=dc(H.type,H.key,H.props,null,z.mode,Z),Rl(L,H),L.return=z,L)}function F(z,L,H,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Jf(H,z.mode,Z),L.return=z,L):(L=f(L,H.children||[]),L.return=z,L)}function W(z,L,H,Z,fe){return L===null||L.tag!==7?(L=Ls(H,z.mode,Z,fe),L.return=z,L):(L=f(L,H),L.return=z,L)}function te(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Zf(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return H=dc(L.type,L.key,L.props,null,z.mode,H),Rl(H,L),H.return=z,H;case I:return L=Jf(L,z.mode,H),L.return=z,L;case x:var Z=L._init;return L=Z(L._payload),te(z,L,H)}if(it(L)||B(L))return L=Ls(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return te(z,Nc(L),H);if(L.$$typeof===ie)return te(z,yc(z,L),H);Oc(z,L)}return null}function G(z,L,H,Z){var fe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:T(z,L,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===fe?N(z,L,H,Z):null;case I:return H.key===fe?F(z,L,H,Z):null;case x:return fe=H._init,H=fe(H._payload),G(z,L,H,Z)}if(it(H)||B(H))return fe!==null?null:W(z,L,H,Z,null);if(typeof H.then=="function")return G(z,L,Nc(H),Z);if(H.$$typeof===ie)return G(z,L,yc(z,H),Z);Oc(z,H)}return null}function $(z,L,H,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(L,z,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return z=z.get(Z.key===null?H:Z.key)||null,N(L,z,Z,fe);case I:return z=z.get(Z.key===null?H:Z.key)||null,F(L,z,Z,fe);case x:var De=Z._init;return Z=De(Z._payload),$(z,L,H,Z,fe)}if(it(Z)||B(Z))return z=z.get(H)||null,W(L,z,Z,fe,null);if(typeof Z.then=="function")return $(z,L,H,Nc(Z),fe);if(Z.$$typeof===ie)return $(z,L,H,yc(L,Z),fe);Oc(L,Z)}return null}function Se(z,L,H,Z){for(var fe=null,De=null,pe=L,Ee=L=0,jt=null;pe!==null&&Ee<H.length;Ee++){pe.index>Ee?(jt=pe,pe=null):jt=pe.sibling;var qe=G(z,pe,H[Ee],Z);if(qe===null){pe===null&&(pe=jt);break}n&&pe&&qe.alternate===null&&i(z,pe),L=d(qe,L,Ee),De===null?fe=qe:De.sibling=qe,De=qe,pe=jt}if(Ee===H.length)return a(z,pe),He&&js(z,Ee),fe;if(pe===null){for(;Ee<H.length;Ee++)pe=te(z,H[Ee],Z),pe!==null&&(L=d(pe,L,Ee),De===null?fe=pe:De.sibling=pe,De=pe);return He&&js(z,Ee),fe}for(pe=l(pe);Ee<H.length;Ee++)jt=$(pe,z,Ee,H[Ee],Z),jt!==null&&(n&&jt.alternate!==null&&pe.delete(jt.key===null?Ee:jt.key),L=d(jt,L,Ee),De===null?fe=jt:De.sibling=jt,De=jt);return n&&pe.forEach(function(zi){return i(z,zi)}),He&&js(z,Ee),fe}function ve(z,L,H,Z){if(H==null)throw Error(s(151));for(var fe=null,De=null,pe=L,Ee=L=0,jt=null,qe=H.next();pe!==null&&!qe.done;Ee++,qe=H.next()){pe.index>Ee?(jt=pe,pe=null):jt=pe.sibling;var zi=G(z,pe,qe.value,Z);if(zi===null){pe===null&&(pe=jt);break}n&&pe&&zi.alternate===null&&i(z,pe),L=d(zi,L,Ee),De===null?fe=zi:De.sibling=zi,De=zi,pe=jt}if(qe.done)return a(z,pe),He&&js(z,Ee),fe;if(pe===null){for(;!qe.done;Ee++,qe=H.next())qe=te(z,qe.value,Z),qe!==null&&(L=d(qe,L,Ee),De===null?fe=qe:De.sibling=qe,De=qe);return He&&js(z,Ee),fe}for(pe=l(pe);!qe.done;Ee++,qe=H.next())qe=$(pe,z,Ee,qe.value,Z),qe!==null&&(n&&qe.alternate!==null&&pe.delete(qe.key===null?Ee:qe.key),L=d(qe,L,Ee),De===null?fe=qe:De.sibling=qe,De=qe);return n&&pe.forEach(function(XA){return i(z,XA)}),He&&js(z,Ee),fe}function Ze(z,L,H,Z){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var fe=H.key;L!==null;){if(L.key===fe){if(fe=H.type,fe===C){if(L.tag===7){a(z,L.sibling),Z=f(L,H.props.children),Z.return=z,z=Z;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===x&&c0(fe)===L.type){a(z,L.sibling),Z=f(L,H.props),Rl(Z,H),Z.return=z,z=Z;break e}a(z,L);break}else i(z,L);L=L.sibling}H.type===C?(Z=Ls(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=dc(H.type,H.key,H.props,null,z.mode,Z),Rl(Z,H),Z.return=z,z=Z)}return E(z);case I:e:{for(fe=H.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(z,L.sibling),Z=f(L,H.children||[]),Z.return=z,z=Z;break e}else{a(z,L);break}else i(z,L);L=L.sibling}Z=Jf(H,z.mode,Z),Z.return=z,z=Z}return E(z);case x:return fe=H._init,H=fe(H._payload),Ze(z,L,H,Z)}if(it(H))return Se(z,L,H,Z);if(B(H)){if(fe=B(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),ve(z,L,H,Z)}if(typeof H.then=="function")return Ze(z,L,Nc(H),Z);if(H.$$typeof===ie)return Ze(z,L,yc(z,H),Z);Oc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(z,L.sibling),Z=f(L,H),Z.return=z,z=Z):(a(z,L),Z=Zf(H,z.mode,Z),Z.return=z,z=Z),E(z)):a(z,L)}return function(z,L,H,Z){try{Al=0;var fe=Ze(z,L,H,Z);return Ga=null,fe}catch(pe){if(pe===gl||pe===vc)throw pe;var De=En(29,pe,null,z.mode);return De.lanes=Z,De.return=z,De}finally{}}}var $a=h0(!0),f0=h0(!1),Ln=re(null),pr=null;function Ri(n){var i=n.alternate;se(Dt,Dt.current&1),se(Ln,n),pr===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(pr=n)}function d0(n){if(n.tag===22){if(se(Dt,Dt.current),se(Ln,n),pr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(pr=n)}}else xi()}function xi(){se(Dt,Dt.current),se(Ln,Ln.current)}function Xr(n){ue(Ln),pr===n&&(pr=null),ue(Dt)}var Dt=re(0);function Dc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Dd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var kd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Sn(),f=wi(l);f.payload=i,a!=null&&(f.callback=a),i=Si(n,f,l),i!==null&&(An(i,n,l),_l(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Sn(),f=wi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Si(n,f,l),i!==null&&(An(i,n,l),_l(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Sn(),l=wi(a);l.tag=2,i!=null&&(l.callback=i),i=Si(n,l,a),i!==null&&(An(i,n,a),_l(i,n,a))}};function m0(n,i,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(f,d):!0}function p0(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&kd.enqueueReplaceState(i,i.state,null)}function $s(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function g0(n){kc(n)}function y0(n){console.error(n)}function _0(n){kc(n)}function Mc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function v0(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Md(n,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(n,i)},a}function E0(n){return n=wi(n),n.tag=3,n}function b0(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){v0(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){v0(i,a,l),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function XS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return pr===null?im():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ud?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),am(n,l,f)),!1;case 22:return a.flags|=65536,l===ud?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),am(n,l,f)),!1}throw Error(s(435,a.tag))}return am(n,l,f),im(),!1}if(He)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==nd&&(n=Error(s(422),{cause:l}),fl(kn(n,a)))):(l!==nd&&(i=Error(s(423),{cause:l}),fl(kn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=kn(l,a),f=Md(n.stateNode,l,f),fd(n,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),kl===null?kl=[d]:kl.push(d),ft!==4&&(ft=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Md(a.stateNode,l,n),fd(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=E0(f),b0(f,n,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var T0=Error(s(461)),Lt=!1;function Ht(n,i,a,l){i.child=n===null?f0(i,null,a,l):$a(i,n.child,a,l)}function w0(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Hs(i),l=yd(n,i,a,E,d,f),T=_d(),n!==null&&!Lt?(vd(n,i,f),Wr(n,i,f)):(He&&T&&ed(i),i.flags|=1,Ht(n,i,l,f),i.child)}function S0(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,A0(n,i,d,l,f)):(n=dc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!qd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(E,l)&&n.ref===i.ref)return Wr(n,i,f)}return i.flags|=1,n=Fr(d,l),n.ref=i.ref,n.return=i,i.child=n}function A0(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(ll(d,l)&&n.ref===i.ref)if(Lt=!1,i.pendingProps=l=d,qd(n,f))(n.flags&131072)!==0&&(Lt=!0);else return i.lanes=n.lanes,Wr(n,i,f)}return Pd(n,i,a,l,f)}function R0(n,i,a){var l=i.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return x0(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&_c(i,d!==null?d.cachePool:null),d!==null?Ay(i,d):md(),d0(i);else return i.lanes=i.childLanes=536870912,x0(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(_c(i,d.cachePool),Ay(i,d),xi(),i.memoizedState=null):(n!==null&&_c(i,null),md(),xi());return Ht(n,i,f,a),i.child}function x0(n,i,a,l){var f=ld();return f=f===null?null:{parent:Ot._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&_c(i,null),md(),d0(i),n!==null&&dl(n,i,l,!0),null}function Pc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Pd(n,i,a,l,f){return Hs(i),a=yd(n,i,a,l,void 0,f),l=_d(),n!==null&&!Lt?(vd(n,i,f),Wr(n,i,f)):(He&&l&&ed(i),i.flags|=1,Ht(n,i,a,f),i.child)}function C0(n,i,a,l,f,d){return Hs(i),i.updateQueue=null,a=xy(i,l,a,f),Ry(n),l=_d(),n!==null&&!Lt?(vd(n,i,d),Wr(n,i,d)):(He&&l&&ed(i),i.flags|=1,Ht(n,i,a,d),i.child)}function I0(n,i,a,l,f){if(Hs(i),i.stateNode===null){var d=Va,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):Va,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Dd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&kd.enqueueReplaceState(d,d.state,null),El(i,l,d,f),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var T=i.memoizedProps,N=$s(a,T);d.props=N;var F=d.context,W=a.contextType;E=Va,typeof W=="object"&&W!==null&&(E=Xt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==E)&&p0(i,d,l,E),Ti=!1;var G=i.memoizedState;d.state=G,El(i,l,d,f),vl(),F=i.memoizedState,T||G!==F||Ti?(typeof te=="function"&&(Dd(i,a,te,l),F=i.memoizedState),(N=Ti||m0(i,a,N,l,G,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hd(n,i),E=i.memoizedProps,W=$s(a,E),d.props=W,te=i.pendingProps,G=d.context,F=a.contextType,N=Va,typeof F=="object"&&F!==null&&(N=Xt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||G!==N)&&p0(i,d,l,N),Ti=!1,G=i.memoizedState,d.state=G,El(i,l,d,f),vl();var $=i.memoizedState;E!==te||G!==$||Ti||n!==null&&n.dependencies!==null&&gc(n.dependencies)?(typeof T=="function"&&(Dd(i,a,T,l),$=i.memoizedState),(W=Ti||m0(i,a,W,l,G,$,N)||n!==null&&n.dependencies!==null&&gc(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Pc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=$a(i,n.child,null,f),i.child=$a(i,null,a,f)):Ht(n,i,a,f),i.memoizedState=d.state,n=i.child):n=Wr(n,i,f),n}function N0(n,i,a,l){return hl(),i.flags|=256,Ht(n,i,a,l),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(n){return{baseLanes:n,cachePool:yy()}}function Ud(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Un),n}function O0(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(He){if(f?Ri(i):xi(),He){var T=ht,N;if(N=T){e:{for(N=T,T=mr;N.nodeType!==8;){if(!T){T=null;break e}if(N=Yn(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(i.memoizedState={dehydrated:T,treeContext:Us!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},N=En(18,null,null,0),N.stateNode=T,N.return=i,i.child=N,ln=i,ht=null,N=!0):N=!1}N||zs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return bm(T)?i.lanes=32:i.lanes=536870912,null;Xr(i)}return T=l.children,l=l.fallback,f?(xi(),f=i.mode,T=Vc({mode:"hidden",children:T},f),l=Ls(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Ld(a),f.childLanes=Ud(n,E,a),i.memoizedState=Vd,l):(Ri(i),jd(i,T))}if(N=n.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Ri(i),i.flags&=-257,i=Bd(n,i,a)):i.memoizedState!==null?(xi(),i.child=n.child,i.flags|=128,i=null):(xi(),f=l.fallback,T=i.mode,l=Vc({mode:"visible",children:l.children},T),f=Ls(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,$a(i,n.child,null,a),l=i.child,l.memoizedState=Ld(a),l.childLanes=Ud(n,E,a),i.memoizedState=Vd,i=f);else if(Ri(i),bm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,fl({value:l,source:null,stack:null}),i=Bd(n,i,a)}else if(Lt||dl(n,i,a,!1),E=(a&n.childLanes)!==0,Lt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:mi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Pa(n,l),An(E,n,l),T0;T.data==="$?"||im(),i=Bd(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,ht=Yn(T.nextSibling),ln=i,He=!0,Bs=null,mr=!1,n!==null&&(Pn[Vn++]=Gr,Pn[Vn++]=$r,Pn[Vn++]=Us,Gr=n.id,$r=n.overflow,Us=i),i=jd(i,l.children),i.flags|=4096);return i}return f?(xi(),f=l.fallback,T=i.mode,N=n.child,F=N.sibling,l=Fr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?f=Fr(F,f):(f=Ls(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=n.child.memoizedState,T===null?T=Ld(a):(N=T.cachePool,N!==null?(F=Ot._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=yy(),T={baseLanes:T.baseLanes|a,cachePool:N}),f.memoizedState=T,f.childLanes=Ud(n,E,a),i.memoizedState=Vd,l):(Ri(i),a=n.child,n=a.sibling,a=Fr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function jd(n,i){return i=Vc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Vc(n,i){return n=En(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Bd(n,i,a){return $a(i,n.child,null,a),n=jd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function D0(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),id(n.return,i,a)}function zd(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function k0(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(Ht(n,i,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&D0(n,a,i);else if(n.tag===19)D0(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Dt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Dc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),zd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Dc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}zd(i,!0,a,null,d);break;case"together":zd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Di|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(dl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Fr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Fr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function qd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&gc(n)))}function WS(n,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),bi(i,Ot,n.memoizedState.cache),hl();break;case 27:case 5:di(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?O0(n,i,a):(Ri(i),n=Wr(n,i,a),n!==null?n.sibling:null);Ri(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return k0(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,R0(n,i,a);case 24:bi(i,Ot,n.memoizedState.cache)}return Wr(n,i,a)}function M0(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Lt=!0;else{if(!qd(n,a)&&(i.flags&128)===0)return Lt=!1,WS(n,i,a);Lt=(n.flags&131072)!==0}else Lt=!1,He&&(i.flags&1048576)!==0&&cy(i,pc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Wf(l)?(n=$s(l,n),i.tag=1,i=I0(null,i,l,n,a)):(i.tag=0,i=Pd(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===de){i.tag=11,i=w0(null,i,l,n,a);break e}else if(f===M){i.tag=14,i=S0(null,i,l,n,a);break e}}throw i=pt(l)||l,Error(s(306,i,""))}}return i;case 0:return Pd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=$s(l,i.pendingProps),I0(n,i,l,f,a);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,hd(n,i),El(i,l,null,a);var E=i.memoizedState;if(l=E.cache,bi(i,Ot,l),l!==d.cache&&sd(i,[Ot],a,!0),vl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=N0(n,i,l,a);break e}else if(l!==f){f=kn(Error(s(424)),i),fl(f),i=N0(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Yn(n.firstChild),ln=i,He=!0,Bs=null,mr=!0,a=f0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hl(),l===f){i=Wr(n,i,a);break e}Ht(n,i,l,a)}i=i.child}return i;case 26:return Pc(n,i),n===null?(a=U_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,n=i.pendingProps,l=Xc(Ae.current).createElement(a),l[Ct]=i,l[bt]=n,Gt(l,a,n),gt(l),i.stateNode=l):i.memoizedState=U_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return di(i),n===null&&He&&(l=i.stateNode=P_(i.type,i.pendingProps,Ae.current),ln=i,mr=!0,f=ht,Vi(i.type)?(Tm=f,ht=Yn(l.firstChild)):ht=f),Ht(n,i,i.pendingProps.children,a),Pc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&He&&((f=l=ht)&&(l=AA(l,i.type,i.pendingProps,mr),l!==null?(i.stateNode=l,ln=i,ht=Yn(l.firstChild),mr=!1,f=!0):f=!1),f||zs(i)),di(i),f=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,_m(f,d)?l=null:E!==null&&_m(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=yd(n,i,HS,null,null,a),ql._currentValue=f),Pc(n,i),Ht(n,i,l,a),i.child;case 6:return n===null&&He&&((n=a=ht)&&(a=RA(a,i.pendingProps,mr),a!==null?(i.stateNode=a,ln=i,ht=null,n=!0):n=!1),n||zs(i)),null;case 13:return O0(n,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=$a(i,null,l,a):Ht(n,i,l,a),i.child;case 11:return w0(n,i,i.type,i.pendingProps,a);case 7:return Ht(n,i,i.pendingProps,a),i.child;case 8:return Ht(n,i,i.pendingProps.children,a),i.child;case 12:return Ht(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,bi(i,i.type,l.value),Ht(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Hs(i),f=Xt(f),l=l(f),i.flags|=1,Ht(n,i,l,a),i.child;case 14:return S0(n,i,i.type,i.pendingProps,a);case 15:return A0(n,i,i.type,i.pendingProps,a);case 19:return k0(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Vc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Fr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return R0(n,i,a);case 24:return Hs(i),l=Xt(Ot),n===null?(f=ld(),f===null&&(f=tt,d=ad(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},cd(i),bi(i,Ot,f)):((n.lanes&a)!==0&&(hd(n,i),El(i,null,null,a),vl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),bi(i,Ot,l)):(l=d.cache,bi(i,Ot,l),l!==f.cache&&sd(i,[Ot],a,!0))),Ht(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zr(n){n.flags|=4}function P0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!H_(i)){if(i=Ln.current,i!==null&&((Be&4194048)===Be?pr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==pr))throw yl=ud,_y;n.flags|=8192}}function Lc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Fo():536870912,n.lanes|=i,Xa|=i)}function xl(n,i){if(!He)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function ZS(n,i,a){var l=i.pendingProps;switch(td(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qr(Ot),nr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(cl(i)?Zr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,dy())),lt(i),null;case 26:return a=i.memoizedState,n===null?(Zr(i),a!==null?(lt(i),P0(i,a)):(lt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Zr(i),lt(i),P0(i,a)):(lt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Zr(i),lt(i),i.flags&=-16777217),null;case 27:Or(i),a=Ae.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}n=ye.current,cl(i)?hy(i):(n=P_(f,l,a),i.stateNode=n,Zr(i))}return lt(i),null;case 5:if(Or(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(n=ye.current,cl(i))hy(i);else{switch(f=Xc(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ct]=i,n[bt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Gt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zr(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ae.current,cl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ct]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(n.nodeValue,a)),n||zs(i)}else n=Xc(n).createTextNode(l),n[Ct]=i,i.stateNode=n}return lt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=cl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ct]=i}else hl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),f=!1}else f=dy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Xr(i),i):(Xr(i),null)}if(Xr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Lc(i,i.updateQueue),lt(i),null;case 4:return nr(),n===null&&dm(i.stateNode.containerInfo),lt(i),null;case 10:return Qr(i.type),lt(i),null;case 19:if(ue(Dt),f=i.memoizedState,f===null)return lt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)xl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Dc(n),d!==null){for(i.flags|=128,xl(f,!1),n=d.updateQueue,i.updateQueue=n,Lc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)uy(a,n),a=a.sibling;return se(Dt,Dt.current&1|2),i.child}n=n.sibling}f.tail!==null&&xn()>Bc&&(i.flags|=128,l=!0,xl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Dc(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Lc(i,n),xl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!He)return lt(i),null}else 2*xn()-f.renderingStartTime>Bc&&a!==536870912&&(i.flags|=128,l=!0,xl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=xn(),i.sibling=null,n=Dt.current,se(Dt,l?n&1|2:n&1),i):(lt(i),null);case 22:case 23:return Xr(i),pd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&Lc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ue(Fs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qr(Ot),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JS(n,i){switch(td(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qr(Ot),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Or(i),null;case 13:if(Xr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));hl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ue(Dt),null;case 4:return nr(),null;case 10:return Qr(i.type),null;case 22:case 23:return Xr(i),pd(),n!==null&&ue(Fs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qr(Ot),null;case 25:return null;default:return null}}function V0(n,i){switch(td(i),i.tag){case 3:Qr(Ot),nr();break;case 26:case 27:case 5:Or(i);break;case 4:nr();break;case 13:Xr(i);break;case 19:ue(Dt);break;case 10:Qr(i.type);break;case 22:case 23:Xr(i),pd(),n!==null&&ue(Fs);break;case 24:Qr(Ot)}}function Cl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Je(i,i.return,T)}}function Ci(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var N=a,F=T;try{F()}catch(W){Je(f,N,W)}}}l=l.next}while(l!==d)}}catch(W){Je(i,i.return,W)}}function L0(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Sy(i,a)}catch(l){Je(n,n.return,l)}}}function U0(n,i,a){a.props=$s(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,i,l)}}function Il(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Je(n,i,f)}}function gr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,i,f)}else a.current=null}function j0(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function Hd(n,i,a){try{var l=n.stateNode;EA(l,n.type,a,i),l[bt]=i}catch(f){Je(n,n.return,f)}}function B0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vi(n.type)||n.tag===4}function Fd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||B0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yc));else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Gd(n,i,a),n=n.sibling;n!==null;)Gd(n,i,a),n=n.sibling}function Uc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Uc(n,i,a),n=n.sibling;n!==null;)Uc(n,i,a),n=n.sibling}function z0(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,l,a),i[Ct]=n,i[bt]=a}catch(d){Je(n,n.return,d)}}var Jr=!1,_t=!1,$d=!1,q0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function eA(n,i){if(n=n.containerInfo,gm=nh,n=Jg(n),Ff(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,N=-1,F=0,W=0,te=n,G=null;t:for(;;){for(var $;te!==a||f!==0&&te.nodeType!==3||(T=E+f),te!==d||l!==0&&te.nodeType!==3||(N=E+l),te.nodeType===3&&(E+=te.nodeValue.length),($=te.firstChild)!==null;)G=te,te=$;for(;;){if(te===n)break t;if(G===a&&++F===f&&(T=E),G===d&&++W===l&&(N=E),($=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=$}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:n,selectionRange:a},nh=!1,Ut=i;Ut!==null;)if(i=Ut,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ut=n;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=$s(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Je(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Em(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Em(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ut=n;break}Ut=i.return}}function H0(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(n,a),l&4&&Cl(5,a);break;case 1:if(Ii(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){Je(a,a.return,E)}else{var f=$s(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(a,a.return,E)}}l&64&&L0(a),l&512&&Il(a,a.return);break;case 3:if(Ii(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sy(n,i)}catch(E){Je(a,a.return,E)}}break;case 27:i===null&&l&4&&z0(a);case 26:case 5:Ii(n,a),i===null&&l&4&&j0(a),l&512&&Il(a,a.return);break;case 12:Ii(n,a);break;case 13:Ii(n,a),l&4&&$0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=uA.bind(null,a),xA(n,a))));break;case 22:if(l=a.memoizedState!==null||Jr,!l){i=i!==null&&i.memoizedState!==null||_t,f=Jr;var d=_t;Jr=l,(_t=i)&&!d?Ni(n,a,(a.subtreeFlags&8772)!==0):Ii(n,a),Jr=f,_t=d}break;case 30:break;default:Ii(n,a)}}function F0(n){var i=n.alternate;i!==null&&(n.alternate=null,F0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&yi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,hn=!1;function ei(n,i,a){for(a=a.child;a!==null;)G0(n,i,a),a=a.sibling}function G0(n,i,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:_t||gr(a,i),ei(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||gr(a,i);var l=at,f=hn;Vi(a.type)&&(at=a.stateNode,hn=!1),ei(n,i,a),Ul(a.stateNode),at=l,hn=f;break;case 5:_t||gr(a,i);case 6:if(l=at,f=hn,at=null,ei(n,i,a),at=l,hn=f,at!==null)if(hn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:at!==null&&(hn?(n=at,k_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),$l(n)):k_(at,a.stateNode));break;case 4:l=at,f=hn,at=a.stateNode.containerInfo,hn=!0,ei(n,i,a),at=l,hn=f;break;case 0:case 11:case 14:case 15:_t||Ci(2,a,i),_t||Ci(4,a,i),ei(n,i,a);break;case 1:_t||(gr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&U0(a,i,l)),ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,ei(n,i,a),_t=l;break;default:ei(n,i,a)}}function $0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$l(n)}catch(a){Je(i,i.return,a)}}function tA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new q0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new q0),i;default:throw Error(s(435,n.tag))}}function Kd(n,i){var a=tA(n);i.forEach(function(l){var f=cA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function bn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){at=T.stateNode,hn=!1;break e}break;case 5:at=T.stateNode,hn=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(at===null)throw Error(s(160));G0(d,E,f),at=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)K0(i,n),i=i.sibling}var Qn=null;function K0(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:bn(i,n),Tn(n),l&4&&(Ci(3,n,n.return),Cl(3,n),Ci(5,n,n.return));break;case 1:bn(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),l&64&&Jr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Qn;if(bn(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[bs]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[Ct]=n,gt(d),l=d;break e;case"link":var E=z_("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=z_("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ct]=n,gt(d),l=d}n.stateNode=l}else q_(f,n.type,n.stateNode);else n.stateNode=B_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(f,n.type,n.stateNode):B_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Hd(n,n.memoizedProps,a.memoizedProps)}break;case 27:bn(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),a!==null&&l&4&&Hd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,n),Tn(n),l&512&&(_t||a===null||gr(a,a.return)),n.flags&32){f=n.stateNode;try{In(f,"")}catch($){Je(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Hd(n,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(bn(i,n),Tn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){Je(n,n.return,$)}}break;case 3:if(Jc=null,f=Qn,Qn=Wc(i.containerInfo),bn(i,n),Qn=f,Tn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$l(i.containerInfo)}catch($){Je(n,n.return,$)}$d&&($d=!1,Q0(n));break;case 4:l=Qn,Qn=Wc(n.stateNode.containerInfo),bn(i,n),Tn(n),Qn=l;break;case 12:bn(i,n),Tn(n);break;case 13:bn(i,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jd=xn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Kd(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=Jr,W=_t;if(Jr=F||f,_t=W||N,bn(i,n),_t=W,Jr=F,Tn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||Jr||_t||Ks(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=N.stateNode;var te=N.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch($){Je(N,N.return,$)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch($){Je(N,N.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kd(n,a))));break;case 19:bn(i,n),Tn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Kd(n,l)));break;case 30:break;case 21:break;default:bn(i,n),Tn(n)}}function Tn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(B0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Fd(n);Uc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(In(E,""),a.flags&=-33);var T=Fd(n);Uc(n,T,E);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Fd(n);Gd(n,F,N);break;default:throw Error(s(161))}}catch(W){Je(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Q0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Q0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ii(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)H0(n,i.alternate,i),i=i.sibling}function Ks(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ci(4,i,i.return),Ks(i);break;case 1:gr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&U0(i,i.return,a),Ks(i);break;case 27:Ul(i.stateNode);case 26:case 5:gr(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}n=n.sibling}}function Ni(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ni(f,d,a),Cl(4,d);break;case 1:if(Ni(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)wy(N[f],T)}catch(F){Je(l,l.return,F)}}a&&E&64&&L0(d),Il(d,d.return);break;case 27:z0(d);case 26:case 5:Ni(f,d,a),a&&l===null&&E&4&&j0(d),Il(d,d.return);break;case 12:Ni(f,d,a);break;case 13:Ni(f,d,a),a&&E&4&&$0(f,d);break;case 22:d.memoizedState===null&&Ni(f,d,a),Il(d,d.return);break;case 30:break;default:Ni(f,d,a)}i=i.sibling}}function Qd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ml(a))}function Yd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ml(n))}function yr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y0(n,i,a,l),i=i.sibling}function Y0(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yr(n,i,a,l),f&2048&&Cl(9,i);break;case 1:yr(n,i,a,l);break;case 3:yr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ml(n)));break;case 12:if(f&2048){yr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Je(i,i.return,N)}}else yr(n,i,a,l);break;case 13:yr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?yr(n,i,a,l):Nl(n,i):d._visibility&2?yr(n,i,a,l):(d._visibility|=2,Ka(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Qd(E,i);break;case 24:yr(n,i,a,l),f&2048&&Yd(i.alternate,i);break;default:yr(n,i,a,l)}}function Ka(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,T=a,N=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(d,E,T,N,f),Cl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ka(d,E,T,N,f):Nl(d,E):(W._visibility|=2,Ka(d,E,T,N,f)),f&&F&2048&&Qd(E.alternate,E);break;case 24:Ka(d,E,T,N,f),f&&F&2048&&Yd(E.alternate,E);break;default:Ka(d,E,T,N,f)}i=i.sibling}}function Nl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&Qd(l.alternate,l);break;case 24:Nl(a,l),f&2048&&Yd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Ol=8192;function Qa(n){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)X0(n),n=n.sibling}function X0(n){switch(n.tag){case 26:Qa(n),n.flags&Ol&&n.memoizedState!==null&&BA(Qn,n.memoizedState,n.memoizedProps);break;case 5:Qa(n);break;case 3:case 4:var i=Qn;Qn=Wc(n.stateNode.containerInfo),Qa(n),Qn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ol,Ol=16777216,Qa(n),Ol=i):Qa(n));break;default:Qa(n)}}function W0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Dl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,J0(l,n)}W0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Z0(n),n=n.sibling}function Z0(n){switch(n.tag){case 0:case 11:case 15:Dl(n),n.flags&2048&&Ci(9,n,n.return);break;case 3:Dl(n);break;case 12:Dl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,jc(n)):Dl(n);break;default:Dl(n)}}function jc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,J0(l,n)}W0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ci(8,i,i.return),jc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,jc(i));break;default:jc(i)}n=n.sibling}}function J0(n,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ci(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=n;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(F0(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var nA={getCacheForType:function(n){var i=Xt(Ot),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},rA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,ke=null,Be=0,Qe=0,wn=null,Oi=!1,Ya=!1,Xd=!1,ti=0,ft=0,Di=0,Qs=0,Wd=0,Un=0,Xa=0,kl=null,fn=null,Zd=!1,Jd=0,Bc=1/0,zc=null,ki=null,Ft=0,Mi=null,Wa=null,Za=0,em=0,tm=null,e_=null,Ml=0,nm=null;function Sn(){if((Ke&2)!==0&&Be!==0)return Be&-Be;if(X.T!==null){var n=ja;return n!==0?n:um()}return pi()}function t_(){Un===0&&(Un=(Be&536870912)===0||He?Ho():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Un}function An(n,i,a){(n===tt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(Ja(n,0),Pi(n,Be,Un,!1)),kr(n,a),((Ke&2)===0||n!==tt)&&(n===tt&&((Ke&2)===0&&(Qs|=a),ft===4&&Pi(n,Be,Un,!1)),_r(n))}function n_(n,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Es(n,i),f=l?aA(n,i):sm(n,i,!0),d=l;do{if(f===0){Ya&&!l&&Pi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!iA(a)){f=sm(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;f=kl;var N=T.current.memoizedState.isDehydrated;if(N&&(Ja(T,E).flags|=256),E=sm(T,E,!1),E!==2){if(Xd&&!N){T.errorRecoveryDisabledLanes|=d,Qs|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ja(n,0),Pi(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pi(l,i,Un,!Oi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Jd+300-xn(),10<f)){if(Pi(l,i,Un,!Oi),ga(l,0,!0)!==0)break e;l.timeoutHandle=O_(r_.bind(null,l,a,fn,zc,Zd,i,Un,Qs,Xa,Oi,d,2,-0,0),f);break e}r_(l,a,fn,zc,Zd,i,Un,Qs,Xa,Oi,d,0,-0,0)}}break}while(!0);_r(n)}function r_(n,i,a,l,f,d,E,T,N,F,W,te,G,$){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:jA},X0(i),te=zA(),te!==null)){n.cancelPendingCommit=te(c_.bind(null,n,i,d,a,l,f,E,T,N,W,1,G,$)),Pi(n,d,E,!F);return}c_(n,i,d,a,l,f,E,T,N)}function iA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pi(n,i,a,l){i&=~Wd,i&=~Qs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-Yt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&rr(n,a,i)}function qc(){return(Ke&6)===0?(Pl(0),!1):!0}function rm(){if(ke!==null){if(Qe===0)var n=ke.return;else n=ke,Kr=qs=null,Ed(n),Ga=null,Al=0,n=ke;for(;n!==null;)V0(n.alternate,n),n=n.return;ke=null}}function Ja(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,TA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),rm(),tt=n,ke=a=Fr(n.current,null),Be=i,Qe=0,wn=null,Oi=!1,Ya=Es(n,i),Xd=!1,Xa=Un=Wd=Qs=Di=ft=0,fn=kl=null,Zd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Yt(l),d=1<<f;i|=n[f],l&=~d}return ti=i,cc(),a}function i_(n,i){Ne=null,X.H=Ic,i===gl||i===vc?(i=by(),Qe=3):i===_y?(i=by(),Qe=4):Qe=i===T0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,ke===null&&(ft=1,Mc(n,kn(i,n.current)))}function s_(){var n=X.H;return X.H=Ic,n===null?Ic:n}function a_(){var n=X.A;return X.A=nA,n}function im(){ft=4,Oi||(Be&4194048)!==Be&&Ln.current!==null||(Ya=!0),(Di&134217727)===0&&(Qs&134217727)===0||tt===null||Pi(tt,Be,Un,!1)}function sm(n,i,a){var l=Ke;Ke|=2;var f=s_(),d=a_();(tt!==n||Be!==i)&&(zc=null,Ja(n,i)),i=!1;var E=ft;e:do try{if(Qe!==0&&ke!==null){var T=ke,N=wn;switch(Qe){case 8:rm(),E=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var F=Qe;if(Qe=0,wn=null,eo(n,T,N,F),a&&Ya){E=0;break e}break;default:F=Qe,Qe=0,wn=null,eo(n,T,N,F)}}sA(),E=ft;break}catch(W){i_(n,W)}while(!0);return i&&n.shellSuspendCounter++,Kr=qs=null,Ke=l,X.H=f,X.A=d,ke===null&&(tt=null,Be=0,cc()),E}function sA(){for(;ke!==null;)o_(ke)}function aA(n,i){var a=Ke;Ke|=2;var l=s_(),f=a_();tt!==n||Be!==i?(zc=null,Bc=xn()+500,Ja(n,i)):Ya=Es(n,i);e:do try{if(Qe!==0&&ke!==null){i=ke;var d=wn;t:switch(Qe){case 1:Qe=0,wn=null,eo(n,i,d,1);break;case 2:case 9:if(vy(d)){Qe=0,wn=null,l_(i);break}i=function(){Qe!==2&&Qe!==9||tt!==n||(Qe=7),_r(n)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:vy(d)?(Qe=0,wn=null,l_(i)):(Qe=0,wn=null,eo(n,i,d,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var T=ke;if(!E||H_(E)){Qe=0,wn=null;var N=T.sibling;if(N!==null)ke=N;else{var F=T.return;F!==null?(ke=F,Hc(F)):ke=null}break t}}Qe=0,wn=null,eo(n,i,d,5);break;case 6:Qe=0,wn=null,eo(n,i,d,6);break;case 8:rm(),ft=6;break e;default:throw Error(s(462))}}oA();break}catch(W){i_(n,W)}while(!0);return Kr=qs=null,X.H=l,X.A=f,Ke=a,ke!==null?0:(tt=null,Be=0,cc(),ft)}function oA(){for(;ke!==null&&!jo();)o_(ke)}function o_(n){var i=M0(n.alternate,n,ti);n.memoizedProps=n.pendingProps,i===null?Hc(n):ke=i}function l_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=C0(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=C0(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Ed(i);default:V0(a,i),i=ke=uy(i,ti),i=M0(a,i,ti)}n.memoizedProps=n.pendingProps,i===null?Hc(n):ke=i}function eo(n,i,a,l){Kr=qs=null,Ed(i),Ga=null,Al=0;var f=i.return;try{if(XS(n,f,i,a,Be)){ft=1,Mc(n,kn(a,n.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;ft=1,Mc(n,kn(a,n.current)),ke=null;return}i.flags&32768?(He||l===1?n=!0:Ya||(Be&536870912)!==0?n=!1:(Oi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(i,n)):Hc(i)}function Hc(n){var i=n;do{if((i.flags&32768)!==0){u_(i,Oi);return}n=i.return;var a=ZS(i.alternate,i,ti);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=n}while(i!==null);ft===0&&(ft=5)}function u_(n,i){do{var a=JS(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);ft=6,ke=null}function c_(n,i,a,l,f,d,E,T,N){n.cancelPendingCommit=null;do Fc();while(Ft!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yf,Go(n,a,d,E,T,N),n===tt&&(ke=tt=null,Be=0),Wa=i,Mi=n,Za=a,em=d,tm=f,e_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,hA(gs,function(){return p_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=oe.p,oe.p=2,E=Ke,Ke|=4;try{eA(n,i,a)}finally{Ke=E,oe.p=f,X.T=l}}Ft=1,h_(),f_(),d_()}}function h_(){if(Ft===1){Ft=0;var n=Mi,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ke;Ke|=4;try{K0(i,n);var d=ym,E=Jg(n.containerInfo),T=d.focusedElem,N=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Zg(T.ownerDocument.documentElement,T)){if(N!==null&&Ff(T)){var F=N.start,W=N.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var te=T.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var $=G.getSelection(),Se=T.textContent.length,ve=Math.min(N.start,Se),Ze=N.end===void 0?ve:Math.min(N.end,Se);!$.extend&&ve>Ze&&(E=Ze,Ze=ve,ve=E);var z=Wg(T,ve),L=Wg(T,Ze);if(z&&L&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var H=te.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),ve>Ze?($.addRange(H),$.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),$.addRange(H))}}}}for(te=[],$=T;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nh=!!gm,ym=gm=null}finally{Ke=f,oe.p=l,X.T=a}}n.current=i,Ft=2}}function f_(){if(Ft===2){Ft=0;var n=Mi,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ke;Ke|=4;try{H0(n,i.alternate,i)}finally{Ke=f,oe.p=l,X.T=a}}Ft=3}}function d_(){if(Ft===4||Ft===3){Ft=0,ju();var n=Mi,i=Wa,a=Za,l=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,Wa=Mi=null,m_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ki=null),ya(a),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{X.T=i,oe.p=f}}(Za&3)!==0&&Fc(),_r(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===nm?Ml++:(Ml=0,nm=n):Ml=0,Pl(0)}}function m_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ml(i)))}function Fc(n){return h_(),f_(),d_(),p_()}function p_(){if(Ft!==5)return!1;var n=Mi,i=em;em=0;var a=ya(Za),l=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=tm,tm=null;var d=Mi,E=Za;if(Ft=0,Wa=Mi=null,Za=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,Z0(d.current),Y0(d,d.current,E,a),Ke=T,Pl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{oe.p=f,X.T=l,m_(n,i)}}function g_(n,i,a){i=kn(a,i),i=Md(n.stateNode,i,2),n=Si(n,i,2),n!==null&&(kr(n,2),_r(n))}function Je(n,i,a){if(n.tag===3)g_(n,n,a);else for(;i!==null;){if(i.tag===3){g_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){n=kn(a,n),a=E0(2),l=Si(i,a,2),l!==null&&(b0(a,l,i,n),kr(l,2),_r(l));break}}i=i.return}}function am(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new rA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Xd=!0,f.add(a),n=lA.bind(null,n,i,a),i.then(n,n))}function lA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Be&a)===a&&(ft===4||ft===3&&(Be&62914560)===Be&&300>xn()-Jd?(Ke&2)===0&&Ja(n,0):Wd|=a,Xa===Be&&(Xa=0)),_r(n)}function y_(n,i){i===0&&(i=Fo()),n=Pa(n,i),n!==null&&(kr(n,i),_r(n))}function uA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(n,a)}function cA(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),y_(n,a)}function hA(n,i){return ms(n,i)}var Gc=null,to=null,om=!1,$c=!1,lm=!1,Ys=0;function _r(n){n!==to&&n.next===null&&(to===null?Gc=to=n:to=to.next=n),$c=!0,om||(om=!0,dA())}function Pl(n,i){if(!lm&&$c){lm=!0;do for(var a=!1,l=Gc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=Be,d=ga(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Es(l,d)||(a=!0,b_(l,d));l=l.next}while(a);lm=!1}}function fA(){__()}function __(){$c=om=!1;var n=0;Ys!==0&&(bA()&&(n=Ys),Ys=0);for(var i=xn(),a=null,l=Gc;l!==null;){var f=l.next,d=v_(l,i);d===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(to=a)):(a=l,(n!==0||(d&3)!==0)&&($c=!0)),l=f}Pl(n)}function v_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Yt(d),T=1<<E,N=f[E];N===-1?((T&a)===0||(T&l)!==0)&&(f[E]=qo(T,i)):N<=i&&(n.expiredLanes|=T),d&=~T}if(i=tt,a=Be,a=ga(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Es(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ps(l),ya(a)){case 2:case 8:a=ma;break;case 32:a=gs;break;case 268435456:a=pa;break;default:a=gs}return l=E_.bind(null,n),a=ms(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ps(l),n.callbackPriority=2,n.callbackNode=null,2}function E_(n,i){if(Ft!==0&&Ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Fc()&&n.callbackNode!==a)return null;var l=Be;return l=ga(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(n_(n,l,i),v_(n,xn()),n.callbackNode!=null&&n.callbackNode===a?E_.bind(null,n):null)}function b_(n,i){if(Fc())return null;n_(n,i,!0)}function dA(){wA(function(){(Ke&6)!==0?ms(Bo,fA):__()})}function um(){return Ys===0&&(Ys=Ho()),Ys}function T_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wa(""+n)}function w_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function mA(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=T_((f[bt]||null).action),E=l.submitter;E&&(i=(i=E[bt]||null)?T_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new Sa("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var N=E?w_(f,E):new FormData(f);Id(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=E?w_(f,E):new FormData(f),Id(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var cm=0;cm<Qf.length;cm++){var hm=Qf[cm],pA=hm.toLowerCase(),gA=hm[0].toUpperCase()+hm.slice(1);Kn(pA,"on"+gA)}Kn(ny,"onAnimationEnd"),Kn(ry,"onAnimationIteration"),Kn(iy,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(kS,"onTransitionRun"),Kn(MS,"onTransitionStart"),Kn(PS,"onTransitionCancel"),Kn(sy,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function S_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],N=T.instance,F=T.currentTarget;if(T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=F;try{d(f)}catch(W){kc(W)}f.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(T=l[E],N=T.instance,F=T.currentTarget,T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=F;try{d(f)}catch(W){kc(W)}f.currentTarget=null,d=N}}}}function Me(n,i){var a=i[Ko];a===void 0&&(a=i[Ko]=new Set);var l=n+"__bubble";a.has(l)||(A_(i,n,2,!1),a.add(l))}function fm(n,i,a){var l=0;i&&(l|=4),A_(a,n,l,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function dm(n){if(!n[Kc]){n[Kc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(yA.has(a)||fm(a,!1,n),fm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,fm("selectionchange",!1,i))}}function A_(n,i,a,l){switch(Y_(i)){case 2:var f=FA;break;case 8:f=GA;break;default:f=xm}a=f.bind(null,i,a,n),f=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function mm(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Mr(T),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Yu(function(){var F=d,W=Nn(a),te=[];e:{var G=ay.get(n);if(G!==void 0){var $=Sa,Se=n;switch(n){case"keypress":if(ur(a)===0)break e;case"keydown":case"keyup":$=Na;break;case"focusin":Se="focus",$=xa;break;case"focusout":Se="blur",$=xa;break;case"beforeblur":case"afterblur":$=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=rc;break;case ny:case ry:case iy:$=Ca;break;case sy:$=sc;break;case"scroll":case"scrollend":$=Xu;break;case"wheel":$=Oa;break;case"copy":case"cut":case"paste":$=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=al;break;case"toggle":case"beforetoggle":$=oc}var ve=(i&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),z=ve?G!==null?G+"Capture":null:G;ve=[];for(var L=F,H;L!==null;){var Z=L;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=Cs(L,z),Z!=null&&ve.push(Ll(L,Z,H))),Ze)break;L=L.return}0<ve.length&&(G=new $(G,Se,null,a,W),te.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",G&&a!==Ur&&(Se=a.relatedTarget||a.fromElement)&&(Mr(Se)||Se[Cn]))break e;if(($||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,$?(Se=a.relatedTarget||a.toElement,$=F,Se=Se?Mr(Se):null,Se!==null&&(Ze=u(Se),ve=Se.tag,Se!==Ze||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):($=null,Se=F),$!==Se)){if(ve=Dn,Z="onMouseLeave",z="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ve=al,Z="onPointerLeave",z="onPointerEnter",L="pointer"),Ze=$==null?G:sr($),H=Se==null?G:sr(Se),G=new ve(Z,L+"leave",$,a,W),G.target=Ze,G.relatedTarget=H,Z=null,Mr(W)===F&&(ve=new ve(z,L+"enter",Se,a,W),ve.target=H,ve.relatedTarget=Ze,Z=ve),Ze=Z,$&&Se)t:{for(ve=$,z=Se,L=0,H=ve;H;H=no(H))L++;for(H=0,Z=z;Z;Z=no(Z))H++;for(;0<L-H;)ve=no(ve),L--;for(;0<H-L;)z=no(z),H--;for(;L--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=no(ve),z=no(z)}ve=null}else ve=null;$!==null&&R_(te,G,$,ve,!1),Se!==null&&Ze!==null&&R_(te,Ze,Se,ve,!0)}}e:{if(G=F?sr(F):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var fe=Gg;else if(Nt(G))if($g)fe=NS;else{fe=CS;var De=xS}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Jo(F.elementType)&&(fe=Gg):fe=IS;if(fe&&(fe=fe(n,F))){Hr(te,fe,a,W);break e}De&&De(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&vi(G,"number",G.value)}switch(De=F?sr(F):window,n){case"focusin":(Nt(De)||De.contentEditable==="true")&&(Da=De,Gf=F,ul=null);break;case"focusout":ul=Gf=Da=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,ey(te,a,W);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":ey(te,a,W)}var pe;if(fr)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?Q(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(pe=tl()):(lr=W,Ei="value"in lr?lr.value:lr.textContent,Ue=!0)),De=Qc(F,Ee),0<De.length&&(Ee=new il(Ee,n,null,a,W),te.push({event:Ee,listeners:De}),pe?Ee.data=pe:(pe=ae(a),pe!==null&&(Ee.data=pe)))),(pe=y?It(n,a):je(n,a))&&(Ee=Qc(F,"onBeforeInput"),0<Ee.length&&(De=new il("onBeforeInput","beforeinput",null,a,W),te.push({event:De,listeners:Ee}),De.data=pe)),mA(te,n,F,a,W)}S_(te,i)})}function Ll(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Qc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Cs(n,a),f!=null&&l.unshift(Ll(n,f,d)),f=Cs(n,i),f!=null&&l.push(Ll(n,f,d))),n.tag===3)return l;n=n.return}return[]}function no(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function R_(n,i,a,l,f){for(var d=i._reactName,E=[];a!==null&&a!==l;){var T=a,N=T.alternate,F=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||F===null||(N=F,f?(F=Cs(a,d),F!=null&&E.unshift(Ll(a,F,N))):f||(F=Cs(a,d),F!=null&&E.push(Ll(a,F,N)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function x_(n){return(typeof n=="string"?n:""+n).replace(_A,`
`).replace(vA,"")}function C_(n,i){return i=x_(i),x_(n)===i}function Yc(){}function We(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(n,""+l);break;case"className":ar(n,"class",l);break;case"tabIndex":ar(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(n,a,l);break;case"style":Zo(n,l,d);break;case"data":if(i!=="object"){ar(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Yc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=wa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),_i(n,"popover",l);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uf.get(a)||a,_i(n,a,l))}}function pm(n,i,a,l,f,d){switch(a){case"style":Zo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?In(n,l):(typeof l=="number"||typeof l=="bigint")&&In(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):_i(n,a,l)}}}function Gt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,d,E,a,null)}}f&&We(n,i,"srcSet",a.srcSet,a,null),l&&We(n,i,"src",a.src,a,null);return;case"input":Me("invalid",n);var T=d=E=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:We(n,i,l,W,a,null)}}As(n,d,T,N,F,E,f,!1),Ta(n);return;case"select":Me("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(n,i,f,T,a,null)}i=d,a=E,n.multiple=!!l,i!=null?Lr(n,!!l,i,!1):a!=null&&Lr(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,i,E,T,a,null)}Rs(n,l,f,d),Ta(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,i,N,l,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Me(Vl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,F,l,a,null)}return;default:if(Jo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&pm(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,i,T,l,a,null))}function EA(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,N=null,F=null,W=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty($)||We(n,i,$,null,l,te)}}for(var G in l){var $=l[G];if(te=a[G],l.hasOwnProperty(G)&&($!=null||te!=null))switch(G){case"type":d=$;break;case"name":f=$;break;case"checked":F=$;break;case"defaultChecked":W=$;break;case"value":E=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==te&&We(n,i,G,$,l,te)}}_n(n,E,T,N,F,W,d,f);return;case"select":$=E=T=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||We(n,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==N&&We(n,i,f,d,l,N)}i=T,a=E,l=$,G!=null?Lr(n,!!a,G,!1):!!l!=!!a&&(i!=null?Lr(n,!!a,i,!0):Lr(n,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,i,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(n,i,E,f,l,d)}Ye(n,G,$);return;case"option":for(var Se in a)if(G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:We(n,i,Se,null,l,G)}for(N in l)if(G=l[N],$=a[N],l.hasOwnProperty(N)&&G!==$&&(G!=null||$!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,i,N,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(n,i,ve,null,l,G);for(F in l)if(G=l[F],$=a[F],l.hasOwnProperty(F)&&G!==$&&(G!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:We(n,i,F,G,l,$)}return;default:if(Jo(i)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&pm(n,i,Ze,void 0,l,G);for(W in l)G=l[W],$=a[W],!l.hasOwnProperty(W)||G===$||G===void 0&&$===void 0||pm(n,i,W,G,l,$);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&We(n,i,z,null,l,G);for(te in l)G=l[te],$=a[te],!l.hasOwnProperty(te)||G===$||G==null&&$==null||We(n,i,te,G,l,$)}var gm=null,ym=null;function Xc(n){return n.nodeType===9?n:n.ownerDocument}function I_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function _m(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function bA(){var n=window.event;return n&&n.type==="popstate"?n===vm?!1:(vm=n,!0):(vm=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(n){return D_.resolve(null).then(n).catch(SA)}:O_;function SA(n){setTimeout(function(){throw n})}function Vi(n){return n==="head"}function k_(n,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Ul(E.documentElement),a&2&&Ul(E.body),a&4)for(a=E.head,Ul(a),E=a.firstChild;E;){var T=E.nextSibling,N=E.nodeName;E[bs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),$l(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);$l(i)}function Em(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function AA(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[bs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function RA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function bm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function xA(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Yn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Tm=null;function M_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function P_(n,i,a){switch(i=Xc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ul(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);yi(n)}var jn=new Map,V_=new Set;function Wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ni=oe.d;oe.d={f:CA,r:IA,D:NA,C:OA,L:DA,m:kA,X:PA,S:MA,M:VA};function CA(){var n=ni.f(),i=qc();return n||i}function IA(n){var i=ir(n);i!==null&&i.tag===5&&i.type==="form"?n0(i):ni.r(n)}var ro=typeof document>"u"?null:document;function L_(n,i,a){var l=ro;if(l&&typeof i=="string"&&i){var f=Tt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),V_.has(f)||(V_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function NA(n){ni.D(n),L_("dns-prefetch",n,null)}function OA(n,i){ni.C(n,i),L_("preconnect",n,i)}function DA(n,i,a){ni.L(n,i,a);var l=ro;if(l&&n&&i){var f='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tt(a.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var d=f;switch(i){case"style":d=io(n);break;case"script":d=so(n)}jn.has(d)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),jn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function kA(n,i){ni.m(n,i);var a=ro;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(n)}if(!jn.has(d)&&(n=_({rel:"modulepreload",href:n},i),jn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),Gt(l,"link",n),gt(l),a.head.appendChild(l)}}}function MA(n,i,a){ni.S(n,i,a);var l=ro;if(l&&n){var f=sn(l).hoistableStyles,d=io(n);i=i||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(jl(d)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=jn.get(d))&&wm(n,a);var N=E=l.createElement("link");gt(N),Gt(N,"link",n),N._p=new Promise(function(F,W){N.onload=F,N.onerror=W}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function PA(n,i){ni.X(n,i);var a=ro;if(a&&n){var l=sn(a).hoistableScripts,f=so(n),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(n=_({src:n,async:!0},i),(i=jn.get(f))&&Sm(n,i),d=a.createElement("script"),gt(d),Gt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function VA(n,i){ni.M(n,i);var a=ro;if(a&&n){var l=sn(a).hoistableScripts,f=so(n),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(n=_({src:n,async:!0,type:"module"},i),(i=jn.get(f))&&Sm(n,i),d=a.createElement("script"),gt(d),Gt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function U_(n,i,a,l){var f=(f=Ae.current)?Wc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=io(a.href),a=sn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=io(a.href);var d=sn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(jl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),d||LA(f,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=sn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function io(n){return'href="'+Tt(n)+'"'}function jl(n){return'link[rel="stylesheet"]['+n+"]"}function j_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function LA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),gt(i),n.head.appendChild(i))}function so(n){return'[src="'+Tt(n)+'"]'}function Bl(n){return"script[async]"+n}function B_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,gt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Gt(l,"style",f),Zc(l,a.precedence,n),i.instance=l;case"stylesheet":f=io(a.href);var d=n.querySelector(jl(f));if(d)return i.state.loading|=4,i.instance=d,gt(d),d;l=j_(a),(f=jn.get(f))&&wm(l,f),d=(n.ownerDocument||n).createElement("link"),gt(d);var E=d;return E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Zc(d,a.precedence,n),i.instance=d;case"script":return d=so(a.src),(f=n.querySelector(Bl(d)))?(i.instance=f,gt(f),f):(l=a,(f=jn.get(d))&&(l=_({},a),Sm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),gt(f),Gt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Zc(l,a.precedence,n));return i.instance}function Zc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function wm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Sm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Jc=null;function z_(n,i,a){if(Jc===null){var l=new Map,f=Jc=new Map;f.set(a,l)}else f=Jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[bs]||d[Ct]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function q_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function UA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zl=null;function jA(){}function BA(n,i,a){if(zl===null)throw Error(s(475));var l=zl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=io(a.href),d=n.querySelector(jl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=eh.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,gt(d);return}d=n.ownerDocument||n,a=j_(a),(f=jn.get(f))&&wm(a,f),d=d.createElement("link"),gt(d);var E=d;E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),Gt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=eh.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function zA(){if(zl===null)throw Error(s(475));var n=zl;return n.stylesheets&&n.count===0&&Am(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Am(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function eh(){if(this.count--,this.count===0){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var th=null;function Am(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,th=new Map,i.forEach(qA,n),th=null,eh.call(n))}function qA(n,i){if(!(i.state.loading&4)){var a=th.get(n);if(a)var l=a.get(null);else{a=new Map,th.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var ql={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function HA(n,i,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function F_(n,i,a,l,f,d,E,T,N,F,W,te){return n=new HA(n,i,a,E,T,N,F,te),i=1,d===!0&&(i|=24),d=En(3,null,null,i),n.current=d,d.stateNode=n,i=ad(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},cd(d),n}function G_(n){return n?(n=Va,n):Va}function $_(n,i,a,l,f,d){f=G_(f),l.context===null?l.context=f:l.pendingContext=f,l=wi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Si(n,l,i),a!==null&&(An(a,n,i),_l(a,n,i))}function K_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Rm(n,i){K_(n,i),(n=n.alternate)&&K_(n,i)}function Q_(n){if(n.tag===13){var i=Pa(n,67108864);i!==null&&An(i,n,67108864),Rm(n,67108864)}}var nh=!0;function FA(n,i,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=2,xm(n,i,a,l)}finally{oe.p=d,X.T=f}}function GA(n,i,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=8,xm(n,i,a,l)}finally{oe.p=d,X.T=f}}function xm(n,i,a,l){if(nh){var f=Cm(l);if(f===null)mm(n,i,l,rh,a),X_(n,l);else if(KA(f,n,i,a,l))l.stopPropagation();else if(X_(n,l),i&4&&-1<$A.indexOf(n)){for(;f!==null;){var d=ir(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Fn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var N=1<<31-Yt(E);T.entanglements[1]|=N,E&=~N}_r(d),(Ke&6)===0&&(Bc=xn()+500,Pl(0))}}break;case 13:T=Pa(d,2),T!==null&&An(T,d,2),qc(),Rm(d,2)}if(d=Cm(l),d===null&&mm(n,i,l,rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else mm(n,i,l,null,a)}}function Cm(n){return n=Nn(n),Im(n)}var rh=null;function Im(n){if(rh=null,n=Mr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return rh=n,null}function Y_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Df()){case Bo:return 2;case ma:return 8;case gs:case kf:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Nm=!1,Li=null,Ui=null,ji=null,Hl=new Map,Fl=new Map,Bi=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(n,i){switch(n){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=ir(i),i!==null&&Q_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function KA(n,i,a,l,f){switch(i){case"focusin":return Li=Gl(Li,n,i,a,l,f),!0;case"dragenter":return Ui=Gl(Ui,n,i,a,l,f),!0;case"mouseover":return ji=Gl(ji,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Gl(Fl.get(d)||null,n,i,a,l,f)),!0}return!1}function W_(n){var i=Mr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,qu(n.priority,function(){if(a.tag===13){var l=Sn();l=mi(l);var f=Pa(a,l);f!==null&&An(f,a,l),Rm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ih(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Cm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ur=l,a.target.dispatchEvent(l),Ur=null}else return i=ir(a),i!==null&&Q_(i),n.blockedOn=a,!1;i.shift()}return!0}function Z_(n,i,a){ih(n)&&a.delete(i)}function QA(){Nm=!1,Li!==null&&ih(Li)&&(Li=null),Ui!==null&&ih(Ui)&&(Ui=null),ji!==null&&ih(ji)&&(ji=null),Hl.forEach(Z_),Fl.forEach(Z_)}function sh(n,i){n.blockedOn===i&&(n.blockedOn=null,Nm||(Nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QA)))}var ah=null;function J_(n){ah!==n&&(ah=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ah===n&&(ah=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Im(l||a)===null)continue;break}var d=ir(a);d!==null&&(n.splice(i,3),i-=3,Id(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function $l(n){function i(N){return sh(N,n)}Li!==null&&sh(Li,n),Ui!==null&&sh(Ui,n),ji!==null&&sh(ji,n),Hl.forEach(i),Fl.forEach(i);for(var a=0;a<Bi.length;a++){var l=Bi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&Bi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[bt]||null;if(typeof d=="function")E||J_(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[bt]||null)T=E.formAction;else if(Im(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),J_(a)}}}function Om(n){this._internalRoot=n}oh.prototype.render=Om.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();$_(a,l,n,i,null,null)},oh.prototype.unmount=Om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;$_(n.current,2,null,n,null,null),qc(),i[Cn]=null}};function oh(n){this._internalRoot=n}oh.prototype.unstable_scheduleHydration=function(n){if(n){var i=pi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Bi.length&&i!==0&&i<Bi[a].priority;a++);Bi.splice(a,0,n),a===0&&W_(n)}};var ev=e.version;if(ev!=="19.1.0")throw Error(s(527,ev,"19.1.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var YA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{ct=lh.inject(YA),$e=lh}catch{}}return Ql.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=g0,d=y0,E=_0,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=F_(n,1,!1,null,null,a,l,f,d,E,T,null),n[Cn]=i.current,dm(n),new Om(i)},Ql.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=g0,E=y0,T=_0,N=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=F_(n,1,!0,i,a??null,l,f,d,E,T,N,F),i.context=G_(null),a=i.current,l=Sn(),l=mi(l),f=wi(l),f.callback=null,Si(a,f,l),a=l,i.current.lanes=a,kr(i,a),_r(i),n[Cn]=i.current,dm(n),new oh(i)},Ql.version="19.1.0",Ql}var cv;function a1(){if(cv)return Pm.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=s1(),Pm.exports}var o1=a1();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hv="popstate";function l1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return ip("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:uu(o)}return c1(e,t,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u1(){return Math.random().toString(36).substring(2,10)}function fv(r,e){return{usr:r.state,key:r.key,idx:e}}function ip(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ro(e):e,state:t,key:e&&e.key||s||u1()}}function uu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ro(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function c1(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function b(){m="POP";let V=_(),K=V==null?null:V-p;p=V,g&&g({action:m,location:U.location,delta:K})}function w(V,K){m="PUSH";let ee=ip(U.location,V,K);p=_()+1;let ie=fv(ee,p),de=U.createHref(ee);try{h.pushState(ie,"",de)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(de)}u&&g&&g({action:m,location:U.location,delta:1})}function I(V,K){m="REPLACE";let ee=ip(U.location,V,K);p=_();let ie=fv(ee,p),de=U.createHref(ee);h.replaceState(ie,"",de),u&&g&&g({action:m,location:U.location,delta:0})}function C(V){return h1(V)}let U={get action(){return m},get location(){return r(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(hv,b),g=V,()=>{o.removeEventListener(hv,b),g=null}},createHref(V){return e(o,V)},createURL:C,encodeLocation(V){let K=C(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:I,go(V){return h.go(V)}};return U}function h1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function lb(r,e,t="/"){return f1(r,e,t,!1)}function f1(r,e,t,s){let o=typeof e=="string"?Ro(e):e,u=oi(o.pathname||"/",t);if(u==null)return null;let h=ub(r);d1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=S1(u);m=T1(h[g],p,s)}return m}function ub(r,e=[],t=[],s=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(ot(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=si([s,g.relativePath]),_=t.concat(g);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ub(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:E1(p,u.index),routesMeta:_})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of cb(u.path))o(u,h,m)}),e}function cb(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=cb(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function d1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:b1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var m1=/^:[\w-]+$/,p1=3,g1=2,y1=1,_1=10,v1=-2,dv=r=>r==="*";function E1(r,e){let t=r.split("/"),s=t.length;return t.some(dv)&&(s+=v1),e&&(s+=g1),t.filter(o=>!dv(o)).reduce((o,u)=>o+(m1.test(u)?p1:u===""?y1:_1),s)}function b1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function T1(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),w=g.route;if(!b&&p&&t&&!s[s.length-1].route.index&&(b=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:si([u,b.pathname]),pathnameBase:C1(si([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=si([u,b.pathnameBase]))}return h}function Dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=w1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:b},w)=>{if(_==="*"){let C=m[w]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const I=m[w];return b&&!I?p[_]=void 0:p[_]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function w1(r,e=!1,t=!0){Wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function S1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function oi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function A1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Ro(r):r;return{pathname:t?t.startsWith("/")?t:R1(t,e):e,search:I1(s),hash:N1(o)}}function R1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zp(r){let e=x1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qp(r,e,t,s=!1){let o;typeof r=="string"?o=Ro(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let g=A1(o,m),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var si=r=>r.join("/").replace(/\/\/+/g,"/"),C1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),I1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,N1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function O1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var hb=["POST","PUT","PATCH","DELETE"];new Set(hb);var D1=["GET",...hb];new Set(D1);var xo=j.createContext(null);xo.displayName="DataRouter";var Jh=j.createContext(null);Jh.displayName="DataRouterState";j.createContext(!1);var fb=j.createContext({isTransitioning:!1});fb.displayName="ViewTransition";var k1=j.createContext(new Map);k1.displayName="Fetchers";var M1=j.createContext(null);M1.displayName="Await";var er=j.createContext(null);er.displayName="Navigation";var Tu=j.createContext(null);Tu.displayName="Location";var Cr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Hp=j.createContext(null);Hp.displayName="RouteError";function P1(r,{relative:e}={}){ot(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(er),{hash:o,pathname:u,search:h}=Su(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:si([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Co(){return j.useContext(Tu)!=null}function Ir(){return ot(Co(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Tu).location}var db="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mb(r){j.useContext(er).static||j.useLayoutEffect(r)}function wu(){let{isDataRoute:r}=j.useContext(Cr);return r?Q1():V1()}function V1(){ot(Co(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(xo),{basename:e,navigator:t}=j.useContext(er),{matches:s}=j.useContext(Cr),{pathname:o}=Ir(),u=JSON.stringify(zp(s)),h=j.useRef(!1);return mb(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(Wn(h.current,db),!h.current)return;if(typeof g=="number"){t.go(g);return}let _=qp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:si([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,u,o,r])}j.createContext(null);function Su(r,{relative:e}={}){let{matches:t}=j.useContext(Cr),{pathname:s}=Ir(),o=JSON.stringify(zp(t));return j.useMemo(()=>qp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function L1(r,e){return pb(r,e)}function pb(r,e,t,s){ot(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(er),{matches:u}=j.useContext(Cr),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",_=h&&h.route;{let K=_&&_.path||"";gb(g,!_||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let b=Ir(),w;if(e){let K=typeof e=="string"?Ro(e):e;ot(p==="/"||K.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${K.pathname}" was given in the \`location\` prop.`),w=K}else w=b;let I=w.pathname||"/",C=I;if(p!=="/"){let K=p.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(K.length).join("/")}let U=lb(r,{pathname:C});Wn(_||U!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Wn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=q1(U&&U.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:si([p,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?p:si([p,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,t,s);return e&&V?j.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function U1(){let r=K1(),e=O1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,h)}var j1=j.createElement(U1,null),B1=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(Cr.Provider,{value:this.props.routeContext},j.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z1({routeContext:r,match:e,children:t}){let s=j.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Cr.Provider,{value:r},t)}function q1(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:b}=t,w=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,_)=>{let b,w=!1,I=null,C=null;t&&(b=u&&p.route.id?u[p.route.id]:void 0,I=p.route.errorElement||j1,h&&(m<0&&_===0?(gb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):m===_&&(w=!0,C=p.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),V=()=>{let K;return b?K=I:w?K=C:p.route.Component?K=j.createElement(p.route.Component,null):p.route.element?K=p.route.element:K=g,j.createElement(z1,{match:p,routeContext:{outlet:g,matches:U,isDataRoute:t!=null},children:K})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?j.createElement(B1,{location:t.location,revalidation:t.revalidation,component:I,error:b,children:V(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):V()},null)}function Fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(r){let e=j.useContext(xo);return ot(e,Fp(r)),e}function F1(r){let e=j.useContext(Jh);return ot(e,Fp(r)),e}function G1(r){let e=j.useContext(Cr);return ot(e,Fp(r)),e}function Gp(r){let e=G1(r),t=e.matches[e.matches.length-1];return ot(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function $1(){return Gp("useRouteId")}function K1(){let r=j.useContext(Hp),e=F1("useRouteError"),t=Gp("useRouteError");return r!==void 0?r:e.errors?.[t]}function Q1(){let{router:r}=H1("useNavigate"),e=Gp("useNavigate"),t=j.useRef(!1);return mb(()=>{t.current=!0}),j.useCallback(async(o,u={})=>{Wn(t.current,db),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var mv={};function gb(r,e,t){!e&&!mv[r]&&(mv[r]=!0,Wn(!1,t))}j.memo(Y1);function Y1({routes:r,future:e,state:t}){return pb(r,void 0,t,e)}function X1({to:r,replace:e,state:t,relative:s}){ot(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(er);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Cr),{pathname:h}=Ir(),m=wu(),g=qp(r,zp(u),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:s})},[m,p,s,e,t]),null}function ao(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ot(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ro(t));let{pathname:g="/",search:p="",hash:_="",state:b=null,key:w="default"}=t,I=j.useMemo(()=>{let C=oi(g,h);return C==null?null:{location:{pathname:C,search:p,hash:_,state:b,key:w},navigationType:s}},[h,g,p,_,b,w,s]);return Wn(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:j.createElement(er.Provider,{value:m},j.createElement(Tu.Provider,{children:e,value:I}))}function Z1({children:r,location:e}){return L1(sp(r),e)}function sp(r,e=[]){let t=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){t.push.apply(t,sp(s.props.children,u));return}ot(s.type===ao,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=sp(s.props.children,u)),t.push(h)}),t}var yh="get",_h="application/x-www-form-urlencoded";function ef(r){return r!=null&&typeof r.tagName=="string"}function J1(r){return ef(r)&&r.tagName.toLowerCase()==="button"}function eR(r){return ef(r)&&r.tagName.toLowerCase()==="form"}function tR(r){return ef(r)&&r.tagName.toLowerCase()==="input"}function nR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rR(r,e){return r.button===0&&(!e||e==="_self")&&!nR(r)}var uh=null;function iR(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var sR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(r){return r!=null&&!sR.has(r)?(Wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):r}function aR(r,e){let t,s,o,u,h;if(eR(r)){let m=r.getAttribute("action");s=m?oi(m,e):null,t=r.getAttribute("method")||yh,o=Bm(r.getAttribute("enctype"))||_h,u=new FormData(r)}else if(J1(r)||tR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?oi(g,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||yh,o=Bm(r.getAttribute("formenctype"))||Bm(m.getAttribute("enctype"))||_h,u=new FormData(m,r),!iR()){let{name:p,type:_,value:b}=r;if(_==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,b)}}else{if(ef(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yh,s=null,o=_h,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function oR(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&oi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function lR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cR(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await lR(u,t);return h.links?h.links():[]}return[]}));return mR(s.flat(1).filter(uR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pv(r,e,t,s,o,u){let h=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>t[p].pathname!==g.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hR(r,e,{includeHydrateFallback:t}={}){return fR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fR(r){return[...new Set(r)]}function dR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function mR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(dR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function yb(){let r=j.useContext(xo);return $p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pR(){let r=j.useContext(Jh);return $p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kp=j.createContext(void 0);Kp.displayName="FrameworkContext";function _b(){let r=j.useContext(Kp);return $p(r,"You must render this element inside a <HydratedRouter> element"),r}function gR(r,e){let t=j.useContext(Kp),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:b}=e,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let U=K=>{K.forEach(ee=>{h(ee.isIntersecting)})},V=new IntersectionObserver(U,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[r]),j.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let I=()=>{o(!0)},C=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Yl(m,I),onBlur:Yl(g,C),onMouseEnter:Yl(p,I),onMouseLeave:Yl(_,C),onTouchStart:Yl(b,I)}]:[!1,w,{}]}function Yl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function yR({page:r,...e}){let{router:t}=yb(),s=j.useMemo(()=>lb(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?j.createElement(vR,{page:r,matches:s,...e}):null}function _R(r){let{manifest:e,routeModules:t}=_b(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return cR(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function vR({page:r,matches:e,...t}){let s=Ir(),{manifest:o,routeModules:u}=_b(),{basename:h}=yb(),{loaderData:m,matches:g}=pR(),p=j.useMemo(()=>pv(r,e,g,o,s,"data"),[r,e,g,o,s]),_=j.useMemo(()=>pv(r,e,g,o,s,"assets"),[r,e,g,o,s]),b=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,U=!1;if(e.forEach(K=>{let ee=o.routes[K.route.id];!ee||!ee.hasLoader||(!p.some(ie=>ie.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||ee.hasClientLoader?U=!0:C.add(K.route.id))}),C.size===0)return[];let V=oR(r,h,"data");return U&&C.size>0&&V.searchParams.set("_routes",e.filter(K=>C.has(K.route.id)).map(K=>K.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,p,e,r,u]),w=j.useMemo(()=>hR(_,o),[_,o]),I=_R(_);return j.createElement(j.Fragment,null,b.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:U})=>j.createElement("link",{key:C,...U})))}function ER(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vb&&(window.__reactRouterVersion="7.7.0")}catch{}function bR({basename:r,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=l1({window:t,v5Compat:!0}));let o=s.current,[u,h]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>h(g))},[h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(W1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qi=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:_,viewTransition:b,...w},I){let{basename:C}=j.useContext(er),U=typeof p=="string"&&Eb.test(p),V,K=!1;if(typeof p=="string"&&U&&(V=p,vb))try{let R=new URL(window.location.href),P=p.startsWith("//")?new URL(R.protocol+p):new URL(p),k=oi(P.pathname,C);P.origin===R.origin&&k!=null?p=k+P.search+P.hash:K=!0}catch{Wn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=P1(p,{relative:o}),[ie,de,le]=gR(s,w),_e=AR(p,{replace:h,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:b});function M(R){e&&e(R),R.defaultPrevented||_e(R)}let x=j.createElement("a",{...w,...le,href:V||ee,onClick:K||u?e:M,ref:ER(I,de),target:g,"data-discover":!U&&t==="render"?"true":void 0});return ie&&!U?j.createElement(j.Fragment,null,x,j.createElement(yR,{page:ee})):x});Qi.displayName="Link";var TR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},_){let b=Su(h,{relative:p.relative}),w=Ir(),I=j.useContext(Jh),{navigator:C,basename:U}=j.useContext(er),V=I!=null&&NR(b)&&m===!0,K=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,ee=w.pathname,ie=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&U&&(ie=oi(ie,U)||ie);const de=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=ee===K||!o&&ee.startsWith(K)&&ee.charAt(de)==="/",_e=ie!=null&&(ie===K||!o&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),M={isActive:le,isPending:_e,isTransitioning:V},x=le?e:void 0,R;typeof s=="function"?R=s(M):R=[s,le?"active":null,_e?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(M):u;return j.createElement(Qi,{...p,"aria-current":x,className:R,ref:_,style:P,to:h,viewTransition:m},typeof g=="function"?g(M):g)});TR.displayName="NavLink";var wR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=yh,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:b,...w},I)=>{let C=CR(),U=IR(m,{relative:p}),V=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Eb.test(m),ee=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let de=ie.nativeEvent.submitter,le=de?.getAttribute("formmethod")||h;C(de||ie.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:b})};return j.createElement("form",{ref:I,method:V,action:U,onSubmit:s?g:ee,...w,"data-discover":!K&&r==="render"?"true":void 0})});wR.displayName="Form";function SR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bb(r){let e=j.useContext(xo);return ot(e,SR(r)),e}function AR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=wu(),g=Ir(),p=Su(r,{relative:u});return j.useCallback(_=>{if(rR(_,e)){_.preventDefault();let b=t!==void 0?t:uu(g)===uu(p);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,t,s,e,r,o,u,h])}var RR=0,xR=()=>`__${String(++RR)}__`;function CR(){let{router:r}=bb("useSubmit"),{basename:e}=j.useContext(er),t=$1();return j.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=aR(s,e);if(o.navigate===!1){let _=o.fetcherKey||xR();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function IR(r,{relative:e}={}){let{basename:t}=j.useContext(er),s=j.useContext(Cr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},h=Ir();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:si([t,u.pathname])),uu(u)}function NR(r,e={}){let t=j.useContext(fb);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bb("useViewTransitionState"),o=Su(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=oi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=oi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Dh(o.pathname,h)!=null||Dh(o.pathname,u)!=null}const OR=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,I=p&63;g||(I=64,h||(w=64)),s.push(t[_],t[b],t[w],t[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Tb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):DR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const p=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new kR;const w=u<<2|m>>4;if(s.push(w),p!==64){const I=m<<4&240|p>>2;if(s.push(I),b!==64){const C=p<<6&192|b;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MR=function(r){const e=Tb(r);return wb.encodeByteArray(e,!0)},kh=function(r){return MR(r).replace(/\./g,"")},Sb=function(r){try{return wb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>PR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof gv>"u")return;const r=gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Sb(r[1]);return e&&JSON.parse(e)},tf=()=>{try{return OR()||VR()||LR()||UR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ab=r=>tf()?.emulatorHosts?.[r],jR=r=>{const e=Ab(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Rb=()=>tf()?.config,xb=r=>tf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kh(JSON.stringify(t)),kh(JSON.stringify(h)),""].join(".")}const ru={};function qR(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function HR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let yv=!1;function Ib(r,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||ru[r]===e||ru[r]||yv)return;ru[r]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=qR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{yv=!0,h()},w}function _(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=HR(s),I=t("text"),C=document.getElementById(I)||document.createElement("span"),U=t("learnmore"),V=document.getElementById(U)||document.createElement("a"),K=t("preprendIcon"),ee=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),_(V,U);const de=p();g(ee,K),ie.append(ee,C,V,de),document.body.appendChild(ie)}u?(C.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function GR(){const r=tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function XR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="FirebaseError";class fi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=JR,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?ex(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new fi(o,m,s)}}function ex(r,e){return r.replace(tx,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tx=/\{\$([^}]+)}/g;function nx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(_v(u)&&_v(h)){if(!ta(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function _v(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function rx(r,e){const t=new ix(r,e);return t.subscribe.bind(t)}class ix{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");sx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sx(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new BR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lx(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ox(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ox(r){return r===Xs?void 0:r}function lx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ax(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const cx={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},hx=Pe.INFO,fx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},dx=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=fx[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=hx,this._logHandler=dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const mx=(r,e)=>e.some(t=>r instanceof t);let vv,Ev;function px(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gx(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,ap=new WeakMap,Ob=new WeakMap,qm=new WeakMap,Yp=new WeakMap;function yx(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Xi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Nb.set(t,r)}).catch(()=>{}),Yp.set(e,r),e}function _x(r){if(ap.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ap.set(r,e)}let op={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ap.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ob.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vx(r){op=r(op)}function Ex(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Hm(this),e,...t);return Ob.set(s,e.sort?e.sort():[e]),Xi(s)}:gx().includes(r)?function(...e){return r.apply(Hm(this),e),Xi(Nb.get(this))}:function(...e){return Xi(r.apply(Hm(this),e))}}function bx(r){return typeof r=="function"?Ex(r):(r instanceof IDBTransaction&&_x(r),mx(r,px())?new Proxy(r,op):r)}function Xi(r){if(r instanceof IDBRequest)return yx(r);if(qm.has(r))return qm.get(r);const e=bx(r);return e!==r&&(qm.set(r,e),Yp.set(e,r)),e}const Hm=r=>Yp.get(r);function Tx(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Xi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Xi(h.result),g.oldVersion,g.newVersion,Xi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const wx=["get","getKey","getAll","getAllKeys","count"],Sx=["put","add","delete","clear"],Fm=new Map;function bv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Sx.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wx.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Fm.set(e,u),u}vx(r=>({...r,get:(e,t,s)=>bv(e,t)||r.get(e,t,s),has:(e,t)=>!!bv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Rx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Rx(r){return r.getComponent()?.type==="VERSION"}const lp="@firebase/app",Tv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Qp("@firebase/app"),xx="@firebase/app-compat",Cx="@firebase/analytics-compat",Ix="@firebase/analytics",Nx="@firebase/app-check-compat",Ox="@firebase/app-check",Dx="@firebase/auth",kx="@firebase/auth-compat",Mx="@firebase/database",Px="@firebase/data-connect",Vx="@firebase/database-compat",Lx="@firebase/functions",Ux="@firebase/functions-compat",jx="@firebase/installations",Bx="@firebase/installations-compat",zx="@firebase/messaging",qx="@firebase/messaging-compat",Hx="@firebase/performance",Fx="@firebase/performance-compat",Gx="@firebase/remote-config",$x="@firebase/remote-config-compat",Kx="@firebase/storage",Qx="@firebase/storage-compat",Yx="@firebase/firestore",Xx="@firebase/ai",Wx="@firebase/firestore-compat",Zx="firebase",Jx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",e2={[lp]:"fire-core",[xx]:"fire-core-compat",[Ix]:"fire-analytics",[Cx]:"fire-analytics-compat",[Ox]:"fire-app-check",[Nx]:"fire-app-check-compat",[Dx]:"fire-auth",[kx]:"fire-auth-compat",[Mx]:"fire-rtdb",[Px]:"fire-data-connect",[Vx]:"fire-rtdb-compat",[Lx]:"fire-fn",[Ux]:"fire-fn-compat",[jx]:"fire-iid",[Bx]:"fire-iid-compat",[zx]:"fire-fcm",[qx]:"fire-fcm-compat",[Hx]:"fire-perf",[Fx]:"fire-perf-compat",[Gx]:"fire-rc",[$x]:"fire-rc-compat",[Kx]:"fire-gcs",[Qx]:"fire-gcs-compat",[Yx]:"fire-fst",[Wx]:"fire-fst-compat",[Xx]:"fire-vertex","fire-js":"fire-js",[Zx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,t2=new Map,cp=new Map;function wv(r,e){try{r.container.addComponent(e)}catch(t){li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _o(r){const e=r.name;if(cp.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,r);for(const t of Mh.values())wv(t,r);for(const t of t2.values())wv(t,r);return!0}function Xp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Au("app","Firebase",n2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=Jx;function Db(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:up,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(t||(t=Rb()),!t)throw Wi.create("no-options");const u=Mh.get(o);if(u){if(ta(t,u.options)&&ta(s,u.config))return u;throw Wi.create("duplicate-app",{appName:o})}const h=new ux(o);for(const g of cp.values())h.addComponent(g);const m=new r2(t,s,h);return Mh.set(o,m),m}function kb(r=up){const e=Mh.get(r);if(!e&&r===up&&Rb())return Db();if(!e)throw Wi.create("no-app",{appName:r});return e}function Zi(r,e,t){let s=e2[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(h.join(" "));return}_o(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firebase-heartbeat-database",s2=1,cu="firebase-heartbeat-store";let Gm=null;function Mb(){return Gm||(Gm=Tx(i2,s2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Wi.create("idb-open",{originalErrorMessage:r.message})})),Gm}async function a2(r){try{const t=(await Mb()).transaction(cu),s=await t.objectStore(cu).get(Pb(r));return await t.done,s}catch(e){if(e instanceof fi)li.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e?.message});li.warn(t.message)}}}async function Sv(r,e){try{const s=(await Mb()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,Pb(r)),await s.done}catch(t){if(t instanceof fi)li.warn(t.message);else{const s=Wi.create("idb-set",{originalErrorMessage:t?.message});li.warn(s.message)}}}function Pb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=1024,l2=30;class u2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new h2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>l2){const o=f2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Av(),{heartbeatsToSend:t,unsentEntries:s}=c2(this._heartbeatsCache.heartbeats),o=kh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return li.warn(e),""}}}function Av(){return new Date().toISOString().substring(0,10)}function c2(r,e=o2){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Rv(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Rv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class h2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await a2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rv(r){return kh(JSON.stringify({version:2,heartbeats:r})).length}function f2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(r){_o(new na("platform-logger",e=>new Ax(e),"PRIVATE")),_o(new na("heartbeat",e=>new u2(e),"PRIVATE")),Zi(lp,Tv,r),Zi(lp,Tv,"esm2020"),Zi("fire-js","")}d2("");var m2="firebase",p2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(m2,p2,"app");function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=Vb,Lb=new Au("auth","Firebase",Vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Qp("@firebase/auth");function y2(r,...e){Ph.logLevel<=Pe.WARN&&Ph.warn(`Auth (${No}): ${r}`,...e)}function vh(r,...e){Ph.logLevel<=Pe.ERROR&&Ph.error(`Auth (${No}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(r,...e){throw Wp(r,...e)}function br(r,...e){return Wp(r,...e)}function Ub(r,e,t){const s={...g2(),[e]:t};return new Au("auth","Firebase",s).create(e,{appName:r.name})}function ai(r){return Ub(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Lb.create(r,...e)}function Te(r,e,...t){if(!r)throw Wp(e,...t)}function ri(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function ui(r,e){r||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){return typeof self<"u"&&self.location?.href||""}function _2(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||KR()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ui(t>e,"Short delay should be less than long delay!"),this.isMobile=FR()||QR()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r,e){ui(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new xu(3e4,6e4);function us(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Nr(r,e,t,s,o={}){return Bb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ru({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return $R()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Io(r.emulatorConfig.host)&&(p.credentials="include"),jb.fetch()(await zb(r,r.config.apiHost,t,m),p)})}async function Bb(r,e,t){r._canInitEmulator=!1;const s={...b2,...e};try{const o=new A2(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ch(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw ch(r,"user-disabled",h);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ub(r,_,p);Zn(r,_)}}catch(o){if(o instanceof fi)throw o;Zn(r,"network-request-failed",{message:String(o)})}}async function Cu(r,e,t,s,o={}){const u=await Nr(r,e,t,s,o);return"mfaPendingCredential"in u&&Zn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function zb(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?Zp(r.config,o):`${r.config.apiScheme}://${o}`;return T2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function S2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),w2.get())})}}function ch(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=br(r,e,s);return o.customData._tokenResponse=t,o}function Cv(r){return r!==void 0&&r.enterprise!==void 0}class R2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return S2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x2(r,e){return Nr(r,"GET","/v2/recaptchaConfig",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e){return Nr(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return Nr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I2(r,e=!1){const t=mt(r),s=await t.getIdToken(e),o=Jp(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:iu($m(o.auth_time)),issuedAtTime:iu($m(o.iat)),expirationTime:iu($m(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $m(r){return Number(r)*1e3}function Jp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Sb(t);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Iv(r){const e=Jp(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof fi&&N2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function N2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r){const e=r.auth,t=await r.getIdToken(),s=await ra(r,Vh(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?qb(o.providerUserInfo):[],h=k2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,_)}async function D2(r){const e=mt(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qb(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(r,e){const t=await Bb(r,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await zb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Io(r.emulatorConfig.host)&&(g.credentials="include"),jb.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function P2(r,e){return Nr(r,"POST","/v2/accounts:revokeToken",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Iv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await M2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new fo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new O2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ra(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return I2(this,e)}reload(){return D2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await ra(this,C2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:I,providerData:C,stsTokenManager:U}=t;Te(b&&U,e,"internal-error");const V=fo.fromJSON(this.name,U);Te(typeof b=="string",e,"internal-error"),qi(s,e.name),qi(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof I=="boolean",e,"internal-error"),qi(u,e.name),qi(h,e.name),qi(m,e.name),qi(g,e.name),qi(p,e.name),qi(_,e.name);const K=new Xn({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:p,lastLoginAt:_});return C&&Array.isArray(C)&&(K.providerData=C.map(ee=>({...ee}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,t,s=!1){const o=new fo;o.updateFromServerResponse(t);const u=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const g=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function ii(r){ui(r instanceof Function,"Expected a class definition");let e=Nv.get(r);return e?(ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Nv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hb.type="NONE";const Ov=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r,e,t){return`firebase:${r}:${e}:${t}`}class mo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vh(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new mo(ii(Ov),e,s);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ii(Ov);const h=Eh(s,e.config.apiKey,e.name);let m=null;for(const p of t)try{const _=await p._get(h);if(_){let b;if(typeof _=="string"){const w=await Vh(e,{idToken:_}).catch(()=>{});if(!w)break;b=await Xn._fromGetAccountInfoResponse(e,w,_)}else b=Xn._fromJSON(e,_);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new mo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yb(e))return"Blackberry";if(Xb(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||$b(e))&&!e.includes("edge/"))return"Chrome";if(Qb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function Fb(r=rn()){return/firefox\//i.test(r)}function Gb(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $b(r=rn()){return/crios\//i.test(r)}function Kb(r=rn()){return/iemobile/i.test(r)}function Qb(r=rn()){return/android/i.test(r)}function Yb(r=rn()){return/blackberry/i.test(r)}function Xb(r=rn()){return/webos/i.test(r)}function eg(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function V2(r=rn()){return eg(r)&&!!window.navigator?.standalone}function L2(){return YR()&&document.documentMode===10}function Wb(r=rn()){return eg(r)||Qb(r)||Xb(r)||Yb(r)||/windows phone/i.test(r)||Kb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(r,e=[]){let t;switch(r){case"Browser":t=Dv(rn());break;case"Worker":t=`${Dv(rn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e={}){return Nr(r,"GET","/v2/passwordPolicy",us(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=6;class z2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??B2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new U2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(ai(this));const t=e?mt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j2(this),t=new z2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await P2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&y2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(r){return mt(r)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=rx(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(r){nf=r}function Jb(r){return nf.loadJS(r)}function F2(){return nf.recaptchaEnterpriseScript}function G2(){return nf.gapiScript}function $2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class K2{constructor(){this.enterprise=new Q2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Q2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Y2="recaptcha-enterprise",eT="NO_RECAPTCHA";class X2{constructor(e){this.type=Y2,this.auth=ua(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{x2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new R2(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;Cv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(eT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&Cv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=F2();g.length!==0&&(g+=m),Jb(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function Mv(r,e,t,s=!1,o=!1){const u=new X2(r);let h;if(o)h=eT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dp(r,e,t,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Mv(r,e,t,t==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Mv(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r,e){const t=Xp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ta(u,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function Z2(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ii);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function J2(r,e,t){const s=ua(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=tT(e),{host:h,port:m}=eC(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ta(p,s.config.emulator)&&ta(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Io(h)?(Cb(`${u}//${h}${g}`),Ib("Auth",!0)):tC()}function tT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function eC(r){const e=tT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Pv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Pv(h)}}}function Pv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function nC(r,e){return Nr(r,"POST","/v1/accounts:update",e)}async function rC(r,e){return Nr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}async function aC(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends tg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new hu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new hu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,t,"signInWithPassword",iC);case"emailLink":return sC(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,s,"signUpPassword",rC);case"emailLink":return aC(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="http://localhost";class ia extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return po(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,po(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,po(e,t)}buildRequest(){const e={requestUri:oC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uC(r){const e=Wl(Zl(r)).link,t=e?Wl(Zl(e)).deep_link_id:null,s=Wl(Zl(r)).deep_link_id;return(s?Wl(Zl(s)).link:null)||s||t||e||r}class ng{constructor(e){const t=Wl(Zl(e)),s=t.apiKey??null,o=t.oobCode??null,u=lC(t.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=uC(e);try{return new ng(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,t){return hu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ng.parseLink(t);return Te(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends nT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Iu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Fi.credential(t,s)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Iu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Iu{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return $i.credential(t,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,e){return Cu(r,"POST","/v1/accounts:signUp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),h=Vv(s);return new sa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Vv(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Vv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends fi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Uh(e,t,s,o)}}function rT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,u,e,s):u})}async function hC(r,e,t=!1){const s=await ra(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return sa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(r,e,t=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(ai(s));const o="reauthenticate";try{const u=await ra(r,rT(s,o,e,r),t);Te(u.idToken,s,"internal-error");const h=Jp(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(r.uid===m,s,"user-mismatch"),sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(r,e,t=!1){if(Bn(r.app))return Promise.reject(ai(r));const s="signIn",o=await rT(r,s,e),u=await sa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function fC(r,e){return sT(ua(r),e)}async function dC(r,e){return iT(mt(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(r){const e=ua(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mC(r,e,t){if(Bn(r.app))return Promise.reject(ai(r));const s=ua(r),h=await dp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&aT(r),g}),m=await sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function pC(r,e,t){return Bn(r.app)?Promise.reject(ai(r)):fC(mt(r),ca.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&aT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,e){return Nr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=mt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await ra(s,gC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function _C(r,e){return vC(mt(r),null,e)}async function vC(r,e,t){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(u.password=t);const h=await ra(r,nC(s,u));await r._updateTokensIfNecessary(h,!0)}function EC(r,e,t,s){return mt(r).onIdTokenChanged(e,t,s)}function bC(r,e,t){return mt(r).beforeAuthStateChanged(e,t)}function TC(r,e,t,s){return mt(r).onAuthStateChanged(e,t,s)}function wC(r){return mt(r).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1e3,AC=10;class lT extends oT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);L2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const RC=lT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends oT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uT.type="SESSION";const cT=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(t.origin,u)),g=await xC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=rg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function IC(r){Tr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function NC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OC(){return navigator?.serviceWorker?.controller||null}function DC(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firebaseLocalStorageDb",kC=1,Bh="firebaseLocalStorage",dT="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sf(r,e){return r.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function MC(){const r=indexedDB.deleteDatabase(fT);return new Nu(r).toPromise()}function mp(){const r=indexedDB.open(fT,kC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bh,{keyPath:dT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await MC(),e(await mp()))})})}async function Lv(r,e,t){const s=sf(r,!0).put({[dT]:e,value:t});return new Nu(s).toPromise()}async function PC(r,e){const t=sf(r,!1).get(e),s=await new Nu(t).toPromise();return s===void 0?null:s.value}function Uv(r,e){const t=sf(r,!0).delete(e);return new Nu(t).toPromise()}const VC=800,LC=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>LC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(DC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NC(),!this.activeServiceWorker)return;this.sender=new CC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await Lv(e,jh,"1"),await Uv(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Lv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const UC=mT;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r,e){return e?ii(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BC(r){return sT(r.auth,new ig(r),r.bypassAuthState)}function zC(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),iT(t,new ig(r),r.bypassAuthState)}async function qC(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),hC(t,new ig(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return qC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:Zn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new xu(2e3,1e4);class ho extends pT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HC.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="pendingRedirect",bh=new Map;class GC extends pT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const s=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(r,e){const t=YC(e),s=QC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KC(r,e){bh.set(r._key(),e)}function QC(r){return ii(r._redirectPersistence)}function YC(r){return Eh(FC,r.config.apiKey,r.name)}async function XC(r,e,t=!1){if(Bn(r.app))return Promise.reject(ai(r));const s=ua(r),o=jC(s,e),h=await new GC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=600*1e3;class ZC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!gT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(br(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WC&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function JC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r,e={}){return Nr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nI=/^https?/;async function rI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await eI(r);for(const t of e)try{if(iI(t))return}catch{}Zn(r,"unauthorized-domain")}function iI(r){const e=hp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!nI.test(t))return!1;if(tI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new xu(3e4,6e4);function Bv(){const r=Tr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function aI(r){return new Promise((e,t)=>{function s(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),t(br(r,"network-request-failed"))},timeout:sI.get()})}if(Tr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tr().gapi?.load)s();else{const o=$2("iframefcb");return Tr()[o]=()=>{gapi.load?s():t(br(r,"network-request-failed"))},Jb(`${G2()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Th=null,e})}let Th=null;function oI(r){return Th=Th||aI(r),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new xu(5e3,15e3),uI="__/auth/iframe",cI="emulator/auth/iframe",hI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dI(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Zp(e,cI):`https://${r.config.authDomain}/${uI}`,s={apiKey:e.apiKey,appName:r.name,v:No},o=fI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ru(s).slice(1)}`}async function mI(r){const e=await oI(r),t=Tr().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:dI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=br(r,"network-request-failed"),m=Tr().setTimeout(()=>{u(h)},lI.get());function g(){Tr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gI=500,yI=600,_I="_blank",vI="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EI(r,e,t,s=gI,o=yI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...pI,width:s.toString(),height:o.toString(),top:u,left:h},p=rn().toLowerCase();t&&(m=$b(p)?_I:t),Fb(p)&&(e=e||vI,g.scrollbars="yes");const _=Object.entries(g).reduce((w,[I,C])=>`${w}${I}=${C},`,"");if(V2(p)&&m!=="_self")return bI(e||"",m),new zv(null);const b=window.open(e||"",m,_);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new zv(b)}function bI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__/auth/handler",wI="emulator/auth/handler",SI=encodeURIComponent("fac");async function qv(r,e,t,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:No,eventId:o};if(e instanceof nT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",nx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))h[_]=b}if(e instanceof Iu){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await r._getAppCheckToken(),p=g?`#${SI}=${encodeURIComponent(g)}`:"";return`${AI(r)}?${Ru(m).slice(1)}${p}`}function AI({config:r}){return r.emulator?Zp(r,wI):`https://${r.authDomain}/${TI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class RI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=XC,this._overrideRedirectResult=KC}async _openPopup(e,t,s,o){ui(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qv(e,t,s,hp(),o);return EI(e,u,rg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await qv(e,t,s,hp(),o);return IC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ui(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await mI(e),s=new ZC(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Km,{type:Km},o=>{const u=o?.[0]?.[Km];u!==void 0&&t(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wb()||Gb()||eg()}}const xI=RI;var Hv="@firebase/auth",Fv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NI(r){_o(new na("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zb(r)},p=new q2(s,o,u,g);return Z2(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),_o(new na("auth-internal",e=>{const t=ua(e.getProvider("auth").getImmediate());return(s=>new CI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(Hv,Fv,II(r)),Zi(Hv,Fv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=300,DI=xb("authIdTokenMaxAge")||OI;let Gv=null;const kI=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>DI)return;const o=t?.token;Gv!==o&&(Gv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MI(r=kb()){const e=Xp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=W2(r,{popupRedirectResolver:xI,persistence:[UC,RC,cT]}),s=xb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=kI(u.toString());bC(t,h,()=>h(t.currentUser)),EC(t,m=>h(m))}}const o=Ab("auth");return o&&J2(t,`http://${o}`),t}function PI(){return document.getElementsByTagName("head")?.[0]??document}H2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=br("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",PI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NI("Browser");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,yT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function R(){}R.prototype=x.prototype,M.D=x.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(P,k,B){for(var O=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)O[pt-2]=arguments[pt];return x.prototype[k].apply(P,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,R){R||(R=0);var P=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)P[k]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(k=0;16>k;++k)P[k]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=M.g[0],R=M.g[1],k=M.g[2];var B=M.g[3],O=x+(B^R&(k^B))+P[0]+3614090360&4294967295;x=R+(O<<7&4294967295|O>>>25),O=B+(k^x&(R^k))+P[1]+3905402710&4294967295,B=x+(O<<12&4294967295|O>>>20),O=k+(R^B&(x^R))+P[2]+606105819&4294967295,k=B+(O<<17&4294967295|O>>>15),O=R+(x^k&(B^x))+P[3]+3250441966&4294967295,R=k+(O<<22&4294967295|O>>>10),O=x+(B^R&(k^B))+P[4]+4118548399&4294967295,x=R+(O<<7&4294967295|O>>>25),O=B+(k^x&(R^k))+P[5]+1200080426&4294967295,B=x+(O<<12&4294967295|O>>>20),O=k+(R^B&(x^R))+P[6]+2821735955&4294967295,k=B+(O<<17&4294967295|O>>>15),O=R+(x^k&(B^x))+P[7]+4249261313&4294967295,R=k+(O<<22&4294967295|O>>>10),O=x+(B^R&(k^B))+P[8]+1770035416&4294967295,x=R+(O<<7&4294967295|O>>>25),O=B+(k^x&(R^k))+P[9]+2336552879&4294967295,B=x+(O<<12&4294967295|O>>>20),O=k+(R^B&(x^R))+P[10]+4294925233&4294967295,k=B+(O<<17&4294967295|O>>>15),O=R+(x^k&(B^x))+P[11]+2304563134&4294967295,R=k+(O<<22&4294967295|O>>>10),O=x+(B^R&(k^B))+P[12]+1804603682&4294967295,x=R+(O<<7&4294967295|O>>>25),O=B+(k^x&(R^k))+P[13]+4254626195&4294967295,B=x+(O<<12&4294967295|O>>>20),O=k+(R^B&(x^R))+P[14]+2792965006&4294967295,k=B+(O<<17&4294967295|O>>>15),O=R+(x^k&(B^x))+P[15]+1236535329&4294967295,R=k+(O<<22&4294967295|O>>>10),O=x+(k^B&(R^k))+P[1]+4129170786&4294967295,x=R+(O<<5&4294967295|O>>>27),O=B+(R^k&(x^R))+P[6]+3225465664&4294967295,B=x+(O<<9&4294967295|O>>>23),O=k+(x^R&(B^x))+P[11]+643717713&4294967295,k=B+(O<<14&4294967295|O>>>18),O=R+(B^x&(k^B))+P[0]+3921069994&4294967295,R=k+(O<<20&4294967295|O>>>12),O=x+(k^B&(R^k))+P[5]+3593408605&4294967295,x=R+(O<<5&4294967295|O>>>27),O=B+(R^k&(x^R))+P[10]+38016083&4294967295,B=x+(O<<9&4294967295|O>>>23),O=k+(x^R&(B^x))+P[15]+3634488961&4294967295,k=B+(O<<14&4294967295|O>>>18),O=R+(B^x&(k^B))+P[4]+3889429448&4294967295,R=k+(O<<20&4294967295|O>>>12),O=x+(k^B&(R^k))+P[9]+568446438&4294967295,x=R+(O<<5&4294967295|O>>>27),O=B+(R^k&(x^R))+P[14]+3275163606&4294967295,B=x+(O<<9&4294967295|O>>>23),O=k+(x^R&(B^x))+P[3]+4107603335&4294967295,k=B+(O<<14&4294967295|O>>>18),O=R+(B^x&(k^B))+P[8]+1163531501&4294967295,R=k+(O<<20&4294967295|O>>>12),O=x+(k^B&(R^k))+P[13]+2850285829&4294967295,x=R+(O<<5&4294967295|O>>>27),O=B+(R^k&(x^R))+P[2]+4243563512&4294967295,B=x+(O<<9&4294967295|O>>>23),O=k+(x^R&(B^x))+P[7]+1735328473&4294967295,k=B+(O<<14&4294967295|O>>>18),O=R+(B^x&(k^B))+P[12]+2368359562&4294967295,R=k+(O<<20&4294967295|O>>>12),O=x+(R^k^B)+P[5]+4294588738&4294967295,x=R+(O<<4&4294967295|O>>>28),O=B+(x^R^k)+P[8]+2272392833&4294967295,B=x+(O<<11&4294967295|O>>>21),O=k+(B^x^R)+P[11]+1839030562&4294967295,k=B+(O<<16&4294967295|O>>>16),O=R+(k^B^x)+P[14]+4259657740&4294967295,R=k+(O<<23&4294967295|O>>>9),O=x+(R^k^B)+P[1]+2763975236&4294967295,x=R+(O<<4&4294967295|O>>>28),O=B+(x^R^k)+P[4]+1272893353&4294967295,B=x+(O<<11&4294967295|O>>>21),O=k+(B^x^R)+P[7]+4139469664&4294967295,k=B+(O<<16&4294967295|O>>>16),O=R+(k^B^x)+P[10]+3200236656&4294967295,R=k+(O<<23&4294967295|O>>>9),O=x+(R^k^B)+P[13]+681279174&4294967295,x=R+(O<<4&4294967295|O>>>28),O=B+(x^R^k)+P[0]+3936430074&4294967295,B=x+(O<<11&4294967295|O>>>21),O=k+(B^x^R)+P[3]+3572445317&4294967295,k=B+(O<<16&4294967295|O>>>16),O=R+(k^B^x)+P[6]+76029189&4294967295,R=k+(O<<23&4294967295|O>>>9),O=x+(R^k^B)+P[9]+3654602809&4294967295,x=R+(O<<4&4294967295|O>>>28),O=B+(x^R^k)+P[12]+3873151461&4294967295,B=x+(O<<11&4294967295|O>>>21),O=k+(B^x^R)+P[15]+530742520&4294967295,k=B+(O<<16&4294967295|O>>>16),O=R+(k^B^x)+P[2]+3299628645&4294967295,R=k+(O<<23&4294967295|O>>>9),O=x+(k^(R|~B))+P[0]+4096336452&4294967295,x=R+(O<<6&4294967295|O>>>26),O=B+(R^(x|~k))+P[7]+1126891415&4294967295,B=x+(O<<10&4294967295|O>>>22),O=k+(x^(B|~R))+P[14]+2878612391&4294967295,k=B+(O<<15&4294967295|O>>>17),O=R+(B^(k|~x))+P[5]+4237533241&4294967295,R=k+(O<<21&4294967295|O>>>11),O=x+(k^(R|~B))+P[12]+1700485571&4294967295,x=R+(O<<6&4294967295|O>>>26),O=B+(R^(x|~k))+P[3]+2399980690&4294967295,B=x+(O<<10&4294967295|O>>>22),O=k+(x^(B|~R))+P[10]+4293915773&4294967295,k=B+(O<<15&4294967295|O>>>17),O=R+(B^(k|~x))+P[1]+2240044497&4294967295,R=k+(O<<21&4294967295|O>>>11),O=x+(k^(R|~B))+P[8]+1873313359&4294967295,x=R+(O<<6&4294967295|O>>>26),O=B+(R^(x|~k))+P[15]+4264355552&4294967295,B=x+(O<<10&4294967295|O>>>22),O=k+(x^(B|~R))+P[6]+2734768916&4294967295,k=B+(O<<15&4294967295|O>>>17),O=R+(B^(k|~x))+P[13]+1309151649&4294967295,R=k+(O<<21&4294967295|O>>>11),O=x+(k^(R|~B))+P[4]+4149444226&4294967295,x=R+(O<<6&4294967295|O>>>26),O=B+(R^(x|~k))+P[11]+3174756917&4294967295,B=x+(O<<10&4294967295|O>>>22),O=k+(x^(B|~R))+P[2]+718787259&4294967295,k=B+(O<<15&4294967295|O>>>17),O=R+(B^(k|~x))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var R=x-this.blockSize,P=this.B,k=this.h,B=0;B<x;){if(k==0)for(;B<=R;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<x;)if(P[k++]=M.charCodeAt(B++),k==this.blockSize){o(this,P),k=0;break}}else for(;B<x;)if(P[k++]=M[B++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=x},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var R=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=R&255,R/=256;for(this.u(M),M=Array(16),x=R=0;4>x;++x)for(var P=0;32>P;P+=8)M[R++]=this.g[x]>>>P&255;return M};function u(M,x){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=x(M)}function h(M,x){this.h=x;for(var R=[],P=!0,k=M.length-1;0<=k;k--){var B=M[k]|0;P&&B==x||(R[k]=B,P=!1)}this.g=R}var m={};function g(M){return-128<=M&&128>M?u(M,function(x){return new h([x|0],0>x?-1:0)}):new h([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return V(p(-M));for(var x=[],R=1,P=0;M>=R;P++)x[P]=M/R|0,R*=4294967296;return new h(x,0)}function _(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return V(_(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(x,8)),P=b,k=0;k<M.length;k+=8){var B=Math.min(8,M.length-k),O=parseInt(M.substring(k,k+B),x);8>B?(B=p(Math.pow(x,B)),P=P.j(B).add(p(O))):(P=P.j(R),P=P.add(p(O)))}return P}var b=g(0),w=g(1),I=g(16777216);r=h.prototype,r.m=function(){if(U(this))return-V(this).m();for(var M=0,x=1,R=0;R<this.g.length;R++){var P=this.i(R);M+=(0<=P?P:4294967296+P)*x,x*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(U(this))return"-"+V(this).toString(M);for(var x=p(Math.pow(M,6)),R=this,P="";;){var k=de(R,x).g;R=K(R,k.j(x));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=k,C(R))return B+P;for(;6>B.length;)B="0"+B;P=B+P}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function U(M){return M.h==-1}r.l=function(M){return M=K(this,M),U(M)?-1:C(M)?0:1};function V(M){for(var x=M.g.length,R=[],P=0;P<x;P++)R[P]=~M.g[P];return new h(R,~M.h).add(w)}r.abs=function(){return U(this)?V(this):this},r.add=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],P=0,k=0;k<=x;k++){var B=P+(this.i(k)&65535)+(M.i(k)&65535),O=(B>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);P=O>>>16,B&=65535,O&=65535,R[k]=O<<16|B}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(M,x){return M.add(V(x))}r.j=function(M){if(C(this)||C(M))return b;if(U(this))return U(M)?V(this).j(V(M)):V(V(this).j(M));if(U(M))return V(this.j(V(M)));if(0>this.l(I)&&0>M.l(I))return p(this.m()*M.m());for(var x=this.g.length+M.g.length,R=[],P=0;P<2*x;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<M.g.length;k++){var B=this.i(P)>>>16,O=this.i(P)&65535,pt=M.i(k)>>>16,it=M.i(k)&65535;R[2*P+2*k]+=O*it,ee(R,2*P+2*k),R[2*P+2*k+1]+=B*it,ee(R,2*P+2*k+1),R[2*P+2*k+1]+=O*pt,ee(R,2*P+2*k+1),R[2*P+2*k+2]+=B*pt,ee(R,2*P+2*k+2)}for(P=0;P<x;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=x;P<2*x;P++)R[P]=0;return new h(R,0)};function ee(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function ie(M,x){this.g=M,this.h=x}function de(M,x){if(C(x))throw Error("division by zero");if(C(M))return new ie(b,b);if(U(M))return x=de(V(M),x),new ie(V(x.g),V(x.h));if(U(x))return x=de(M,V(x)),new ie(V(x.g),x.h);if(30<M.g.length){if(U(M)||U(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,P=x;0>=P.l(M);)R=le(R),P=le(P);var k=_e(R,1),B=_e(P,1);for(P=_e(P,2),R=_e(R,2);!C(P);){var O=B.add(P);0>=O.l(M)&&(k=k.add(R),B=O),P=_e(P,1),R=_e(R,1)}return x=K(M,k.j(x)),new ie(k,x)}for(k=b;0<=M.l(x);){for(R=Math.max(1,Math.floor(M.m()/x.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),B=p(R),O=B.j(x);U(O)||0<O.l(M);)R-=P,B=p(R),O=B.j(x);C(B)&&(B=w),k=k.add(B),M=K(M,O)}return new ie(k,M)}r.A=function(M){return de(this,M).h},r.and=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)&M.i(P);return new h(R,this.h&M.h)},r.or=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)|M.i(P);return new h(R,this.h|M.h)},r.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)^M.i(P);return new h(R,this.h^M.h)};function le(M){for(var x=M.g.length+1,R=[],P=0;P<x;P++)R[P]=M.i(P)<<1|M.i(P-1)>>>31;return new h(R,M.h)}function _e(M,x){var R=x>>5;x%=32;for(var P=M.g.length-R,k=[],B=0;B<P;B++)k[B]=0<x?M.i(B+R)>>>x|M.i(B+R+1)<<32-x:M.i(B+R);return new h(k,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,yT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=_,Ji=h}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,Jl,vT,wh,pp,ET,bT,TT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,w.apply(null,arguments)}function I(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function C(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,Q){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[q].apply(S,ae)}}function U(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function V(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const q=c.length||0,Q=S.length||0;c.length=q+Q;for(let ae=0;ae<Q;ae++)c[q+ae]=S[ae]}else c.push(S)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var le=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function _e(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){m.setTimeout(()=>{throw c},0)}function O(){var c=be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class pt{constructor(){this.h=this.g=null}add(y,v){const S=it.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,be=new pt,D=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(re)}};var re=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){B(v)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Oe(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{de(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}C(Oe,se);var Ae={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),et=0;function nr(c,y,v,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=q,this.key=++et,this.da=this.fa=!1}function di(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Or(c){this.src=c,this.g={},this.h=0}Or.prototype.add=function(c,y,v,S,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=ms(c,y,S,q);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new nr(y,this.src,Q,!!S,q),y.fa=v,c.push(y)),y};function ds(c,y){var v=y.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(di(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ms(c,y,v,S){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return q}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),jo={};function ju(c,y,v,S,q){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)ju(c,y[Q],v,S,q);return null}return v=Bu(v),c&&c[Mt]?c.K(y,v,p(S)?!!S.capture:!1,q):xn(c,y,v,!1,S,q)}function xn(c,y,v,S,q,Q){if(!y)throw Error("Invalid event type");var ae=p(q)?!!q.capture:!!q,Ue=pa(c);if(Ue||(c[ps]=Ue=new Or(c)),v=Ue.add(y,v,S,ae,Q),v.proxy)return v;if(S=Df(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ye||(q=ae),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(gs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Df(){function c(v){return y.call(c.src,c.listener,v)}const y=kf;return c}function Bo(c,y,v,S,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Bo(c,y[Q],v,S,q);else S=p(S)?!!S.capture:!!S,v=Bu(v),c&&c[Mt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=ms(Q,v,S,q),-1<v&&(di(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ms(y,v,S,q)),(v=-1<c?y[c]:null)&&ma(v))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])ds(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(gs(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=pa(y))?(ds(v,c),v.h==0&&(v.src=null,y[ps]=null)):di(c)}}}function gs(c){return c in jo?jo[c]:jo[c]="on"+c}function kf(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&ma(c),c=v.call(S,y)}return c}function pa(c){return c=c[ps],c instanceof Or?c:null}var zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bu(c){return typeof c=="function"?c:(c[zo]||(c[zo]=function(y){return c.handleEvent(y)}),c[zo])}function ct(){ue.call(this),this.i=new Or(this),this.M=this,this.F=null}C(ct,ue),ct.prototype[Mt]=!0,ct.prototype.removeEventListener=function(c,y,v,S){Bo(this,c,y,v,S)};function $e(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var q=y;y=new se(S,c),P(y,q)}if(q=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ae=y.g=v[Q];q=yn(ae,S,!0,y)&&q}if(ae=y.g=c,q=yn(ae,S,!0,y)&&q,q=yn(ae,S,!1,y)&&q,v)for(Q=0;Q<v.length;Q++)ae=y.g=v[Q],q=yn(ae,S,!1,y)&&q}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)di(v[S]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ct.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function yn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==v){var Ue=ae.listener,It=ae.ha||ae.src;ae.fa&&ds(c.i,ae),q=Ue.call(It,S)!==!1&&q}}return q&&!S.defaultPrevented}function Yt(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function zu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Mf extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){ue.call(this),this.h=c,this.g={}}C(ys,ue);var _s=[];function vs(c){_e(c.g,function(y,v){this.g.hasOwnProperty(v)&&ma(y)},c),c.g={}}ys.prototype.N=function(){ys.aa.N.call(this),vs(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,ga=m.JSON.parse,Es=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function qo(){}qo.prototype.h=null;function Ho(c){return c.h||(c.h=c.i())}function Fo(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){se.call(this,"d")}C(kr,se);function Go(){se.call(this,"c")}C(Go,se);var rr={},$o=null;function mi(){return $o=$o||new ct}rr.La="serverreachability";function ya(c){se.call(this,rr.La,c)}C(ya,se);function pi(c){const y=mi();$e(y,new ya(y))}rr.STAT_EVENT="statevent";function qu(c,y){se.call(this,rr.STAT_EVENT,c),this.stat=y}C(qu,se);function st(c){const y=mi();$e(y,new qu(y,c))}rr.Ma="timingevent";function Ct(c,y){se.call(this,rr.Ma,c),this.size=y}C(Ct,se);function bt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Ko(c,y,v,S,q,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Ue=Q.split("&"),It=0;It<Ue.length;It++){var je=Ue[It].split("=");if(1<je.length){var Vt=je[0];je=je[1];var Nt=Vt.split("_");ae=2<=Nt.length&&Nt[1]=="type"?ae+(Vt+"="+je+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+v+`
`+ae})}function Pf(c,y,v,S,q,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+v+`
`+Q+" "+ae})}function gi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bs(c,v)+(S?" "+S:"")})}function Hu(c,y){c.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function bs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return Fn(v)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function sr(){}C(sr,qo),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ir=new sr;function sn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Qo={},_a={};function Gn(c,y,v){c.L=1,c.v=Rs(_n(y)),c.m=v,c.P=!0,Pr(c,null)}function Pr(c,y){c.F=Date.now(),Ts(c),c.A=_n(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),el(v.i,"t",S),c.C=0,v=c.j.J,c.h=new gt,c.g=sc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Mf(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(_s[0]=q.toString()),q=_s);for(var Q=0;Q<q.length;Q++){var ae=ju(v,q[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pi(),Ko(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Dn(this.g);var y=this.g.Ba();const Hr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Hr?pi(3):pi(2)),_i(this);var v=this.g.Z();this.X=v;t:if(Fu(this)){var S=Wu(this.g);c="";var q=S.length,Q=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ar(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Pf(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,It=this.g;if((Ue=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ue)){var je=Ue;break t}}je=null}if(v=je)gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,v);else{this.o=!1,this.s=3,st(12),zt(this),ar(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<ae.length;)if(qt=Gu(this,ae),qt==_a){Nt==4&&(this.s=4,st(14),v=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Qo){this.s=4,st(15),gi(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else gi(this.i,this.l,qt,null),ws(this,qt);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ae.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)gi(this.i,this.l,ae,"[Invalid Chunked Response]"),zt(this),ar(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ms(Vt),Vt.M=!0,st(11))}}else gi(this.i,this.l,ae,null),ws(this,ae);Nt==4&&zt(this),this.o&&!this.J&&(Nt==4?nc(this.j,this):(this.o=!1,Ts(this)))}else Bf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),zt(this),ar(this)}}}catch{}finally{}};function Fu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?_a:(v=Number(y.substring(v,S)),isNaN(v)?Qo:(S+=1,S+v>y.length?_a:(y=y.slice(S,S+v),c.C=S+v,y)))}sn.prototype.cancel=function(){this.J=!0,zt(this)};function Ts(c){c.S=Date.now()+c.I,$u(c,c.I)}function $u(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bt(w(c.ba,c),y)}function _i(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hu(this.i,this.A),this.L!=2&&(pi(),st(17)),zt(this),this.s=2,ar(this)):$u(this,this.S-c)};function ar(c){c.j.G==0||c.J||nc(c.j,c)}function zt(c){_i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,vs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ws(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Yo(v.h,c))){if(!c.K&&Yo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Na(v),Ca(v);else break e;sl(v),st(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=bt(w(v.Za,v),6e3));if(1>=Ea(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qr(v,11)}else if((c.K||v.g==c)&&Na(v),!ee(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let je=q[y];if(v.T=je[0],je=je[1],v.G==2)if(je[0]=="c"){v.K=je[1],v.ia=je[2];const Vt=je[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Nt=je[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Hr=je[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(S=1.5*Hr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const qt=c.g;if(qt){const dr=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Q=S.h;Q.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ba(Q,Q.h),Q.h=null))}if(S.D){const ol=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(S.ya=ol,Ye(S.I,S.D,ol))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=c;if(S.qa=ic(S,S.J?S.ia:null,S.W),ae.K){an(S.h,ae);var Ue=ae,It=S.L;It&&(Ue.I=It),Ue.B&&(_i(Ue),Ts(Ue)),S.g=ae}else ec(S);0<v.i.length&&Ia(v)}else je[0]!="stop"&&je[0]!="close"||qr(v,7);else v.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?qr(v,7):rl(v):je[0]!="noop"&&v.l&&v.l.ta(je),v.v=0)}}pi(4)}catch{}}var Ku=class{constructor(c,y){this.g=c,this.map=y}};function Vr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ea(c){return c.h?1:c.g?c.g.size:0}function Yo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ba(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vr.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return U(c.i)}function Vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Wo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ta(c),S=Vf(c),q=S.length,Q=0;Q<q;Q++)y.call(void 0,S[Q],v&&v[Q],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var Q=c[v].substring(0,S);q=c[v].substring(S+1)}else Q=c[v];y(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,v=new Ur;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Lr(this,v),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,As(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),vi(this,y[4]),this.l=In(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xs(y,Zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?Uf:Jo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,wa)),c.join("")};function _n(c){return new Tt(c)}function As(c,y,v){c.j=v?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Lr(c,y,v){y instanceof Ur?(c.i=y,Yu(c.i,c.h)):(v||(y=xs(y,jf)),c.i=new Ur(y,c.h))}function Ye(c,y,v){c.i.set(y,v)}function Rs(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Qu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Jo=/[#\?:]/g,Uf=/[#\?]/g,jf=/[#\?@]/g,wa=/#/g;function Ur(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Lf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ur.prototype,r.add=function(c,y){Nn(this),this.i=null,c=or(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function jr(c,y){Nn(c),y=or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Br(c,y){return Nn(c),y=or(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(y,q,S,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const q=c[S];for(let Q=0;Q<q.length;Q++)v.push(y[S])}return v},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Br(this,c)&&(y=y.concat(this.g.get(or(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=or(this,c),Br(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function el(c,y,v){jr(c,y),0<v.length&&(c.i=null,c.g.set(or(c,y),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var q=Q;ae[S]!==""&&(q+="="+encodeURIComponent(String(ae[S]))),c.push(q)}}return this.i=c.join("&")};function or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Yu(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(jr(this,S),el(this,q,v))},c)),c.j=y}function Cs(c,y){const v=new Cn;if(m.Image){const S=new Image;S.onload=I(On,v,"TestLoadImage: loaded",!0,y,S),S.onerror=I(On,v,"TestLoadImage: error",!1,y,S),S.onabort=I(On,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(On,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function $n(c,y){const v=new Cn,S=new AbortController,q=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function Is(){this.g=new Es}function lr(c,y,v){const S=v||"";try{Wo(c,function(q,Q){let ae=q;p(q)&&(ae=Fn(q)),y.push(S+Q+"="+encodeURIComponent(ae))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ei(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ei,qo),Ei.prototype.g=function(){return new zr(this.l,this.j)},Ei.prototype.i=function(c){return function(){return c}}({});function zr(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(zr,ct),r=zr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ur(this):cr(this),this.readyState==3&&tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},r.Qa=function(c){this.g&&(this.response=c,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return _e(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Pt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=nl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,y,v))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Fe,ct);var Sa=/^https?$/i,Ns=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?Ho(this.o):Ho(ir),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Xu(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Xu(this,Q)}};function Xu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),hr(c)}function Aa(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},r.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Yt(c.Ea,0,c);else if($e(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ae===0){var q=String(c.D).match(Ss)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!Sa.test(q?q.toLowerCase():"")}v=S}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var Q=2<Dn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Aa(c)}}finally{hr(c)}}}}function hr(c,y){if(c.g){Os(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{v.onreadystatechange=S}catch{}}}function Os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ga(y)}};function Wu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bf(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ee(c[S]))continue;var v=k(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[q]||[];y[q]=Q,Q.push(v)}M(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function xa(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vr(c&&c.concurrentRequestLimit),this.Da=new Is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xa.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){st(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=ic(this,null,this.W),Ia(this)};function rl(c){if(Zu(c),c.G==3){var y=c.U++,v=_n(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),ks(c,v),y=new sn(c,c.j,y),y.L=2,y.v=Rs(_n(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=sc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ts(y)}rc(c)}function Ca(c){c.g&&(Ms(c),c.g.cancel(),c.g=null)}function Zu(c){Ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),Na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!va(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||D(),me||(oe(),me=!0),be.add(y,c),c.B=0}}function zf(c,y){return Ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bt(w(c.Ga,c,y),al(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new sn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=x(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ju(this,q,y),v=_n(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),ks(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(nl(Q)))+"&"+y:this.m&&Pt(v,this.m,Q)),ba(this.h,q),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",y),Ye(v,"SID","null"),q.T=!0,Gn(q,v,null)):Gn(q,v,y),this.G=2}}else this.G==3&&(c?il(this,c):this.i.length==0||va(this.h)||il(this))};function il(c,y){var v;y?v=y.l:v=c.U++;const S=_n(c.I);Ye(S,"SID",c.K),Ye(S,"RID",v),Ye(S,"AID",c.T),ks(c,S),c.m&&c.o&&Pt(S,c.m,c.o),v=new sn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ju(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ba(c.h,v),Gn(v,S,y)}function ks(c,y){c.H&&_e(c.H,function(v,S){Ye(y,S,v)}),c.l&&Wo({},function(v,S){Ye(y,S,v)})}function Ju(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;e:{var q=c.i;let Q=-1;for(;;){const ae=["count="+v];Q==-1?0<v?(Q=q[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ue=!0;for(let It=0;It<v;It++){let je=q[It].g;const Vt=q[It].map;if(je-=Q,0>je)Q=Math.max(0,q[It].g-100),Ue=!1;else try{lr(Vt,ae,"req"+je+"_")}catch{S&&S(Vt)}}if(Ue){S=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function ec(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||D(),me||(oe(),me=!0),be.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bt(w(c.Fa,c),al(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ca(this),tc(this))};function Ms(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function tc(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Rs(_n(y)),v.m=null,v.P=!0,Pr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),sl(this),st(19))};function Na(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function nc(c,y){var v=null;if(c.g==y){Na(c),Ms(c),c.g=null;var S=2}else if(Yo(c.h,y))v=y.D,an(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=mi(),$e(S,new Ct(S,v)),Ia(c)}else ec(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&zf(c,y)||S==2&&sl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function al(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function qr(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const q=!S;S=new Tt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||As(S,"https"),Rs(S),q?Cs(S.toString(),v):$n(S.toString(),v)}else st(2);c.G=0,c.l&&c.l.sa(y),rc(c),Zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function ic(c,y,v){var S=v instanceof Tt?_n(v):new Tt(v);if(S.g!="")y&&(S.g=y+"."+S.g),vi(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Q=new Tt(null);S&&As(Q,S),y&&(Q.g=y),q&&vi(Q,q),v&&(Q.l=v),S=Q}return v=c.D,y=c.ya,v&&y&&Ye(S,v,y),Ye(S,"VER",c.la),ks(c,S),S}function sc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new Ei({eb:v})):new Fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}r=ac.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ct.call(this),this.g=new xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fr(this)}C(on,ct),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){rl(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Fn(c),c=v);y.i.push(new Ku(y.Ya++,c)),y.G==3&&Ia(y)},on.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,on.aa.N.call(this)};function oc(c){kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}C(oc,kr);function lc(){Go.call(this),this.status=1}C(lc,Go);function fr(c){this.g=c}C(fr,ac),fr.prototype.ua=function(){$e(this.g,"a")},fr.prototype.ta=function(c){$e(this.g,new oc(c))},fr.prototype.sa=function(c){$e(this.g,new lc)},fr.prototype.ra=function(){$e(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,TT=function(){return new Oa},bT=function(){return mi()},ET=rr,pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,wh=yi,Mr.COMPLETE="complete",vT=Mr,Fo.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Jl=Fo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,_T=Fe}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Qv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Qp("@firebase/firestore");function oo(){return aa.logLevel}function he(r,...e){if(aa.logLevel<=Pe.DEBUG){const t=e.map(sg);aa.debug(`Firestore (${Oo}): ${r}`,...t)}}function ci(r,...e){if(aa.logLevel<=Pe.ERROR){const t=e.map(sg);aa.error(`Firestore (${Oo}): ${r}`,...t)}}function vo(r,...e){if(aa.logLevel<=Pe.WARN){const t=e.map(sg);aa.warn(`Firestore (${Oo}): ${r}`,...t)}}function sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,wT(r,s,t)}function wT(r,e,t){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ci(s),new Error(s)}function Ge(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||wT(e,o,s)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class LI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new es,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new es)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new ST(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class jI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new jI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function gp(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Qm(o)===Qm(u)?Ve(o,u):Qm(o)?1:-1}return Ve(r.length,e.length)}const HI=55296,FI=57343;function Qm(r){const e=r.charCodeAt(0);return e>=HI&&e<=FI}function Eo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="__name__";class Er{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Er.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const s=Er.isNumericId(e),o=Er.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Er.extractNumericId(e).compare(Er.extractNumericId(t)):gp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class nt extends Er{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const GI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Er{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return GI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new Kt([Xv])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r,e,t){if(!t)throw new ce(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $I(r,e,t,s){if(e===!0&&s===!0)throw new ce(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Wv(r){if(!ge.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zv(r){if(ge.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function RT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function qn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=af(r);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ou(r,e){if(!RT(r))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ce(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,eE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*eE);return new rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jv)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:xt("string",rt._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new rt(0,0))}static max(){return new Re(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function KI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new rt(t+1,0):new rt(t,s));return new ns(o,ge.empty(),e)}function QI(r){return new ns(r.readTime,r.key,fu)}class ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ns(Re.min(),ge.empty(),fu)}static max(){return new ns(Re.max(),ge.empty(),fu)}}function YI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==XI)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next(_=>{h[p]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function ZI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ko(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}of.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function lf(r){return r==null}function zh(r){return r===0&&1/r==-1/0}function JI(r){return typeof r=="number"&&Number.isInteger(r)&&!zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="";function eN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=tE(e)),e=tN(r.get(t),e);return tE(e)}function tN(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case xT:t+="";break;default:t+=u}}return t}function tE(r){return r+xT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function cs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function CT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new kt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IT("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const t=nN.exec(r);if(Ge(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="server_timestamp",OT="__type__",DT="__previous_value__",kT="__local_write_time__";function lg(r){return(r?.mapValue?.fields||{})[OT]?.stringValue===NT}function uf(r){const e=r.mapValue.fields[DT];return lg(e)?uf(e):e}function du(r){const e=rs(r.mapValue.fields[kT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,s,o,u,h,m,g,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const qh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||qh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__type__",iN="__max__",dh={mapValue:{}},PT="__vector__",Hh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lg(r)?4:aN(r)?9007199254740991:sN(r)?10:11:we(28295,{value:r})}function xr(r,e){if(r===e)return!0;const t=ss(r);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=rs(o.timestampValue),m=rs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nE(h)!==nE(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!xr(h[g],m[g])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function pu(r,e){return(r.values||[]).find(t=>xr(t,e))!==void 0}function bo(r,e){if(r===e)return 0;const t=ss(r),s=ss(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=vt(u.integerValue||u.doubleValue),g=vt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return iE(r.timestampValue,e.timestampValue);case 4:return iE(du(r),du(e));case 5:return gp(r.stringValue,e.stringValue);case 6:return function(u,h){const m=is(u),g=is(h);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=Ve(m[p],g[p]);if(_!==0)return _}return Ve(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(vt(u.latitude),vt(h.latitude));return m!==0?m:Ve(vt(u.longitude),vt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return sE(r.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Hh]?.arrayValue,_=g[Hh]?.arrayValue,b=Ve(p?.values?.length||0,_?.values?.length||0);return b!==0?b:sE(p,_)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===dh.mapValue&&h===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(h===dh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let b=0;b<g.length&&b<_.length;++b){const w=gp(g[b],_[b]);if(w!==0)return w;const I=bo(m[g[b]],p[_[b]]);if(I!==0)return I}return Ve(g.length,_.length)}(r.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function iE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const t=rs(r),s=rs(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function sE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=bo(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function To(r){return yp(r)}function yp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=rs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return is(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=yp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${yp(t.fields[h])}`;return o+"}"}(r.mapValue):we(61005,{value:r})}function Sh(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(r);return e?16+Sh(e):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Sh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return cs(s.fields,(u,h)=>{o+=u.length+Sh(h)}),o}(r.mapValue);default:throw we(13486,{value:r})}}function aE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function _p(r){return!!r&&"integerValue"in r}function ug(r){return!!r&&"arrayValue"in r}function oE(r){return!!r&&"nullValue"in r}function lE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ah(r){return!!r&&"mapValue"in r}function sN(r){return(r?.mapValue?.fields||{})[MT]?.stringValue===PT}function su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=su(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(r.arrayValue.values[t]);return e}return{...r}}function aN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=Kt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=su(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){cs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(su(this.value))}}function VT(r){const e=[];return cs(r.fields,(t,s)=>{const o=new Kt([t]);if(Ah(s)){const u=VT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,Re.min(),Re.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Re.min(),Re.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function uE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=bo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function oN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{}class Rt extends LT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uN(e,t,s):t==="array-contains"?new fN(e,s):t==="in"?new dN(e,s):t==="not-in"?new mN(e,s):t==="array-contains-any"?new pN(e,s):new Rt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cN(e,s):new hN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bo(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends LT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Jn(e,t)}matches(e){return UT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UT(r){return r.op==="and"}function jT(r){return lN(r)&&UT(r)}function lN(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function vp(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(jT(r))return r.filters.map(e=>vp(e)).join(",");{const e=r.filters.map(t=>vp(t)).join(",");return`${r.op}(${e})`}}function BT(r,e){return r instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&xr(s.value,o.value)}(r,e):r instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&BT(h,o.filters[m]),!0):!1}(r,e):void we(19439)}function zT(r){return r instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`}(r):r instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(zT).join(" ,")+"}"}(r):"Filter"}class uN extends Rt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class cN extends Rt{constructor(e,t){super(e,"in",t),this.keys=qT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hN extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=qT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qT(r,e){return(e.arrayValue?.values||[]).map(t=>ge.fromName(t.referenceValue))}class fN extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ug(t)&&pu(t.arrayValue,this.value)}}class dN extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pu(this.value.arrayValue,t)}}class mN extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pu(this.value.arrayValue,t)}}class pN extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function hE(r,e=null,t=[],s=[],o=null,u=null,h=null){return new gN(r,e,t,s,o,u,h)}function cg(r){const e=xe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>vp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>To(s)).join(",")),e.Te=t}return e.Te}function hg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!oN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!BT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cE(r.startAt,e.startAt)&&cE(r.endAt,e.endAt)}function Ep(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yN(r,e,t,s,o,u,h,m){return new Mo(r,e,t,s,o,u,h,m)}function cf(r){return new Mo(r)}function fE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HT(r){return r.collectionGroup!==null}function au(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(Kt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gu(u,s))}),t.has(Kt.keyField().canonicalString())||e.Ie.push(new gu(Kt.keyField(),s))}return e.Ie}function wr(r){const e=xe(r);return e.Ee||(e.Ee=_N(e,au(r))),e.Ee}function _N(r,e){if(r.limitType==="F")return hE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)});const t=r.endAt?new Fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fh(r.startAt.position,r.startAt.inclusive):null;return hE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function bp(r,e){const t=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Tp(r,e,t){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function hf(r,e){return hg(wr(r),wr(e))&&r.limitType===e.limitType}function FT(r){return`${cg(wr(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>zT(o)).join(", ")}]`),lf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>To(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(wr(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const p=uE(h,m,g);return h.inclusive?p<=0:p<0}(s.startAt,au(s),o)||s.endAt&&!function(h,m,g){const p=uE(h,m,g);return h.inclusive?p>=0:p>0}(s.endAt,au(s),o))}(r,e)}function vN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function GT(r){return(e,t)=>{let s=!1;for(const o of au(r)){const u=EN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EN(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?bo(g,p):we(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new ut(ge.comparator);function hi(){return bN}const $T=new ut(ge.comparator);function eu(...r){let e=$T;for(const t of r)e=e.insert(t.key,t);return e}function KT(r){let e=$T;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ws(){return ou()}function QT(){return ou()}function ou(){return new ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const TN=new ut(ge.comparator),wN=new kt(ge.comparator);function Le(...r){let e=wN;for(const t of r)e=e.add(t);return e}const SN=new kt(Ve);function AN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function YT(r){return{integerValue:""+r}}function RN(r,e){return JI(e)?YT(e):fg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function xN(r,e,t){return r instanceof yu?function(o,u){const h={fields:{[OT]:{stringValue:NT},[kT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lg(u)&&(u=uf(u)),u&&(h.fields[DT]=u),{mapValue:h}}(t,e):r instanceof _u?WT(r,e):r instanceof vu?ZT(r,e):function(o,u){const h=XT(o,u),m=dE(h)+dE(o.Ae);return _p(h)&&_p(o.Ae)?YT(m):fg(o.serializer,m)}(r,e)}function CN(r,e,t){return r instanceof _u?WT(r,e):r instanceof vu?ZT(r,e):t}function XT(r,e){return r instanceof Gh?function(s){return _p(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class yu extends df{}class _u extends df{constructor(e){super(),this.elements=e}}function WT(r,e){const t=JT(e);for(const s of r.elements)t.some(o=>xr(o,s))||t.push(s);return{arrayValue:{values:t}}}class vu extends df{constructor(e){super(),this.elements=e}}function ZT(r,e){let t=JT(e);for(const s of r.elements)t=t.filter(o=>!xr(o,s));return{arrayValue:{values:t}}}class Gh extends df{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dE(r){return vt(r.integerValue||r.doubleValue)}function JT(r){return ug(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.field=e,this.transform=t}}function NN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof _u&&o instanceof _u||s instanceof vu&&o instanceof vu?Eo(s.elements,o.elements,xr):s instanceof Gh&&o instanceof Gh?xr(s.Ae,o.Ae):s instanceof yu&&o instanceof yu}(r.transform,e.transform)}class ON{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function ew(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new dg(r.key,Hn.none()):new Du(r.key,r.data,Hn.none());{const t=r.data,s=mn.empty();let o=new kt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new hs(r.key,s,new Rn(o.toArray()),Hn.none())}}function DN(r,e,t){r instanceof Du?function(o,u,h){const m=o.value.clone(),g=pE(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof hs?function(o,u,h){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=pE(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(tw(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function lu(r,e,t,s){return r instanceof Du?function(u,h,m,g){if(!Rh(u.precondition,h))return m;const p=u.value.clone(),_=gE(u.fieldTransforms,g,h);return p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,t,s):r instanceof hs?function(u,h,m,g){if(!Rh(u.precondition,h))return m;const p=gE(u.fieldTransforms,g,h),_=h.data;return _.setAll(tw(u)),_.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(u,h,m){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function kN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=XT(s.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(s.field,u))}return t||null}function mE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,(u,h)=>NN(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends mf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends mf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function pE(r,e,t){const s=new Map;Ge(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,CN(h,m,t[o]))}return s}function gE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,xN(u,h,e))}return s}class dg extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=QT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=ew(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,s)=>mE(t,s))&&Eo(this.baseMutations,e.baseMutations,(t,s)=>mE(t,s))}}class mg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return TN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function UN(r){switch(r){case J.OK:return we(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function nw(r){if(r===void 0)return ci("GRPC error has no .code"),J.UNKNOWN;switch(r){case At.OK:return J.OK;case At.CANCELLED:return J.CANCELLED;case At.UNKNOWN:return J.UNKNOWN;case At.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case At.INTERNAL:return J.INTERNAL;case At.UNAVAILABLE:return J.UNAVAILABLE;case At.UNAUTHENTICATED:return J.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case At.NOT_FOUND:return J.NOT_FOUND;case At.ALREADY_EXISTS:return J.ALREADY_EXISTS;case At.PERMISSION_DENIED:return J.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case At.ABORTED:return J.ABORTED;case At.OUT_OF_RANGE:return J.OUT_OF_RANGE;case At.UNIMPLEMENTED:return J.UNIMPLEMENTED;case At.DATA_LOSS:return J.DATA_LOSS;default:return we(39323,{code:r})}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new Ji([4294967295,4294967295],0);function yE(r){const e=jN().encode(r),t=new yT;return t.update(e),new Uint8Array(t.digest())}function _E(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ji([t,s],0),new Ji([o,u],0)]}class pg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new tu(`Invalid padding: ${t}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new tu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ji.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ji.fromNumber(s)));return o.compare(BN)===1&&(o=new Ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=yE(e),[s,o]=_E(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=yE(e),[s,o]=_E(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pf(Re.min(),o,new ut(Ve),hi(),Le())}}class ku{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ku(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class rw{constructor(e,t){this.targetId=e,this.Ce=t}}class iw{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class vE{constructor(){this.ve=0,this.Fe=EE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),s=Le();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new ku(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=EE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zN{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.Je=mh(),this.He=mh(),this.Ye=new ut(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Ep(u))if(s===0){const h=new ge(u.path);this.et(t,h,en.newNoDocument(h,Re.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=is(s).toUint8Array()}catch(g){if(g instanceof IT)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new pg(h,o,u)}catch(g){return vo(g instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Ep(m.target)){const g=new ge(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,en.newNoDocument(g,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=Le();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new pf(e,t,this.Ye,this.je,s);return this.je=hi(),this.Je=mh(),this.He=mh(),this.Ye=new ut(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new vE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vE),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function mh(){return new ut(ge.comparator)}function EE(){return new ut(ge.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class GN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wp(r,e){return r.useProto3Json||lf(e)?e:{value:e}}function $h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $N(r,e){return $h(r,e.toTimestamp())}function Sr(r){return Ge(!!r,49232),Re.fromTimestamp(function(t){const s=rs(t);return new rt(s.seconds,s.nanos)}(r))}function gg(r,e){return Sp(r,e).canonicalString()}function Sp(r,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function aw(r){const e=nt.fromString(r);return Ge(hw(e),10190,{key:e.toString()}),e}function Ap(r,e){return gg(r.databaseId,e.path)}function Ym(r,e){const t=aw(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(lw(t))}function ow(r,e){return gg(r.databaseId,e)}function KN(r){const e=aw(r);return e.length===4?nt.emptyPath():lw(e)}function Rp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lw(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,t){return{name:Ap(r,e),fields:t.value.mapValue.fields}}function QN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const _=p.code===void 0?J.UNKNOWN:nw(p.code);return new ce(_,p.message||"")}(h);t=new iw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ym(r,s.document.name),u=Sr(s.document.updateTime),h=s.document.createTime?Sr(s.document.createTime):Re.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(o,u,h,m),p=s.targetIds||[],_=s.removedTargetIds||[];t=new xh(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ym(r,s.document),u=s.readTime?Sr(s.readTime):Re.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];t=new xh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ym(r,s.document),u=s.removedTargetIds||[];t=new xh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new LN(o,u),m=s.targetId;t=new rw(m,h)}}return t}function YN(r,e){let t;if(e instanceof Du)t={update:bE(r,e.key,e.value)};else if(e instanceof dg)t={delete:Ap(r,e.key)};else if(e instanceof hs)t={update:bE(r,e.key,e.data),updateMask:iO(e.fieldMask)};else{if(!(e instanceof MN))return we(16599,{Vt:e.type});t={verify:Ap(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof yu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),t}function XN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?Sr(o.updateTime):Sr(u);return h.isEqual(Re.min())&&(h=Sr(u)),new ON(h,o.transformResults||[])}(t,e))):[]}function WN(r,e){return{documents:[ow(r,e.path)]}}function ZN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ow(r,o);const u=function(p){if(p.length!==0)return cw(Jn.create(p,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(_=>function(w){return{field:uo(w.field),direction:tO(w.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=wp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:o}}function JN(r){let e=KN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(b){const w=uw(b);return w instanceof Jn&&jT(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(w=>function(C){return new gu(co(C.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,lf(w)?null:w}(t.limit));let g=null;t.startAt&&(g=function(b){const w=!!b.before,I=b.values||[];return new Fh(I,w)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const w=!b.before,I=b.values||[];return new Fh(I,w)}(t.endAt)),yN(e,o,h,u,m,"F",g,p)}function eO(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=co(t.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(t.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(t.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(t){return Rt.create(co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(s=>uw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(r):we(30097,{filter:r})}function tO(r){return qN[r]}function nO(r){return HN[r]}function rO(r){return FN[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Kt.fromServerFormat(r.fieldPath)}function cw(r){return r instanceof Rt?function(t){if(t.op==="=="){if(lE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(oE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(oE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:nO(t.op),value:t.value}}}(r):r instanceof Jn?function(t){const s=t.getFilters().map(o=>cw(o));return s.length===1?s[0]:{compositeFilter:{op:rO(t.op),filters:s}}}(r):we(54877,{filter:r})}function iO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,s,o,u=Re.min(),h=Re.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.yt=e}}function aO(r){const e=JN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.Cn=new lO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ns.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class lO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fw=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(fw,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="LruGarbageCollector",uO=1048576;function SE([r,e],[t,s]){const o=Ve(r,t);return o===0?Ve(e,s):o}class cO{constructor(e){this.Ir=e,this.buffer=new kt(SE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();SE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(wE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ko(t)?he(wE,"Ignoring IndexedDB error during garbage collection: ",t):await Do(t)}await this.Vr(3e5)})}}class fO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(of.ce);const s=new cO(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(TE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(p=Date.now(),oo()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function dO(r,e){return new fO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&lu(s.mutation,o,Rn.empty(),rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=eu();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ws();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=hi();const h=ou(),m=function(){return ou()}();return t.forEach((g,p)=>{const _=s.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof hs)?u=u.insert(p.key,p):_!==void 0?(h.set(p.key,_.mutation.getFieldMask()),lu(_.mutation,p,_.mutation.getFieldMask(),rt.now())):h.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,_)=>h.set(p,_)),t.forEach((p,_)=>m.set(p,new pO(_,h.get(p)??null))),m))}recalculateAndSaveOverlays(e,t){const s=ou();let o=new ut((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let _=s.get(g)||Rn.empty();_=m.applyToLocalView(p,_),s.set(g,_);const b=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,b=QT();_.forEach(w=>{if(!u.has(w)){const I=ew(t.get(w),s.get(w));I!==null&&b.set(w,I),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(Ws());let m=fu,g=u;return h.next(p=>ne.forEach(p,(_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{g=g.insert(_,w)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Le())).next(_=>({batchId:m,changes:KT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=eu();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,g=>{const p=function(b,w){return new Mo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(_=>{_.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,p)=>{const _=p.getKey();h.get(_)===null&&(h=h.insert(_,en.newInvalidDocument(_)))});let m=eu();return h.forEach((g,p)=>{const _=u.get(g);_!==void 0&&lu(_.mutation,p,Rn.empty(),rt.now()),ff(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Sr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:aO(o.bundledQuery),readTime:Sr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ws();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=Ws(),u=t.length+1,h=new ge(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ut((p,_)=>p-_);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let _=u.get(p.largestBatchId);_===null&&(_=Ws(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=Ws(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=o)););return ne.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new VN(t,s));let u=this.qr.get(t);u===void 0&&(u=Le(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Qr=new kt(Bt.$r),this.Ur=new kt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new ge(new nt([])),s=new Bt(t,e),o=new Bt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new nt([])),s=new Bt(t,e),o=new Bt(t,e+1);let u=Le();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Bt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Ve);return t.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ge(u),0);let m=new kt(Ve);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)},h),ne.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,o=>{const u=new Bt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Bt(t,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.ri=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=hi();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=hi();const h=t.path,m=new ge(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||YI(QI(_),s)<=0||(o.has(_.key)||ff(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we(9500)}ii(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new TO(this)}getSize(e){return ne.resolve(this.size)}}class TO extends mO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.persistence=e,this.si=new ha(t=>cg(t),hg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=wo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new vO,this.referenceDelegate=e(this),this.Pi=new wO(this),this.indexManager=new oO,this.remoteDocumentCache=function(o){return new bO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new sO(t),this.Ii=new yO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _O,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new EO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new SO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return ne.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class SO extends WI{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new _g(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Kh{constructor(e,t){this.persistence=e,this.pi=new ha(s=>eN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=dO(this,t)}static mi(e,t){return new Kh(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ne.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sh(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return XR()?8:ZI(rn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new AO;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(oo()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(oo()<=Pe.DEBUG&&he("QueryEngine","Query:",lo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):ne.resolve())}ys(e,t){if(fE(t))return ne.resolve(null);let s=wr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Tp(t,null,"F"),s=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.Ds(t,m);return this.Cs(t,p,h,g.readTime)?this.ys(e,Tp(t,null,"F")):this.vs(e,p,t,g)}))})))}ws(e,t,s,o){return fE(t)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?ne.resolve(null):(oo()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(t)),this.vs(e,h,t,KI(o,fu)).next(m=>m))})}Ds(e,t){let s=new kt(GT(e));return t.forEach((o,u)=>{ff(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return oo()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ps.getDocumentsMatchingQuery(e,t,ns.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",xO=3e8;class CO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ha(u=>cg(u),hg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function IO(r,e,t,s){return new CO(r,e,t,s)}async function mw(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Le();for(const p of o){h.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next(p=>({Ls:p,removedBatchIds:h,addedBatchIds:m}))})})}function NO(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const b=p.batch,w=b.keys();let I=ne.resolve();return w.forEach(C=>{I=I.next(()=>_.getEntry(g,C)).next(U=>{const V=p.docVersions.get(C);Ge(V!==null,48541),U.version.compareTo(V)<0&&(b.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),_.addEntry(U)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function pw(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function OO(r,e){const t=xe(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((_,b)=>{const w=o.get(b);if(!w)return;m.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,b).next(()=>t.Pi.addMatchingKeys(u,_.addedDocuments,b)));let I=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(Qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(b,I),function(U,V,K){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=xO?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,I,_)&&m.push(t.Pi.updateTargetData(u,I))});let g=hi(),p=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(DO(u,h,e.documentUpdates).next(_=>{g=_.ks,p=_.qs})),!s.isEqual(Re.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next(b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(t.Ms=o,u))}function DO(r,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=hi();return t.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):he(Eg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{ks:h,qs:o}})}function kO(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=og),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function MO(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new Yi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function xp(r,e,t){const s=xe(r),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ko(h))throw h;he(Eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function AE(r,e,t){const s=xe(r);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,_){const b=xe(g),w=b.xs.get(_);return w!==void 0?ne.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,_)}(s,h,wr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?u:Le())).next(m=>(PO(s,vN(e),m),{documents:m,Qs:u})))}function PO(r,e,t){let s=r.Os.get(e)||Re.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class RE{constructor(){this.activeTargetIds=AN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VO{constructor(){this.Mo=new RE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class CE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(xE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Cp(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",UO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Cp(),m=this.zo(e,t.toUriEncodedString());he(Xm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),_=Io(p);return this.Jo(e,m,g,s,_).then(b=>(he(Xm,`Received RPC '${e}' ${h}: `,b),b),b=>{throw vo(Xm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=UO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class zO extends jO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Cp();return new Promise((m,g)=>{const p=new _T;p.setWithCredentials(!0),p.listenOnce(vT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const b=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case wh.TIMEOUT:he(Zt,`RPC '${e}' ${h} timed out`),g(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const w=p.getStatus();if(he(Zt,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I?.error;if(C&&C.status&&C.message){const U=function(K){const ee=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ee)>=0?ee:J.UNKNOWN}(C.status);g(new ce(U,C.message))}else g(new ce(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ce(J.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(Zt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);he(Zt,`RPC '${e}' ${h} sending request:`,o),p.send(t,"POST",_,s,15)})}T_(e,t,s){const o=Cp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=TT(),m=bT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=u.join("");he(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const b=h.createWebChannel(_,g);this.I_(b);let w=!1,I=!1;const C=new BO({Yo:V=>{I?he(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(he(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),he(Zt,`RPC '${e}' stream ${o} sending:`,V),b.send(V))},Zo:()=>b.close()}),U=(V,K,ee)=>{V.listen(K,ie=>{try{ee(ie)}catch(de){setTimeout(()=>{throw de},0)}})};return U(b,Jl.EventType.OPEN,()=>{I||(he(Zt,`RPC '${e}' stream ${o} transport opened.`),C.o_())}),U(b,Jl.EventType.CLOSE,()=>{I||(I=!0,he(Zt,`RPC '${e}' stream ${o} transport closed`),C.a_(),this.E_(b))}),U(b,Jl.EventType.ERROR,V=>{I||(I=!0,vo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),C.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),U(b,Jl.EventType.MESSAGE,V=>{if(!I){const K=V.data[0];Ge(!!K,16349);const ee=K,ie=ee?.error||ee[0]?.error;if(ie){he(Zt,`RPC '${e}' stream ${o} received error:`,ie);const de=ie.status;let le=function(x){const R=At[x];if(R!==void 0)return nw(R)}(de),_e=ie.message;le===void 0&&(le=J.INTERNAL,_e="Unknown error status: "+de+" with message "+ie.message),I=!0,C.a_(new ce(le,_e)),b.close()}else he(Zt,`RPC '${e}' stream ${o} received:`,K),C.u_(K)}}),U(m,ET.STAT_EVENT,V=>{V.stat===pp.PROXY?he(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===pp.NOPROXY&&he(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return new GN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class yw{constructor(e,t,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qO extends yw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=QN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Sr(h.readTime):Re.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Rp(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=Ep(g)?{documents:WN(u,g)}:{query:ZN(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=sw(u,h.resumeToken);const p=wp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=$h(u,h.snapshotVersion.toTimestamp());const p=wp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=eO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.q_(t)}}class HO extends yw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=XN(e.writeResults,e.commitTime),s=Sr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Rp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>YN(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{}class GO extends FO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Sp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Sp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(J.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class KO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{fa(this)&&(he(oa,"Restarting streams for network reachability change."),await async function(g){const p=xe(g);p.Ea.add(4),await Mu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await yf(p)}(this))})}),this.Ra=new $O(s,o)}}async function yf(r){if(fa(r))for(const e of r.da)await e(!0)}async function Mu(r){for(const e of r.da)await e(!1)}function _w(r,e){const t=xe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Sg(t)?wg(t):Po(t).O_()&&Tg(t,e))}function bg(r,e){const t=xe(r),s=Po(t);t.Ia.delete(e),s.O_()&&vw(t,e),t.Ia.size===0&&(s.O_()?s.L_():fa(t)&&t.Ra.set("Unknown"))}function Tg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).Y_(e)}function vw(r,e){r.Va.Ue(e),Po(r).Z_(e)}function wg(r){r.Va=new zN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Ra.ua()}function Sg(r){return fa(r)&&!Po(r).x_()&&r.Ia.size>0}function fa(r){return xe(r).Ea.size===0}function Ew(r){r.Va=void 0}async function QO(r){r.Ra.set("Online")}async function YO(r){r.Ia.forEach((e,t)=>{Tg(r,e)})}async function XO(r,e){Ew(r),Sg(r)?(r.Ra.ha(e),wg(r)):r.Ra.set("Unknown")}async function WO(r,e,t){if(r.Ra.set("Online"),e instanceof iw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){he(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(r,s)}else if(e instanceof xh?r.Va.Ze(e):e instanceof rw?r.Va.st(e):r.Va.tt(e),!t.isEqual(Re.min()))try{const s=await pw(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),vw(u,g);const b=new Yi(_.target,g,p,_.sequenceNumber);Tg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){he(oa,"Failed to raise snapshot:",s),await Qh(r,s)}}async function Qh(r,e,t){if(!ko(e))throw e;r.Ea.add(1),await Mu(r),r.Ra.set("Offline"),t||(t=()=>pw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(oa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await yf(r)})}function bw(r,e){return e().catch(t=>Qh(r,t,e))}async function _f(r){const e=xe(r),t=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;ZO(e);)try{const o=await kO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,JO(e,o)}catch(o){await Qh(e,o)}Tw(e)&&ww(e)}function ZO(r){return fa(r)&&r.Ta.length<10}function JO(r,e){r.Ta.push(e);const t=as(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Tw(r){return fa(r)&&!as(r).x_()&&r.Ta.length>0}function ww(r){as(r).start()}async function eD(r){as(r).ra()}async function tD(r){const e=as(r);for(const t of r.Ta)e.ea(t.mutations)}async function nD(r,e,t){const s=r.Ta.shift(),o=mg.from(s,e,t);await bw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await _f(r)}async function rD(r,e){e&&as(r).X_&&await async function(s,o){if(function(h){return UN(h)&&h!==J.ABORTED}(o.code)){const u=s.Ta.shift();as(s).B_(),await bw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await _f(s)}}(r,e),Tw(r)&&ww(r)}async function NE(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),he(oa,"RemoteStore received new credentials");const s=fa(t);t.Ea.add(3),await Mu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await yf(t)}async function iD(r,e){const t=xe(r);e?(t.Ea.delete(2),await yf(t)):e||(t.Ea.add(2),await Mu(t),t.Ra.set("Unknown"))}function Po(r){return r.ma||(r.ma=function(t,s,o){const u=xe(t);return u.sa(),new qO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:QO.bind(null,r),t_:YO.bind(null,r),r_:XO.bind(null,r),H_:WO.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Sg(r)?wg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ew(r))})),r.ma}function as(r){return r.fa||(r.fa=function(t,s,o){const u=xe(t);return u.sa(),new HO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:eD.bind(null,r),r_:rD.bind(null,r),ta:tD.bind(null,r),na:nD.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await _f(r)):(await r.fa.stop(),r.Ta.length>0&&(he(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new Ag(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(r,e){if(ci("AsyncQueue",`${e}: ${r}`),ko(r))return new ce(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=eu(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.ga=new ut(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class So{constructor(e,t,s,o,u,h,m,g,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new So(e,t,go.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class aD{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=xe(t),u=o.queries;o.queries=DE(),u.forEach((h,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function DE(){return new ha(r=>FT(r),hf)}async function Sw(r,e){const t=xe(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new sD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Rg(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&xg(t)}async function Aw(r,e){const t=xe(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function oD(r,e){const t=xe(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&xg(t)}function lD(r,e,t){const s=xe(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function xg(r){r.Ca.forEach(e=>{e.next()})}var Ip,kE;(kE=Ip||(Ip={})).Ma="default",kE.Cache="cache";class Rw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.key=e}}class Cw{constructor(e){this.key=e}}class uD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=GT(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new OE,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,b)=>{const w=o.get(_),I=ff(this.query,b)?b:null,C=!!w&&this.mutatedKeys.has(w.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;w&&I?w.data.isEqual(I.data)?C!==U&&(s.track({type:3,doc:I}),V=!0):this.su(w,I)||(s.track({type:2,doc:I}),V=!0,(g&&this.eu(I,g)>0||p&&this.eu(I,p)<0)&&(m=!0)):!w&&I?(s.track({type:0,doc:I}),V=!0):w&&!I&&(s.track({type:1,doc:w}),V=!0,(g||p)&&(m=!0)),V&&(I?(h=h.add(I),u=U?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,b)=>function(I,C){const U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:V})}};return U(I)-U(C)}(_.type,b.type)||this.eu(_.doc,b.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new So(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new Cw(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new xw(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class cD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class hD{constructor(e){this.key=e,this.hu=!1}}class fD{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ha(m=>FT(m),hf),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dD(r,e,t=!0){const s=Mw(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Iw(s,e,t,!0),o}async function mD(r,e){const t=Mw(r);await Iw(t,e,!0,!1)}async function Iw(r,e,t,s){const o=await MO(r.localStore,wr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await pD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&_w(r.remoteStore,o),m}async function pD(r,e,t,s,o){r.pu=(b,w,I)=>async function(U,V,K,ee){let ie=V.view.ru(K);ie.Cs&&(ie=await AE(U.localStore,V.query,!1).then(({documents:M})=>V.view.ru(M,ie)));const de=ee&&ee.targetChanges.get(V.targetId),le=ee&&ee.targetMismatches.get(V.targetId)!=null,_e=V.view.applyChanges(ie,U.isPrimaryClient,de,le);return PE(U,V.targetId,_e.au),_e.snapshot}(r,b,w,I);const u=await AE(r.localStore,e,!0),h=new uD(e,u.Qs),m=h.ru(u.documents),g=ku.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);PE(r,t,p.au);const _=new cD(e,t,h);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),p.snapshot}async function gD(r,e,t){const s=xe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!hf(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&bg(s.remoteStore,o.targetId),Np(s,o.targetId)}).catch(Do)):(Np(s,o.targetId),await xp(s.localStore,o.targetId,!0))}async function yD(r,e){const t=xe(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),bg(t.remoteStore,s.targetId))}async function _D(r,e,t){const s=AD(r);try{const o=await function(h,m){const g=xe(h),p=rt.now(),_=m.reduce((I,C)=>I.add(C.key),Le());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=hi(),U=Le();return g.Ns.getEntries(I,_).next(V=>{C=V,C.forEach((K,ee)=>{ee.isValidDocument()||(U=U.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,C)).next(V=>{b=V;const K=[];for(const ee of m){const ie=kN(ee,b.get(ee.key).overlayedDocument);ie!=null&&K.push(new hs(ee.key,ie,VT(ie.value.mapValue),Hn.exists(!0)))}return g.mutationQueue.addMutationBatch(I,p,K,m)}).next(V=>{w=V;const K=V.applyToLocalDocumentSet(b,U);return g.documentOverlayCache.saveOverlays(I,V.batchId,K)})}).then(()=>({batchId:w.batchId,changes:KT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ut(Ve)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p}(s,o.batchId,t),await Pu(s,o.changes),await _f(s.remoteStore)}catch(o){const u=Rg(o,"Failed to persist write");t.reject(u)}}async function Nw(r,e){const t=xe(r);try{const s=await OO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))}),await Pu(t,s,e)}catch(s){await Do(s)}}function ME(r,e,t){const s=xe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=xe(h);g.onlineState=m;let p=!1;g.queries.forEach((_,b)=>{for(const w of b.Sa)w.va(m)&&(p=!0)}),p&&xg(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vD(r,e,t){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,en.newNoDocument(u,Re.min()));const m=Le().add(u),g=new pf(Re.min(),new Map,new ut(Ve),h,m);await Nw(s,g),s.du=s.du.remove(u),s.Au.delete(e),Ig(s)}else await xp(s.localStore,e,!1).then(()=>Np(s,e,t)).catch(Do)}async function ED(r,e){const t=xe(r),s=e.batch.batchId;try{const o=await NO(t.localStore,e);Dw(t,s,null),Ow(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(t,o)}catch(o){await Do(o)}}async function bD(r,e,t){const s=xe(r);try{const o=await function(h,m){const g=xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(b=>(Ge(b!==null,37113),_=b.keys(),g.mutationQueue.removeMutationBatch(p,b))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(s.localStore,e);Dw(s,e,t),Ow(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Pu(s,o)}catch(o){await Do(o)}}function Ow(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function Dw(r,e,t){const s=xe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Np(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||kw(r,s)})}function kw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(bg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Ig(r))}function PE(r,e,t){for(const s of t)s instanceof xw?(r.Ru.addReference(s.key,e),TD(r,s)):s instanceof Cw?(he(Cg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||kw(r,s.key)):we(19791,{wu:s})}function TD(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(he(Cg,"New document in limbo: "+t),r.Eu.add(s),Ig(r))}function Ig(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ge(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new hD(t)),r.du=r.du.insert(t,s),_w(r.remoteStore,new Yi(wr(cf(t.path)),s,"TargetPurposeLimboResolution",of.ce))}}async function Pu(r,e,t){const s=xe(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{h.push(s.pu(g,e,t).then(p=>{if((p||t)&&s.isPrimaryClient){const _=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(p){o.push(p);const _=vg.As(g.targetId,p);u.push(_)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(g,p){const _=xe(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(p,w=>ne.forEach(w.Es,I=>_.persistence.referenceDelegate.addReference(b,w.targetId,I)).next(()=>ne.forEach(w.ds,I=>_.persistence.referenceDelegate.removeReference(b,w.targetId,I)))))}catch(b){if(!ko(b))throw b;he(Eg,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const I=_.Ms.get(w),C=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(C);_.Ms=_.Ms.insert(w,U)}}}(s.localStore,u))}async function wD(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){he(Cg,"User change. New user:",e.toKey());const s=await mw(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new ce(J.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(t,s.Ls)}}function SD(r,e){const t=xe(r),s=t.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Mw(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vD.bind(null,e),e.Pu.H_=oD.bind(null,e.eventManager),e.Pu.yu=lD.bind(null,e.eventManager),e}function AD(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return IO(this.persistence,new RO,e.initialUser,this.serializer)}Cu(e){return new dw(_g.mi,this.serializer)}Du(e){return new VO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class RD extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new dw(s=>Kh.mi(s,t),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ME(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wD.bind(null,this.syncEngine),await iD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aD}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),s=function(u){return new zO(u)}(e.databaseInfo);return function(u,h,m,g){return new GO(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new KO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ME(this.syncEngine,t,0),function(){return CE.v()?new CE:new LO}())}createSyncEngine(e,t){return function(o,u,h,m,g,p,_){const b=new fD(o,u,h,m,g,p);return _&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=xe(t);he(oa,"RemoteStore shutting down."),s.Ea.add(5),await Mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class xD{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Rg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zm(r,e){r.asyncQueue.verifyOperationInProgress(),he(os,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await mw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function VE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await CD(r);he(os,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>NE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>NE(e.remoteStore,o)),r._onlineComponents=e}async function CD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(os,"Using user provided OfflineComponentProvider");try{await Zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),await Zm(r,new Yh)}}else he(os,"Using default OfflineComponentProvider"),await Zm(r,new RD(void 0));return r._offlineComponents}async function Vw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(os,"Using user provided OnlineComponentProvider"),await VE(r,r._uninitializedComponentsProvider._online)):(he(os,"Using default OnlineComponentProvider"),await VE(r,new Op))),r._onlineComponents}function ID(r){return Vw(r).then(e=>e.syncEngine)}async function Dp(r){const e=await Vw(r),t=e.eventManager;return t.onListen=dD.bind(null,e.syncEngine),t.onUnlisten=gD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yD.bind(null,e.syncEngine),t}function ND(r,e,t={}){const s=new es;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const _=new Pw({next:w=>{_.Nu(),h.enqueueAndForget(()=>Aw(u,b));const I=w.docs.has(m);!I&&w.fromCache?p.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&g&&g.source==="server"?p.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Rw(cf(m.path),_,{includeMetadataChanges:!0,qa:!0});return Sw(u,b)}(await Dp(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firestore.googleapis.com",UE=!0;class jE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uw,this.ssl=UE}else this.host=e.host,this.ssl=e.ssl??UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uO)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new BI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=LE.get(t);s&&(he("ComponentProvider","Removing Datastore"),LE.delete(t),s.terminate())}(this),Promise.resolve()}}function OD(r,e,t,s={}){r=qn(r,vf);const o=Io(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(Cb(`https://${m}`),Ib("Firestore",!0)),u.host!==Uw&&u.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,_;if(typeof s.mockUserToken=="string")p=s.mockUserToken,_=Jt.MOCK_USER;else{p=zR(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Jt(b)}r._authCredentials=new LI(new ST(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ou(t,dt._jsonSchema))return new dt(e,s||null,new ge(nt.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:xt("string",dt._jsonSchemaVersion),referencePath:xt("string")};class ts extends da{constructor(e,t,s){super(e,t,cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function BE(r,e,...t){if(r=mt(r),AT("collection","path",e),r instanceof vf){const s=nt.fromString(e,...t);return Zv(s),new ts(r,null,s)}{if(!(r instanceof dt||r instanceof ts))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return Zv(s),new ts(r.firestore,null,s)}}function un(r,e,...t){if(r=mt(r),arguments.length===1&&(e=ag.newId()),AT("doc","path",e),r instanceof vf){const s=nt.fromString(e,...t);return Wv(s),new dt(r,null,new ge(s))}{if(!(r instanceof dt||r instanceof ts))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return Wv(s),new dt(r.firestore,r instanceof ts?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class qE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gw(this,"async_queue_retry"),this._c=()=>{const s=Wm();s&&he(zE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;he(zE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",HE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ag.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:HE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function HE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ls extends vf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new qE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function DD(r,e){const t=typeof r=="object"?r:kb(),s=typeof r=="string"?r:qh,o=Xp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=jR("firestore");u&&OD(o,...u)}return o}function Ng(r){if(r._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kD(r),r._firestoreClient}function kD(r){const e=r._freezeSettings(),t=function(o,u,h,m){return new rN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Lw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xD(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Qt.fromBase64String(e))}catch(t){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:xt("string",zn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:xt("string",Ar._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Rr(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:xt("string",Rr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^__.*__$/;class PD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class jw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new hs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class Og{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Bw(this.Ac)&&MD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gf(e)}Cc(e,t,s,o=!1){return new Og({Ac:e,methodName:t,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(r){const e=r._freezeSettings(),t=gf(r._databaseId);return new VD(r._databaseId,!!e.ignoreUndefinedProperties,t)}function zw(r,e,t,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,t,o);kg("Data must be an object, but it was:",h,s);const m=qw(s,h);let g,p;if(u.merge)g=new Rn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const w=kp(e,b,t);if(!h.contains(w))throw new ce(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Fw(_,w)||_.push(w)}g=new Rn(_),p=h.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,p=h.fieldTransforms;return new PD(new mn(m),g,p)}class wf extends bf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}class Dg extends bf{_toFieldTransform(e){return new IN(e.path,new yu)}isEqual(e){return e instanceof Dg}}function LD(r,e,t,s){const o=r.Cc(1,e,t);kg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();cs(s,(g,p)=>{const _=Mg(e,g,t);p=mt(p);const b=o.yc(_);if(p instanceof wf)u.push(_);else{const w=Vu(p,b);w!=null&&(u.push(_),h.set(_,w))}});const m=new Rn(u);return new jw(h,m,o.fieldTransforms)}function UD(r,e,t,s,o,u){const h=r.Cc(1,e,t),m=[kp(e,s,t)],g=[o];if(u.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(kp(e,u[w])),g.push(u[w+1]);const p=[],_=mn.empty();for(let w=m.length-1;w>=0;--w)if(!Fw(p,m[w])){const I=m[w];let C=g[w];C=mt(C);const U=h.yc(I);if(C instanceof wf)p.push(I);else{const V=Vu(C,U);V!=null&&(p.push(I),_.set(I,V))}}const b=new Rn(p);return new jw(_,b,h.fieldTransforms)}function jD(r,e,t,s=!1){return Vu(t,r.Cc(s?4:3,e))}function Vu(r,e){if(Hw(r=mt(r)))return kg("Unsupported field value:",e,r),qw(r,e);if(r instanceof bf)return function(s,o){if(!Bw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let g=Vu(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:$h(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(o.serializer,u)}}if(s instanceof Ar)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:sw(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rr)return function(h,m){return{mapValue:{fields:{[MT]:{stringValue:PT},[Hh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return fg(m.serializer,p)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${af(s)}`)}(r,e)}function qw(r,e){const t={};return CT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,(s,o)=>{const u=Vu(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Hw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Ar||r instanceof zn||r instanceof dt||r instanceof bf||r instanceof Rr)}function kg(r,e,t){if(!Hw(t)||!RT(t)){const s=af(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function kp(r,e,t){if((e=mt(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return Mg(r,e);throw Xh("Field path arguments must be of type string or ",r,!1,void 0,t)}const BD=new RegExp("[~\\*/\\[\\]]");function Mg(r,e,t){if(e.search(BD)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ef(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Xh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ce(J.INVALID_ARGUMENT,m+r+g)}function Fw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zD extends Gw{data(){return super.data()}}function Pg(r,e){return typeof e=="string"?Mg(r,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class $w extends Vg{}function HD(r,e,...t){let s=[];e instanceof Vg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof Ug).length,m=u.filter(g=>g instanceof Lg).length;if(h>1||h>0&&m>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Lg extends $w{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Lg(e,t,s)}_apply(e){const t=this._parse(e);return Kw(e._query,t),new da(e.firestore,e.converter,bp(e._query,t))}_parse(e){const t=Tf(e.firestore);return function(u,h,m,g,p,_,b){let w;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){$E(b,_);const C=[];for(const U of b)C.push(GE(g,u,U));w={arrayValue:{values:C}}}else w=GE(g,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||$E(b,_),w=jD(m,h,b,_==="in"||_==="not-in");return Rt.create(p,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ug extends Vg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ug(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)Kw(h,g),h=bp(h,g)}(e._query,t),new da(e.firestore,e.converter,bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends $w{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,h)}(e._query,this._field,this._direction);return new da(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function FD(r,e="asc"){const t=e,s=Pg("orderBy",r);return jg._create(s,t)}function GE(r,e,t){if(typeof(t=mt(t))=="string"){if(t==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HT(e)&&t.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ge.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return aE(r,new ge(s))}if(t instanceof dt)return aE(r,t._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(t)}.`)}function $E(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kw(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GD{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return cs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[Hh].arrayValue?.values?.map(s=>vt(s.doubleValue));return new Rr(t)}convertGeoPoint(e){return new Ar(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=rs(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Ge(hw(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends Gw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Pg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Js._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:xt("string",Js._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Ch extends Js{data(e={}){return super.data(e)}}class yo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ch(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:$D(m.type),doc:g,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $D(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(r){r=qn(r,dt);const e=qn(r.firestore,ls);return ND(Ng(e),r._key).then(t=>Ww(e,r,t))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:xt("string",yo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Yw extends GD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Eu(r,e,t){r=qn(r,dt);const s=qn(r.firestore,ls),o=Qw(r.converter,e);return Sf(s,[zw(Tf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Hn.none())])}function Bg(r,e,t,...s){r=qn(r,dt);const o=qn(r.firestore,ls),u=Tf(o);let h;return h=typeof(e=mt(e))=="string"||e instanceof Ef?UD(u,"updateDoc",r._key,e,t,s):LD(u,"updateDoc",r._key,e),Sf(o,[h.toMutation(r._key,Hn.exists(!0))])}function Xw(r){return Sf(qn(r.firestore,ls),[new dg(r._key,Hn.none())])}function KD(r,e){const t=qn(r.firestore,ls),s=un(r),o=Qw(r.converter,e);return Sf(t,[zw(Tf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then(()=>s)}function zg(r,...e){r=mt(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||FE(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(FE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(r instanceof dt)h=qn(r.firestore,ls),m=cf(r._key.path),u={next:g=>{e[s]&&e[s](Ww(h,r,g))},error:e[s+1],complete:e[s+2]};else{const g=qn(r,da);h=qn(g.firestore,ls),m=g._query;const p=new Yw(h);u={next:_=>{e[s]&&e[s](new yo(h,p,g,_))},error:e[s+1],complete:e[s+2]},qD(r._query)}return function(p,_,b,w){const I=new Pw(w),C=new Rw(_,I,b);return p.asyncQueue.enqueueAndForget(async()=>Sw(await Dp(p),C)),()=>{I.Nu(),p.asyncQueue.enqueueAndForget(async()=>Aw(await Dp(p),C))}}(Ng(h),m,o,u)}function Sf(r,e){return function(s,o){const u=new es;return s.asyncQueue.enqueueAndForget(async()=>_D(await ID(s),o,u)),u.promise}(Ng(r),e)}function Ww(r,e,t){const s=t.docs.get(e._key),o=new Yw(r);return new Js(r,o,e._key,s,new nu(t.hasPendingWrites,t.fromCache),e.converter)}function Ki(){return new Dg("serverTimestamp")}(function(e,t=!0){(function(o){Oo=o})(No),_o(new na("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ls(new UI(s.getProvider("auth-internal")),new zI(h,s.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(p.options.projectId,_)}(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Zi(Kv,Qv,e),Zi(Kv,Qv,"esm2020")})();const QD={apiKey:"AIzaSyDeA9WJ9h-an3mmw-Fn8w0P0-Z4kcGHcEA",authDomain:"newsdotai-database.firebaseapp.com",projectId:"newsdotai-database",storageBucket:"newsdotai-database.firebasestorage.app",messagingSenderId:"235389527224",appId:"1:235389527224:web:98d478aea2b9717410404d",measurementId:"G-1MJTLMM13M"},Zw=Db(QD),gh=MI(Zw),tn=DD(Zw),fs=()=>{const[r,e]=j.useState(null),[t,s]=j.useState(!0),[o,u]=j.useState(null);j.useEffect(()=>{const p=TC(gh,_=>{e(_),s(!1)});return()=>p()},[]);const h=j.useCallback(async({username:p,dob:_,email:b,password:w})=>{s(!0),u(null);try{const I=p.toLowerCase(),C=un(tn,"usernames",I);if((await Ao(C)).exists()){u("Username already taken"),s(!1);return}const K=(await mC(gh,b,w)).user.uid;await Eu(un(tn,"users",K),{username:I,dob:_,email:b,createdAt:new Date().toISOString()}),await Eu(C,{email:b,uid:K})}catch(I){u(I.message)}finally{s(!1)}},[]),m=j.useCallback(async(p,_)=>{s(!0),u(null);try{let b=p;if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(p)){const w=p.toLowerCase(),I=un(tn,"usernames",w),C=await Ao(I);if(!C.exists()){u("Username not found"),s(!1);return}b=C.data().email}await pC(gh,b,_)}catch(b){u(b.message)}finally{s(!1)}},[]),g=j.useCallback(async()=>{s(!0),u(null);try{await wC(gh)}catch(p){u(p.message)}finally{s(!1)}},[]);return{user:r,loading:t,error:o,signUp:h,signIn:m,signOutUser:g}},Jm={theme:"dark"},YD=()=>{const{user:r}=fs(),[e,t]=j.useState(null),[s,o]=j.useState(!0),[u,h]=j.useState(null);return j.useEffect(()=>{if(!r?.uid){t(null),o(!1);return}o(!0);const p=un(tn,"users",r.uid,"settings","preferences"),_=zg(p,b=>{if(b.exists()){const w=b.data();t({theme:w.theme||Jm.theme,createdAt:w.createdAt?.toDate(),updatedAt:w.updatedAt?.toDate()})}else Eu(p,{...Jm,createdAt:Ki(),updatedAt:Ki()}),t(Jm);o(!1)},b=>{console.error("Error fetching user settings:",b),h("Failed to load user settings"),o(!1)});return()=>_()},[r?.uid]),{settings:e,loading:s,error:u,updateTheme:async p=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const _=un(tn,"users",r.uid,"settings","preferences");(await Ao(_)).exists()?await Bg(_,{theme:p,updatedAt:Ki()}):await Eu(_,{theme:p,createdAt:Ki(),updatedAt:Ki()})}catch(_){throw console.error("Error updating theme:",_),h("Failed to update theme"),_}},clearError:()=>{h(null)}}},Jw=j.createContext(void 0),XD=({children:r})=>{const{settings:e,updateTheme:t}=YD(),[s,o]=j.useState(!0);j.useEffect(()=>{e?.theme&&o(e.theme==="dark")},[e?.theme]),j.useEffect(()=>{setTimeout(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(s))},0)},[s]);const u=async()=>{const h=!s;o(h);try{await t(h?"dark":"light")}catch(m){console.error("Failed to update theme in Firebase:",m)}};return A.jsx(Jw.Provider,{value:{isDarkMode:s,toggleDarkMode:u},children:r})},Vo=()=>{const r=j.useContext(Jw);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},WD=j.forwardRef(({value:r,onClick:e,placeholder:t},s)=>A.jsx("button",{type:"button",onClick:e,ref:s,className:"w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50 dark:bg-slate-700/50 dark:text-white dark:border-slate-600/50 dark:placeholder-slate-400 dark:focus:border-blue-500/50",style:{textAlign:"left",width:"100%",height:"48px"},children:r||t}));WD.displayName="CustomDateInput";const ZD=()=>{const{user:r,loading:e,error:t,signIn:s}=fs(),{isDarkMode:o}=Vo(),[u,h]=j.useState(""),[m,g]=j.useState(""),[p,_]=j.useState(null),b=wu();j.useEffect(()=>{o?(document.documentElement.classList.add("dark"),document.body.classList.add("dark"),document.getElementById("root")?.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"),document.getElementById("root")?.classList.remove("dark"))},[o]),j.useEffect(()=>{const I=setInterval(()=>{const C=document.querySelector(".react-datepicker-popper");C&&(o?C.classList.add("dark"):C.classList.remove("dark"),clearInterval(I))},100);return()=>clearInterval(I)},[o]),j.useEffect(()=>{r&&b("/home")},[r,b]);const w=async I=>{if(I.preventDefault(),_(null),!u||!m){_("Please fill in all fields.");return}await s(u,m)};return r?null:A.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${o?"text-white dark":"text-slate-900"}`,children:A.jsxs("div",{className:"w-full max-w-md space-y-8",children:[A.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[A.jsxs("div",{className:`relative w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-500 ${o?"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 shadow-lg shadow-blue-500/30"}`,children:[A.jsx("div",{className:"w-6 h-6 border-2 border-white/80 rounded-sm"}),A.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-transparent via-white/10 to-transparent"})]}),A.jsxs("div",{children:[A.jsx("h1",{className:`text-3xl font-bold tracking-tight transition-all duration-500 ${o?"bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent":"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-600 bg-clip-text text-transparent"}`,children:"NEWS.AI"}),A.jsx("p",{className:`text-sm font-medium transition-colors duration-500 ${o?"text-slate-400":"text-slate-500"}`,children:"Sign in to your account"})]})]}),A.jsxs("div",{className:"card-glass",children:[A.jsx("h2",{className:`mb-6 text-2xl font-bold text-center bg-gradient-to-r ${o?"from-white via-gray-200 to-gray-400":"from-slate-900 via-slate-700 to-slate-600"} bg-clip-text text-transparent`,children:"Sign In"}),A.jsxs("form",{onSubmit:w,className:"space-y-4",children:[A.jsx("input",{type:"text",placeholder:"Email or Username",value:u,onChange:I=>h(I.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${o?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),A.jsx("input",{type:"password",placeholder:"Password",value:m,onChange:I=>g(I.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${o?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),(p||t)&&A.jsx("div",{className:"text-red-500 text-sm",children:p||t}),A.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Loading...":"Sign In"}),A.jsx("div",{className:"mt-4 text-center",children:A.jsx(Qi,{to:"/signup",className:"text-blue-600 hover:underline",children:"Don't have an account? Sign Up"})})]})]})]})})};function JD(r){const e=[];return r.length<8&&e.push("At least 8 characters"),/[A-Z]/.test(r)||e.push("One uppercase letter"),/[a-z]/.test(r)||e.push("One lowercase letter"),/[0-9]/.test(r)||e.push("One number"),/[^A-Za-z0-9]/.test(r)||e.push("One special character"),e}const e4=()=>{const{user:r,loading:e,error:t,signUp:s,signIn:o}=fs(),{isDarkMode:u}=Vo(),[h,m]=j.useState(!1),[g,p]=j.useState(""),[_,b]=j.useState(""),[w,I]=j.useState(null),[C,U]=j.useState(""),[V,K]=j.useState(""),[ee,ie]=j.useState(""),[de,le]=j.useState(""),[_e,M]=j.useState(null),x=wu();j.useEffect(()=>{if(!h||!_){I(null);return}let k=!0;I("checking");const B=setTimeout(async()=>{console.log("CHECKING AVAILABILITY FOR:",_,"(lowercased:",_.toLowerCase(),")");const O=un(tn,"usernames",_.toLowerCase());console.log("Checking username",_);const pt=await Ao(O);k&&I(pt.exists()?"taken":"available")},500);return()=>{k=!1,clearTimeout(B)}},[_,h]);const R=h?JD(ee):[];j.useEffect(()=>{u?(document.documentElement.classList.add("dark"),document.body.classList.add("dark"),document.getElementById("root")?.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"),document.getElementById("root")?.classList.remove("dark"))},[u]),j.useEffect(()=>{r&&x("/home")},[r,x]);const P=async k=>{if(k.preventDefault(),M(null),h){if(!_||!C||!V||!ee||!de){M("Please fill in all fields.");return}if(w==="taken"){M("Username already taken.");return}if(ee!==de){M("Passwords do not match.");return}if(R.length>0){M("Password does not meet requirements.");return}await s({username:_,dob:C,email:V,password:ee})}else{if(!g||!ee){M("Please fill in all fields.");return}await o(g,ee)}};return r?null:A.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${u?"text-white dark":"text-slate-900"}`,children:A.jsxs("div",{className:"w-full max-w-md space-y-8",children:[A.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[A.jsxs("div",{className:`relative w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-500 ${u?"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 shadow-lg shadow-blue-500/25":"bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 shadow-lg shadow-blue-500/30"}`,children:[A.jsx("div",{className:"w-6 h-6 border-2 border-white/80 rounded-sm"}),A.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-transparent via-white/10 to-transparent"})]}),A.jsxs("div",{children:[A.jsx("h1",{className:`text-3xl font-bold tracking-tight transition-all duration-500 ${u?"bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent":"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-600 bg-clip-text text-transparent"}`,children:"NEWS.AI"}),A.jsx("p",{className:`text-sm font-medium transition-colors duration-500 ${u?"text-slate-400":"text-slate-500"}`,children:h?"Create your account":"Sign in to your account"})]})]}),A.jsxs("div",{className:"card-glass",children:[A.jsx("h2",{className:`mb-6 text-2xl font-bold text-center bg-gradient-to-r ${u?"from-white via-gray-200 to-gray-400":"from-slate-900 via-slate-700 to-slate-600"} bg-clip-text text-transparent`,children:h?"Sign Up":"Sign In"}),A.jsxs("form",{onSubmit:P,className:"space-y-4",children:[h?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"relative",children:[A.jsx("input",{id:"username",type:"text",placeholder:"Username",value:_.toLowerCase(),onChange:k=>{console.log("USERNAME INPUT:",k.target.value),b(k.target.value)},className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),_&&A.jsxs("span",{className:`absolute right-3 top-1/2 -translate-y-1/2 text-xs font-medium ${w==="checking"?"text-yellow-500":w==="taken"?"text-red-500":w==="available"?"text-green-500":""}`,children:[w==="checking"&&"Checking...",w==="taken"&&"Taken",w==="available"&&"Available"]})]}),A.jsx("input",{type:"date",placeholder:"Date of Birth",value:C,onChange:k=>U(k.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),A.jsx("input",{type:"email",placeholder:"Email",value:V,onChange:k=>K(k.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),A.jsxs("div",{children:[A.jsx("input",{type:"password",placeholder:"Password",value:ee,onChange:k=>ie(k.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),ee&&A.jsxs("ul",{className:"mt-1 ml-2 text-xs text-slate-400 space-y-0.5",children:[A.jsx("li",{className:ee.length>=8?"text-green-500":"text-red-500",children:"At least 8 characters"}),A.jsx("li",{className:/[A-Z]/.test(ee)?"text-green-500":"text-red-500",children:"One uppercase letter"}),A.jsx("li",{className:/[a-z]/.test(ee)?"text-green-500":"text-red-500",children:"One lowercase letter"}),A.jsx("li",{className:/[0-9]/.test(ee)?"text-green-500":"text-red-500",children:"One number"}),A.jsx("li",{className:/[^A-Za-z0-9]/.test(ee)?"text-green-500":"text-red-500",children:"One special character"})]})]}),A.jsx("input",{type:"password",placeholder:"Retype Password",value:de,onChange:k=>le(k.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0})]}):A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"text",placeholder:"Email or Username",value:g,onChange:k=>p(k.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0}),A.jsx("input",{type:"password",placeholder:"Password",value:ee,onChange:k=>ie(k.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/20 ${u?"bg-slate-700/50 text-white border-slate-600/50 placeholder-slate-400 focus:border-blue-500/50":"bg-slate-50 text-slate-900 border-slate-200 placeholder-slate-500 focus:border-blue-500"}`,required:!0})]}),(_e||t)&&A.jsx("div",{className:"text-red-500 text-sm",children:_e||t}),A.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Loading...":h?"Sign Up":"Sign In"})]}),A.jsx("div",{className:"mt-4 text-center",children:A.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>{m(!h),M(null),ie(""),le("")},children:h?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})};function eS(r,e){return function(){return r.apply(e,arguments)}}const{toString:t4}=Object.prototype,{getPrototypeOf:qg}=Object,{iterator:Af,toStringTag:tS}=Symbol,Rf=(r=>e=>{const t=t4.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),tr=r=>(r=r.toLowerCase(),e=>Rf(e)===r),xf=r=>e=>typeof e===r,{isArray:Lo}=Array,bu=xf("undefined");function n4(r){return r!==null&&!bu(r)&&r.constructor!==null&&!bu(r.constructor)&&pn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const nS=tr("ArrayBuffer");function r4(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&nS(r.buffer),e}const i4=xf("string"),pn=xf("function"),rS=xf("number"),Cf=r=>r!==null&&typeof r=="object",s4=r=>r===!0||r===!1,Ih=r=>{if(Rf(r)!=="object")return!1;const e=qg(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tS in r)&&!(Af in r)},a4=tr("Date"),o4=tr("File"),l4=tr("Blob"),u4=tr("FileList"),c4=r=>Cf(r)&&pn(r.pipe),h4=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||pn(r.append)&&((e=Rf(r))==="formdata"||e==="object"&&pn(r.toString)&&r.toString()==="[object FormData]"))},f4=tr("URLSearchParams"),[d4,m4,p4,g4]=["ReadableStream","Request","Response","Headers"].map(tr),y4=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lu(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,o;if(typeof r!="object"&&(r=[r]),Lo(r))for(s=0,o=r.length;s<o;s++)e.call(null,r[s],s,r);else{const u=t?Object.getOwnPropertyNames(r):Object.keys(r),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,r[m],m,r)}}function iS(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sS=r=>!bu(r)&&r!==Zs;function Mp(){const{caseless:r}=sS(this)&&this||{},e={},t=(s,o)=>{const u=r&&iS(e,o)||o;Ih(e[u])&&Ih(s)?e[u]=Mp(e[u],s):Ih(s)?e[u]=Mp({},s):Lo(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Lu(arguments[s],t);return e}const _4=(r,e,t,{allOwnKeys:s}={})=>(Lu(e,(o,u)=>{t&&pn(o)?r[u]=eS(o,t):r[u]=o},{allOwnKeys:s}),r),v4=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),E4=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},b4=(r,e,t,s)=>{let o,u,h;const m={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)h=o[u],(!s||s(h,r,e))&&!m[h]&&(e[h]=r[h],m[h]=!0);r=t!==!1&&qg(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},T4=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},w4=r=>{if(!r)return null;if(Lo(r))return r;let e=r.length;if(!rS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},S4=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&qg(Uint8Array)),A4=(r,e)=>{const s=(r&&r[Af]).call(r);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(r,u[0],u[1])}},R4=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},x4=tr("HTMLFormElement"),C4=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),KE=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),I4=tr("RegExp"),aS=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Lu(t,(o,u)=>{let h;(h=e(o,u,r))!==!1&&(s[u]=h||o)}),Object.defineProperties(r,s)},N4=r=>{aS(r,(e,t)=>{if(pn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(pn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},O4=(r,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Lo(r)?s(r):s(String(r).split(e)),t},D4=()=>{},k4=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function M4(r){return!!(r&&pn(r.append)&&r[tS]==="FormData"&&r[Af])}const P4=r=>{const e=new Array(10),t=(s,o)=>{if(Cf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Lo(s)?[]:{};return Lu(s,(h,m)=>{const g=t(h,o+1);!bu(g)&&(u[m]=g)}),e[o]=void 0,u}}return s};return t(r,0)},V4=tr("AsyncFunction"),L4=r=>r&&(Cf(r)||pn(r))&&pn(r.then)&&pn(r.catch),oS=((r,e)=>r?setImmediate:e?((t,s)=>(Zs.addEventListener("message",({source:o,data:u})=>{o===Zs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Zs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pn(Zs.postMessage)),U4=typeof queueMicrotask<"u"?queueMicrotask.bind(Zs):typeof process<"u"&&process.nextTick||oS,j4=r=>r!=null&&pn(r[Af]),Y={isArray:Lo,isArrayBuffer:nS,isBuffer:n4,isFormData:h4,isArrayBufferView:r4,isString:i4,isNumber:rS,isBoolean:s4,isObject:Cf,isPlainObject:Ih,isReadableStream:d4,isRequest:m4,isResponse:p4,isHeaders:g4,isUndefined:bu,isDate:a4,isFile:o4,isBlob:l4,isRegExp:I4,isFunction:pn,isStream:c4,isURLSearchParams:f4,isTypedArray:S4,isFileList:u4,forEach:Lu,merge:Mp,extend:_4,trim:y4,stripBOM:v4,inherits:E4,toFlatObject:b4,kindOf:Rf,kindOfTest:tr,endsWith:T4,toArray:w4,forEachEntry:A4,matchAll:R4,isHTMLForm:x4,hasOwnProperty:KE,hasOwnProp:KE,reduceDescriptors:aS,freezeMethods:N4,toObjectSet:O4,toCamelCase:C4,noop:D4,toFiniteNumber:k4,findKey:iS,global:Zs,isContextDefined:sS,isSpecCompliantForm:M4,toJSONObject:P4,isAsyncFn:V4,isThenable:L4,setImmediate:oS,asap:U4,isIterable:j4};function Ce(r,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Y.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const lS=Ce.prototype,uS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{uS[r]={value:r}});Object.defineProperties(Ce,uS);Object.defineProperty(lS,"isAxiosError",{value:!0});Ce.from=(r,e,t,s,o,u)=>{const h=Object.create(lS);return Y.toFlatObject(r,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),Ce.call(h,r.message,e,t,s,o),h.cause=r,h.name=r.name,u&&Object.assign(h,u),h};const B4=null;function Pp(r){return Y.isPlainObject(r)||Y.isArray(r)}function cS(r){return Y.endsWith(r,"[]")?r.slice(0,-2):r}function QE(r,e,t){return r?r.concat(e).map(function(o,u){return o=cS(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function z4(r){return Y.isArray(r)&&!r.some(Pp)}const q4=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function If(r,e,t){if(!Y.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,V){return!Y.isUndefined(V[U])});const s=t.metaTokens,o=t.visitor||_,u=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(o))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(Y.isDate(C))return C.toISOString();if(Y.isBoolean(C))return C.toString();if(!g&&Y.isBlob(C))throw new Ce("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(C)||Y.isTypedArray(C)?g&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function _(C,U,V){let K=C;if(C&&!V&&typeof C=="object"){if(Y.endsWith(U,"{}"))U=s?U:U.slice(0,-2),C=JSON.stringify(C);else if(Y.isArray(C)&&z4(C)||(Y.isFileList(C)||Y.endsWith(U,"[]"))&&(K=Y.toArray(C)))return U=cS(U),K.forEach(function(ie,de){!(Y.isUndefined(ie)||ie===null)&&e.append(h===!0?QE([U],de,u):h===null?U:U+"[]",p(ie))}),!1}return Pp(C)?!0:(e.append(QE(V,U,u),p(C)),!1)}const b=[],w=Object.assign(q4,{defaultVisitor:_,convertValue:p,isVisitable:Pp});function I(C,U){if(!Y.isUndefined(C)){if(b.indexOf(C)!==-1)throw Error("Circular reference detected in "+U.join("."));b.push(C),Y.forEach(C,function(K,ee){(!(Y.isUndefined(K)||K===null)&&o.call(e,K,Y.isString(ee)?ee.trim():ee,U,w))===!0&&I(K,U?U.concat(ee):[ee])}),b.pop()}}if(!Y.isObject(r))throw new TypeError("data must be an object");return I(r),e}function YE(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Hg(r,e){this._pairs=[],r&&If(r,this,e)}const hS=Hg.prototype;hS.append=function(e,t){this._pairs.push([e,t])};hS.toString=function(e){const t=e?function(s){return e.call(this,s,YE)}:YE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function H4(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fS(r,e,t){if(!e)return r;const s=t&&t.encode||H4;Y.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Y.isURLSearchParams(e)?e.toString():new Hg(e,t).toString(s),u){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class XE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(s){s!==null&&e(s)})}}const dS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},F4=typeof URLSearchParams<"u"?URLSearchParams:Hg,G4=typeof FormData<"u"?FormData:null,$4=typeof Blob<"u"?Blob:null,K4={isBrowser:!0,classes:{URLSearchParams:F4,FormData:G4,Blob:$4},protocols:["http","https","file","blob","url","data"]},Fg=typeof window<"u"&&typeof document<"u",Vp=typeof navigator=="object"&&navigator||void 0,Q4=Fg&&(!Vp||["ReactNative","NativeScript","NS"].indexOf(Vp.product)<0),Y4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X4=Fg&&window.location.href||"http://localhost",W4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fg,hasStandardBrowserEnv:Q4,hasStandardBrowserWebWorkerEnv:Y4,navigator:Vp,origin:X4},Symbol.toStringTag,{value:"Module"})),nn={...W4,...K4};function Z4(r,e){return If(r,new nn.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return nn.isNode&&Y.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function J4(r){return Y.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ek(r){const e={},t=Object.keys(r);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=r[u];return e}function mS(r){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=u>=t.length;return h=!h&&Y.isArray(o)?o.length:h,g?(Y.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!Y.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Y.isArray(o[h])&&(o[h]=ek(o[h])),!m)}if(Y.isFormData(r)&&Y.isFunction(r.entries)){const t={};return Y.forEachEntry(r,(s,o)=>{e(J4(s),o,t,0)}),t}return null}function tk(r,e,t){if(Y.isString(r))try{return(e||JSON.parse)(r),Y.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const Uu={transitional:dS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Y.isObject(e);if(u&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return o?JSON.stringify(mS(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Z4(e,this.formSerializer).toString();if((m=Y.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return If(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),tk(e)):e}],transformResponse:[function(e){const t=this.transitional||Uu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],r=>{Uu.headers[r]={}});const nk=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rk=r=>{const e={};let t,s,o;return r&&r.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&nk[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},WE=Symbol("internals");function Xl(r){return r&&String(r).trim().toLowerCase()}function Nh(r){return r===!1||r==null?r:Y.isArray(r)?r.map(Nh):String(r)}function ik(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const sk=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ep(r,e,t,s,o){if(Y.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Y.isString(e)){if(Y.isString(s))return e.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(e)}}function ak(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function ok(r,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,g,p){const _=Xl(g);if(!_)throw new Error("header name must be a non-empty string");const b=Y.findKey(o,_);(!b||o[b]===void 0||p===!0||p===void 0&&o[b]!==!1)&&(o[b||g]=Nh(m))}const h=(m,g)=>Y.forEach(m,(p,_)=>u(p,_,g));if(Y.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Y.isString(e)&&(e=e.trim())&&!sk(e))h(rk(e),t);else if(Y.isObject(e)&&Y.isIterable(e)){let m={},g,p;for(const _ of e){if(!Y.isArray(_))throw TypeError("Object iterator must return a key-value pair");m[p=_[0]]=(g=m[p])?Y.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}h(m,t)}else e!=null&&u(t,e,s);return this}get(e,t){if(e=Xl(e),e){const s=Y.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return ik(o);if(Y.isFunction(t))return t.call(this,o,s);if(Y.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xl(e),e){const s=Y.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||ep(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Xl(h),h){const m=Y.findKey(s,h);m&&(!t||ep(s,s[m],m,t))&&(delete s[m],o=!0)}}return Y.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||ep(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Y.forEach(this,(o,u)=>{const h=Y.findKey(s,u);if(h){t[h]=Nh(o),delete t[u];return}const m=e?ak(u):String(u).trim();m!==u&&delete t[u],t[m]=Nh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Y.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[WE]=this[WE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Xl(h);s[m]||(ok(o,h),s[m]=!0)}return Y.isArray(e)?e.forEach(u):u(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(gn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});Y.freezeMethods(gn);function tp(r,e){const t=this||Uu,s=e||t,o=gn.from(s.headers);let u=s.data;return Y.forEach(r,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function pS(r){return!!(r&&r.__CANCEL__)}function Uo(r,e,t){Ce.call(this,r??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(Uo,Ce,{__CANCEL__:!0});function gS(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function lk(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function uk(r,e){r=r||10;const t=new Array(r),s=new Array(r);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(g){const p=Date.now(),_=s[u];h||(h=p),t[o]=g,s[o]=p;let b=u,w=0;for(;b!==o;)w+=t[b++],b=b%r;if(o=(o+1)%r,o===u&&(u=(u+1)%r),p-h<e)return;const I=_&&p-_;return I?Math.round(w*1e3/I):void 0}}function ck(r,e){let t=0,s=1e3/e,o,u;const h=(p,_=Date.now())=>{t=_,o=null,u&&(clearTimeout(u),u=null),r.apply(null,p)};return[(...p)=>{const _=Date.now(),b=_-t;b>=s?h(p,_):(o=p,u||(u=setTimeout(()=>{u=null,h(o)},s-b)))},()=>o&&h(o)]}const Wh=(r,e,t=3)=>{let s=0;const o=uk(50,250);return ck(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,g=h-s,p=o(g),_=h<=m;s=h;const b={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&_?(m-h)/p:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};r(b)},t)},ZE=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},JE=r=>(...e)=>Y.asap(()=>r(...e)),hk=nn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,nn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,fk=nn.hasStandardBrowserEnv?{write(r,e,t,s,o,u){const h=[r+"="+encodeURIComponent(e)];Y.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Y.isString(s)&&h.push("path="+s),Y.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dk(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function mk(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function yS(r,e,t){let s=!dk(e);return r&&(s||t==!1)?mk(r,e):e}const eb=r=>r instanceof gn?{...r}:r;function la(r,e){e=e||{};const t={};function s(p,_,b,w){return Y.isPlainObject(p)&&Y.isPlainObject(_)?Y.merge.call({caseless:w},p,_):Y.isPlainObject(_)?Y.merge({},_):Y.isArray(_)?_.slice():_}function o(p,_,b,w){if(Y.isUndefined(_)){if(!Y.isUndefined(p))return s(void 0,p,b,w)}else return s(p,_,b,w)}function u(p,_){if(!Y.isUndefined(_))return s(void 0,_)}function h(p,_){if(Y.isUndefined(_)){if(!Y.isUndefined(p))return s(void 0,p)}else return s(void 0,_)}function m(p,_,b){if(b in e)return s(p,_);if(b in r)return s(void 0,p)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,_,b)=>o(eb(p),eb(_),b,!0)};return Y.forEach(Object.keys(Object.assign({},r,e)),function(_){const b=g[_]||o,w=b(r[_],e[_],_);Y.isUndefined(w)&&b!==m||(t[_]=w)}),t}const _S=r=>{const e=la({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=gn.from(h),e.url=fS(yS(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(Y.isFormData(t)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[p,..._]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",..._].join("; "))}}if(nn.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(e)),s||s!==!1&&hk(e.url))){const p=o&&u&&fk.read(u);p&&h.set(o,p)}return e},pk=typeof XMLHttpRequest<"u",gk=pk&&function(r){return new Promise(function(t,s){const o=_S(r);let u=o.data;const h=gn.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=o,_,b,w,I,C;function U(){I&&I(),C&&C(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let V=new XMLHttpRequest;V.open(o.method.toUpperCase(),o.url,!0),V.timeout=o.timeout;function K(){if(!V)return;const ie=gn.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),le={data:!m||m==="text"||m==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:ie,config:r,request:V};gS(function(M){t(M),U()},function(M){s(M),U()},le),V=null}"onloadend"in V?V.onloadend=K:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(K)},V.onabort=function(){V&&(s(new Ce("Request aborted",Ce.ECONNABORTED,r,V)),V=null)},V.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,r,V)),V=null},V.ontimeout=function(){let de=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const le=o.transitional||dS;o.timeoutErrorMessage&&(de=o.timeoutErrorMessage),s(new Ce(de,le.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,r,V)),V=null},u===void 0&&h.setContentType(null),"setRequestHeader"in V&&Y.forEach(h.toJSON(),function(de,le){V.setRequestHeader(le,de)}),Y.isUndefined(o.withCredentials)||(V.withCredentials=!!o.withCredentials),m&&m!=="json"&&(V.responseType=o.responseType),p&&([w,C]=Wh(p,!0),V.addEventListener("progress",w)),g&&V.upload&&([b,I]=Wh(g),V.upload.addEventListener("progress",b),V.upload.addEventListener("loadend",I)),(o.cancelToken||o.signal)&&(_=ie=>{V&&(s(!ie||ie.type?new Uo(null,r,V):ie),V.abort(),V=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const ee=lk(o.url);if(ee&&nn.protocols.indexOf(ee)===-1){s(new Ce("Unsupported protocol "+ee+":",Ce.ERR_BAD_REQUEST,r));return}V.send(u||null)})},yk=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(p){if(!o){o=!0,m();const _=p instanceof Error?p:this.reason;s.abort(_ instanceof Ce?_:new Uo(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,u(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),r=null)};r.forEach(p=>p.addEventListener("abort",u));const{signal:g}=s;return g.unsubscribe=()=>Y.asap(m),g}},_k=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,o;for(;s<t;)o=s+e,yield r.slice(s,o),s=o},vk=async function*(r,e){for await(const t of Ek(r))yield*_k(t,e)},Ek=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},tb=(r,e,t,s)=>{const o=vk(r,e);let u=0,h,m=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:p,value:_}=await o.next();if(p){m(),g.close();return}let b=_.byteLength;if(t){let w=u+=b;t(w)}g.enqueue(new Uint8Array(_))}catch(p){throw m(p),p}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},Nf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vS=Nf&&typeof ReadableStream=="function",bk=Nf&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),ES=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Tk=vS&&ES(()=>{let r=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),nb=64*1024,Lp=vS&&ES(()=>Y.isReadableStream(new Response("").body)),Zh={stream:Lp&&(r=>r.body)};Nf&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zh[e]&&(Zh[e]=Y.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const wk=async r=>{if(r==null)return 0;if(Y.isBlob(r))return r.size;if(Y.isSpecCompliantForm(r))return(await new Request(nn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(r)||Y.isArrayBuffer(r))return r.byteLength;if(Y.isURLSearchParams(r)&&(r=r+""),Y.isString(r))return(await bk(r)).byteLength},Sk=async(r,e)=>{const t=Y.toFiniteNumber(r.getContentLength());return t??wk(e)},Ak=Nf&&(async r=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:p,headers:_,withCredentials:b="same-origin",fetchOptions:w}=_S(r);p=p?(p+"").toLowerCase():"text";let I=yk([o,u&&u.toAbortSignal()],h),C;const U=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let V;try{if(g&&Tk&&t!=="get"&&t!=="head"&&(V=await Sk(_,s))!==0){let le=new Request(e,{method:"POST",body:s,duplex:"half"}),_e;if(Y.isFormData(s)&&(_e=le.headers.get("content-type"))&&_.setContentType(_e),le.body){const[M,x]=ZE(V,Wh(JE(g)));s=tb(le.body,nb,M,x)}}Y.isString(b)||(b=b?"include":"omit");const K="credentials"in Request.prototype;C=new Request(e,{...w,signal:I,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:K?b:void 0});let ee=await fetch(C,w);const ie=Lp&&(p==="stream"||p==="response");if(Lp&&(m||ie&&U)){const le={};["status","statusText","headers"].forEach(R=>{le[R]=ee[R]});const _e=Y.toFiniteNumber(ee.headers.get("content-length")),[M,x]=m&&ZE(_e,Wh(JE(m),!0))||[];ee=new Response(tb(ee.body,nb,M,()=>{x&&x(),U&&U()}),le)}p=p||"text";let de=await Zh[Y.findKey(Zh,p)||"text"](ee,r);return!ie&&U&&U(),await new Promise((le,_e)=>{gS(le,_e,{data:de,headers:gn.from(ee.headers),status:ee.status,statusText:ee.statusText,config:r,request:C})})}catch(K){throw U&&U(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,r,C),{cause:K.cause||K}):Ce.from(K,K&&K.code,r,C)}}),Up={http:B4,xhr:gk,fetch:Ak};Y.forEach(Up,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const rb=r=>`- ${r}`,Rk=r=>Y.isFunction(r)||r===null||r===!1,bS={getAdapter:r=>{r=Y.isArray(r)?r:[r];const{length:e}=r;let t,s;const o={};for(let u=0;u<e;u++){t=r[u];let h;if(s=t,!Rk(t)&&(s=Up[(h=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(rb).join(`
`):" "+rb(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Up};function np(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Uo(null,r)}function ib(r){return np(r),r.headers=gn.from(r.headers),r.data=tp.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),bS.getAdapter(r.adapter||Uu.adapter)(r).then(function(s){return np(r),s.data=tp.call(r,r.transformResponse,s),s.headers=gn.from(s.headers),s},function(s){return pS(s)||(np(r),s&&s.response&&(s.response.data=tp.call(r,r.transformResponse,s.response),s.response.headers=gn.from(s.response.headers))),Promise.reject(s)})}const TS="1.10.0",Of={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Of[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const sb={};Of.transitional=function(e,t,s){function o(u,h){return"[Axios v"+TS+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Ce(o(h," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!sb[h]&&(sb[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};Of.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function xk(r,e,t){if(typeof r!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=r[u],g=m===void 0||h(m,u,r);if(g!==!0)throw new Ce("option "+u+" must be "+g,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const Oh={assertOptions:xk,validators:Of},vr=Oh.validators;let ea=class{constructor(e){this.defaults=e||{},this.interceptors={request:new XE,response:new XE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=la(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&Oh.assertOptions(s,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),o!=null&&(Y.isFunction(o)?t.paramsSerializer={serialize:o}:Oh.assertOptions(o,{encode:vr.function,serialize:vr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Oh.assertOptions(t,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Y.merge(u.common,u[t.method]);u&&Y.forEach(["delete","get","head","post","put","patch","common"],C=>{delete u[C]}),t.headers=gn.concat(h,u);const m=[];let g=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(t)===!1||(g=g&&U.synchronous,m.unshift(U.fulfilled,U.rejected))});const p=[];this.interceptors.response.forEach(function(U){p.push(U.fulfilled,U.rejected)});let _,b=0,w;if(!g){const C=[ib.bind(this),void 0];for(C.unshift.apply(C,m),C.push.apply(C,p),w=C.length,_=Promise.resolve(t);b<w;)_=_.then(C[b++],C[b++]);return _}w=m.length;let I=t;for(b=0;b<w;){const C=m[b++],U=m[b++];try{I=C(I)}catch(V){U.call(this,V);break}}try{_=ib.call(this,I)}catch(C){return Promise.reject(C)}for(b=0,w=p.length;b<w;)_=_.then(p[b++],p[b++]);return _}getUri(e){e=la(this.defaults,e);const t=yS(e.baseURL,e.url,e.allowAbsoluteUrls);return fS(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){ea.prototype[e]=function(t,s){return this.request(la(s||{},{method:e,url:t,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(la(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}ea.prototype[e]=t(),ea.prototype[e+"Form"]=t(!0)});let Ck=class wS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new Uo(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wS(function(o){e=o}),cancel:e}}};function Ik(r){return function(t){return r.apply(null,t)}}function Nk(r){return Y.isObject(r)&&r.isAxiosError===!0}const jp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jp).forEach(([r,e])=>{jp[e]=r});function SS(r){const e=new ea(r),t=eS(ea.prototype.request,e);return Y.extend(t,ea.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return SS(la(r,o))},t}const Et=SS(Uu);Et.Axios=ea;Et.CanceledError=Uo;Et.CancelToken=Ck;Et.isCancel=pS;Et.VERSION=TS;Et.toFormData=If;Et.AxiosError=Ce;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=Ik;Et.isAxiosError=Nk;Et.mergeConfig=la;Et.AxiosHeaders=gn;Et.formToJSON=r=>mS(Y.isHTMLForm(r)?new FormData(r):r);Et.getAdapter=bS.getAdapter;Et.HttpStatusCode=jp;Et.default=Et;const{Axios:Kk,AxiosError:Qk,CanceledError:Yk,isCancel:Xk,CancelToken:Wk,VERSION:Zk,all:Jk,Cancel:eM,isAxiosError:tM,spread:nM,toFormData:rM,AxiosHeaders:iM,HttpStatusCode:sM,formToJSON:aM,getAdapter:oM,mergeConfig:lM}=Et,Ok={baseUrl:"https://newsdotai-backend.onrender.com/api"},AS=()=>!0,RS=Et.create({baseURL:Ok.baseUrl,timeout:1e4,headers:{"Content-Type":"application/json"}});RS.interceptors.response.use(r=>r,r=>{throw r.response?.status===429?new Error("Rate limit exceeded. Please try again later."):r.response?.status===401?new Error("Invalid API key. Please check your configuration."):r.response?.status===422?new Error("Invalid parameters. Please check your search criteria."):new Error("Failed to fetch news. Please try again.")});const Dk={async searchNews(r){try{return(await RS.get("/news",{params:{...r,...r.q&&{q:r.q},...r.language&&{language:r.language},...r.country&&{country:r.country},...r.category&&{category:r.category},...r.page&&{page:r.page}}})).data}catch(e){throw e}},async searchMultipleTopics(r){const e=r.map(async({label:s,topic:o})=>{try{const u=await this.searchNews({q:s});return{label:s,topic:o,articles:u.results||[]}}catch{return{label:s,topic:o,articles:[]}}});return await Promise.all(e)},isApiKeyConfigured(){return AS()}},kk={sportingcp:[{title:"Sporting CP vence Benfica por 2-1 no derby de Lisboa",description:"O Sporting CP conquistou uma vitria importante no derby de Lisboa, vencendo o Benfica por 2-1 com golos de Viktor Gykeres e Pedro Gonalves. A equipa de Rben Amorim mantm a liderana da Liga.",link:"https://www.record.pt/futebol/futebol-nacional/liga-bwin/sporting/detalhe/sporting-vence-benfica-2-1-no-derby-de-lisboa",publishedAt:"2025-01-20T15:30:00.000Z",source_name:"Record",source_url:"https://www.record.pt",image_url:"https://cdn.record.pt/images/2025-01/sporting-benfica-derby.jpg",category:["sports"],country:["portugal"],language:"portuguese"},{title:"Gykeres marca hat-trick na vitria do Sporting sobre o Porto",description:"Viktor Gykeres foi o heri da noite ao marcar trs golos na vitria do Sporting por 3-0 sobre o FC Porto. O avanado sueco est em excelente forma esta temporada.",link:"https://www.ojogo.pt/futebol/1a-liga/sporting/noticias/gyokeres-hat-trick-sporting-porto",publishedAt:"2025-01-19T20:15:00.000Z",source_name:"O Jogo",source_url:"https://www.ojogo.pt",image_url:"https://cdn.ojogo.pt/images/2025-01/gyokeres-hat-trick.jpg",category:["sports"],country:["portugal"],language:"portuguese"},{title:"Sporting CP anuncia renovao de contrato de Rben Amorim",description:"O Sporting CP anunciou hoje a renovao do contrato do treinador Rben Amorim at 2027. O tcnico portugus continuar  frente da equipa leonina.",link:"https://www.abola.pt/futebol/2025-01-18/sporting-renova-amorim-ate-2027",publishedAt:"2025-01-18T12:00:00.000Z",source_name:"A Bola",source_url:"https://www.abola.pt",image_url:"https://cdn.abola.pt/images/2025-01/amorim-renovacao.jpg",category:["sports"],country:["portugal"],language:"portuguese"}],technology:[{title:"Apple anuncia novo iPhone 17 com inteligncia artificial avanada",description:"A Apple revelou o novo iPhone 17 com capacidades de IA integradas, incluindo processamento de linguagem natural e reconhecimento de imagem melhorado. O dispositivo chega s lojas em setembro.",link:"https://www.theverge.com/2025/01/20/apple-iphone-17-ai-features",publishedAt:"2025-01-20T14:00:00.000Z",source_name:"The Verge",source_url:"https://www.theverge.com",image_url:"https://cdn.vox-cdn.com/thumbor/iphone17-ai.jpg",category:["technology"],country:["united states"],language:"english"},{title:"OpenAI lana GPT-5 com capacidades multimodais revolucionrias",description:"A OpenAI anunciou o lanamento do GPT-5, a verso mais avanada do seu modelo de linguagem. A nova verso inclui capacidades multimodais e melhor compreenso contextual.",link:"https://techcrunch.com/2025/01/19/openai-gpt5-multimodal",publishedAt:"2025-01-19T16:30:00.000Z",source_name:"TechCrunch",source_url:"https://techcrunch.com",image_url:"https://techcrunch.com/wp-content/uploads/gpt5-announcement.jpg",category:["technology"],country:["united states"],language:"english"},{title:"Tesla revela novo modelo de carro eltrico com autonomia de 800km",description:"A Tesla apresentou o seu mais recente modelo de carro eltrico com uma autonomia impressionante de 800km. O veculo tambm inclui tecnologia de conduo autnoma de nvel 4.",link:"https://www.engadget.com/tesla-new-ev-800km-range",publishedAt:"2025-01-18T10:15:00.000Z",source_name:"Engadget",source_url:"https://www.engadget.com",image_url:"https://o.aolcdn.com/images/tesla-new-model.jpg",category:["technology"],country:["united states"],language:"english"}],business:[{title:"Bitcoin atinge novo mximo histrico de $100,000",description:"O Bitcoin atingiu um novo mximo histrico de $100,000, impulsionado pela adoo institucional e regulamentao mais clara nos Estados Unidos. A criptomoeda lidera um rally no mercado digital.",link:"https://www.bloomberg.com/news/articles/bitcoin-100k-record",publishedAt:"2025-01-20T13:45:00.000Z",source_name:"Bloomberg",source_url:"https://www.bloomberg.com",image_url:"https://assets.bwbx.io/bitcoin-chart.jpg",category:["business"],country:["united states"],language:"english"},{title:"Microsoft anuncia aquisio de startup de IA por $10 mil milhes",description:"A Microsoft anunciou a aquisio de uma startup especializada em inteligncia artificial por $10 mil milhes. A aquisio refora a posio da empresa no mercado de IA.",link:"https://www.reuters.com/microsoft-ai-startup-acquisition",publishedAt:"2025-01-19T09:20:00.000Z",source_name:"Reuters",source_url:"https://www.reuters.com",image_url:"https://www.reuters.com/pf/resources/microsoft-ai.jpg",category:["business"],country:["united states"],language:"english"},{title:"Amazon lana novo servio de entrega por drone em Portugal",description:"A Amazon anunciou o lanamento do seu servio de entrega por drone em Portugal, comeando por Lisboa. O servio promete entregas em menos de 30 minutos.",link:"https://www.publico.pt/2025/01/18/amazon-drone-delivery-portugal",publishedAt:"2025-01-18T11:30:00.000Z",source_name:"Pblico",source_url:"https://www.publico.pt",image_url:"https://imagens.publico.pt/amazon-drone.jpg",category:["business"],country:["portugal"],language:"portuguese"}],politics:[{title:"Eleies presidenciais em Portugal: candidatos apresentam propostas",description:"Os candidatos s eleies presidenciais em Portugal apresentaram as suas propostas principais. A campanha eleitoral aquece com debates televisivos marcados para as prximas semanas.",link:"https://www.dn.pt/politica/eleicoes-presidenciais-candidatos-propostas",publishedAt:"2025-01-20T12:00:00.000Z",source_name:"Dirio de Notcias",source_url:"https://www.dn.pt",image_url:"https://cdn.dn.pt/images/eleicoes-presidenciais.jpg",category:["politics"],country:["portugal"],language:"portuguese"},{title:"Unio Europeia aprova novo pacote de medidas climticas",description:"A Unio Europeia aprovou um novo pacote de medidas climticas ambicioso, incluindo metas de reduo de emisses de 55% at 2030. O acordo foi celebrado como um marco histrico.",link:"https://www.euractiv.com/eu-climate-package-approved",publishedAt:"2025-01-19T15:45:00.000Z",source_name:"EURACTIV",source_url:"https://www.euractiv.com",image_url:"https://www.euractiv.com/wp-content/uploads/eu-climate.jpg",category:["politics"],country:["belgium"],language:"english"},{title:"NATO anuncia exerccios militares conjuntos no Bltico",description:"A NATO anunciou a realizao de exerccios militares conjuntos no Mar Bltico com a participao de 15 pases membros. Os exerccios visam demonstrar a unidade da aliana.",link:"https://www.nato.int/cps/en/natohq/news_baltic-exercises",publishedAt:"2025-01-18T08:30:00.000Z",source_name:"NATO",source_url:"https://www.nato.int",image_url:"https://www.nato.int/images/baltic-exercises.jpg",category:["politics"],country:["belgium"],language:"english"}],entertainment:[{title:"Festival de Cannes anuncia programao para 2025",description:"O Festival de Cannes revelou a programao oficial para a edio de 2025, com filmes de realizadores consagrados e estreantes. O festival decorre de 14 a 25 de maio.",link:"https://www.variety.com/cannes-2025-lineup",publishedAt:"2025-01-20T10:15:00.000Z",source_name:"Variety",source_url:"https://www.variety.com",image_url:"https://variety.com/wp-content/uploads/cannes-2025.jpg",category:["entertainment"],country:["france"],language:"english"},{title:"Taylor Swift anuncia nova tour mundial para 2025",description:"Taylor Swift anunciou uma nova tour mundial para 2025, incluindo datas em Portugal. A cantora promete um espetculo ainda mais impressionante que o anterior.",link:"https://www.billboard.com/taylor-swift-2025-tour",publishedAt:"2025-01-19T14:20:00.000Z",source_name:"Billboard",source_url:"https://www.billboard.com",image_url:"https://www.billboard.com/wp-content/uploads/taylor-swift-tour.jpg",category:["entertainment"],country:["united states"],language:"english"},{title:"Netflix anuncia nova srie portuguesa com atores internacionais",description:"A Netflix anunciou uma nova srie portuguesa com atores internacionais. A produo ser filmada em Lisboa e Porto, com estreia prevista para 2026.",link:"https://www.expresso.pt/cultura/netflix-serie-portuguesa",publishedAt:"2025-01-18T16:00:00.000Z",source_name:"Expresso",source_url:"https://www.expresso.pt",image_url:"https://cdn.expresso.pt/images/netflix-portugal.jpg",category:["entertainment"],country:["portugal"],language:"portuguese"}]},Mk=r=>kk[r.toLowerCase()]||[],Pk=()=>{const[r,e]=j.useState([]),[t,s]=j.useState(!1),[o,u]=j.useState(null),h=j.useCallback(async(p,_=!1)=>{s(!0),u(null);try{let b;_?b=p.map(({label:I,topic:C})=>{const U=Mk(C);return{label:I,topic:C,articles:U}}):b=await Dk.searchMultipleTopics(p);const w=b.map(I=>{const C=I.articles.map(U=>!U||typeof U!="object"?{title:"Invalid article",url:"#",publishedAt:new Date().toISOString(),source:{name:"Unknown Source"},description:"Invalid article data"}:{...U,title:U.title||"No title",url:U.link||U.url||"#",publishedAt:U.publishedAt||U.pubDate||new Date().toISOString(),source:{name:U.source_name||U.source?.name||"Unknown Source",url:U.source_url||U.source?.url},description:U.description||U.content||"No description available",image:U.image_url||U.image});return{...I,articles:C}});e(w)}catch(b){u(b instanceof Error?b.message:"Failed to fetch news")}finally{s(!1)}},[]),m=j.useCallback(()=>{e([]),u(null)},[]),g=j.useMemo(()=>AS(),[]);return{topicsWithNews:r,isLoading:t,error:o,fetchNews:h,clearNews:m,isApiKeyConfigured:g}},Vk=()=>{const{user:r}=fs(),[e,t]=j.useState([]),[s,o]=j.useState(!0),[u,h]=j.useState(null);return j.useEffect(()=>{if(!r?.uid){t([]),o(!1);return}o(!0);const b=BE(tn,"users",r.uid,"topics"),w=HD(b,FD("createdAt","desc")),I=zg(w,C=>{const U=C.docs.map(V=>({id:V.id,label:V.data().label,topic:V.data().topic,createdAt:V.data().createdAt?.toDate()||new Date,updatedAt:V.data().updatedAt?.toDate()||new Date}));t(U),o(!1)},C=>{console.error("Error fetching topics:",C),h("Failed to load topics"),o(!1)});return()=>I()},[r?.uid]),{topics:e,loading:s,error:u,addTopic:async(b,w)=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const I=BE(tn,"users",r.uid,"topics");await KD(I,{label:b.trim(),topic:w.trim(),createdAt:Ki(),updatedAt:Ki()})}catch(I){throw console.error("Error adding topic:",I),h("Failed to add topic"),I}},editTopic:async(b,w,I)=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const C=un(tn,"users",r.uid,"topics",b);await Bg(C,{label:w.trim(),topic:I.trim(),updatedAt:Ki()})}catch(C){throw console.error("Error updating topic:",C),h("Failed to update topic"),C}},deleteTopic:async b=>{if(!r?.uid){h("User not authenticated");return}try{h(null);const w=un(tn,"users",r.uid,"topics",b);await Xw(w)}catch(w){throw console.error("Error deleting topic:",w),h("Failed to delete topic"),w}},clearError:()=>{h(null)}}};function Lk({topicsWithNews:r,isDarkMode:e}){const t=o=>{if(!o)return"No date";const u=new Date(o);if(isNaN(u.getTime()))return"No date";try{return u.toLocaleDateString("pt-PT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"No date"}},s=(o,u)=>o.length<=u?o:o.substring(0,u)+"...";return A.jsx("div",{className:"space-y-6",children:r.map((o,u)=>A.jsxs("div",{className:`p-6 rounded-3xl transition-all duration-500 ${e?"bg-slate-800/30 backdrop-blur-xl border border-slate-700/50 shadow-2xl shadow-black/20":"bg-white/80 backdrop-blur-xl border border-slate-200/50 shadow-2xl shadow-slate-200/50"}`,children:[A.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[A.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-blue-400":"bg-blue-500"}`}),A.jsx("h3",{className:`text-xl font-bold transition-colors duration-500 ${e?"text-slate-200":"text-slate-800"}`,children:o.label}),A.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 ${e?"text-slate-300 bg-slate-600/50":"text-slate-600 bg-slate-200"}`,children:o.topic}),o.isLoading&&A.jsx("div",{className:`w-4 h-4 border-2 border-t-transparent rounded-full animate-spin ${e?"border-slate-400":"border-slate-600"}`})]}),o.isLoading&&A.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>A.jsx("div",{className:`animate-pulse ${e?"bg-slate-700/50":"bg-slate-200"} rounded-2xl h-32`},h))}),o.error&&A.jsx("div",{className:`p-4 rounded-2xl border ${e?"bg-red-900/20 border-red-700/50 text-red-300":"bg-red-50 border-red-200 text-red-700"}`,children:A.jsxs("p",{className:"font-medium",children:["Error: ",o.error]})}),!o.isLoading&&!o.error&&o.articles.length>0&&A.jsx("div",{className:"space-y-4",children:o.articles.slice(0,5).map((h,m)=>A.jsxs("article",{className:`p-4 rounded-2xl transition-all duration-300 hover:scale-[1.02] ${e?"bg-slate-700/50 border border-slate-600/50 hover:bg-slate-700/70":"bg-slate-50 border border-slate-200 hover:bg-white shadow-sm"}`,children:[A.jsxs("div",{className:"flex space-x-4",children:[(h.image||h.image_url)&&(h.image||h.image_url)?.trim()!==""&&A.jsx("div",{className:"flex-shrink-0",children:A.jsx("img",{src:h.image||h.image_url||"",alt:h.title,className:"w-20 h-20 object-cover rounded-xl",onError:g=>{const p=g.target;p.style.display="none"}})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("h4",{className:`font-semibold mb-2 transition-colors duration-300 ${e?"text-white":"text-slate-900"}`,children:s(h.title,80)}),A.jsx("p",{className:`text-sm mb-3 transition-colors duration-300 ${e?"text-slate-300":"text-slate-600"}`,children:s(h.description||h.content||"No description available",120)}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:`text-xs font-medium transition-colors duration-300 ${e?"text-slate-400":"text-slate-500"}`,children:h.source?.name||"Unknown Source"}),A.jsx("span",{className:`text-xs transition-colors duration-300 ${e?"text-slate-400":"text-slate-500"}`,children:t(h.publishedAt)})]})]})]}),h.url&&A.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:`mt-3 inline-flex items-center text-sm font-medium transition-colors duration-300 ${e?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,onClick:()=>{window.open(h.url,"_blank","noopener,noreferrer")},children:["Ler mais",A.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]},m))}),!o.isLoading&&!o.error&&o.articles.length===0&&A.jsx("div",{className:`p-4 rounded-2xl border ${e?"bg-slate-700/30 border-slate-600/50 text-slate-400":"bg-slate-50 border-slate-200 text-slate-600"}`,children:A.jsxs("p",{className:"text-center",children:['Nenhuma notcia encontrada para "',o.label,'"']})})]},`${o.label}-${u}`))})}function ab({options:r,value:e,onChange:t,placeholder:s,isDarkMode:o}){const[u,h]=j.useState(!1),[m,g]=j.useState(-1),p=j.useRef(null),_=r.find(I=>I.value===e);j.useEffect(()=>{const I=C=>{p.current&&!p.current.contains(C.target)&&(h(!1),g(-1))};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const b=()=>{h(!u)},w=I=>{switch(I.key){case"ArrowDown":I.preventDefault(),g(C=>C<r.length-1?C+1:0);break;case"ArrowUp":I.preventDefault(),g(C=>C>0?C-1:r.length-1);break;case"Enter":I.preventDefault(),m>=0?(t(r[m].value),h(!1),g(-1)):h(!u);break;case"Escape":h(!1),g(-1);break}};return A.jsxs("div",{className:"relative dropdown-force-top",ref:p,style:{zIndex:999999},children:[A.jsx("button",{type:"button",onClick:b,onKeyDown:w,className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-300 focus:outline-none focus:ring-4 text-left ${o?"bg-slate-700/50 text-white border-slate-600/50 focus:border-blue-500/50 focus:ring-blue-500/20":"bg-white/80 text-slate-900 border-slate-300 focus:border-blue-500 focus:ring-blue-500/20 shadow-sm"}`,tabIndex:0,children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:_?"":"text-slate-500",children:_?_.label:s}),A.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${u?"rotate-180":""} ${o?"text-slate-400":"text-slate-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),u&&A.jsx("div",{className:`absolute w-full mt-2 rounded-xl border-2 shadow-2xl transition-all duration-200 dropdown-force-top ${o?"bg-slate-800/95 border-slate-600/50 backdrop-blur-xl":"bg-white/95 border-slate-200 backdrop-blur-xl"}`,style:{zIndex:999999},children:A.jsx("div",{className:"py-2 max-h-60 overflow-y-auto",children:r.map((I,C)=>A.jsxs("button",{type:"button",onClick:U=>{U.preventDefault(),U.stopPropagation(),t(I.value),h(!1),g(-1)},onMouseEnter:()=>g(C),className:`w-full px-4 py-3 text-left transition-all duration-200 flex items-center space-x-3 ${C===m?o?"bg-blue-600/20 text-blue-300":"bg-blue-50 text-blue-700":""} ${I.value===e?o?"bg-blue-600/30 text-blue-200 font-semibold":"bg-blue-100 text-blue-800 font-semibold":o?"text-slate-200 hover:bg-slate-700/50":"text-slate-700 hover:bg-slate-50"}`,children:[A.jsx("div",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center",children:I.value===e&&A.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:A.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("span",{className:`${I.isMock?o?"text-purple-300 font-semibold":"text-purple-600 font-semibold":""}`,children:I.label}),I.isMock&&A.jsx("span",{className:`ml-2 text-xs px-2 py-1 rounded-full ${o?"bg-purple-600/20 text-purple-300":"bg-purple-100 text-purple-600"}`,children:"MOCK"})]})]},I.value))})})]})}function Uk(){const{isDarkMode:r}=Vo(),[e,t]=j.useState(""),[s,o]=j.useState(""),[u,h]=j.useState(!1),[m,g]=j.useState(null),[p,_]=j.useState(""),[b,w]=j.useState(""),[I,C]=j.useState(""),{topics:U,loading:V,error:K,addTopic:ee,editTopic:ie,deleteTopic:de,clearError:le}=Vk(),{topicsWithNews:_e,isLoading:M,error:x,fetchNews:R,clearNews:P,isApiKeyConfigured:k}=Pk(),B=async()=>{if(!e||!s)return;if(U.some(D=>D.label.toLowerCase()===e.toLowerCase())){C("This label already exists! Please use a different label."),setTimeout(()=>C(""),3e3);return}try{await ee(e,s),t(""),o(""),I&&C("")}catch{C("Failed to add topic. Please try again."),setTimeout(()=>C(""),3e3)}},O=async()=>{U.length!==0&&await R(U,u)},pt=()=>{P()},it=be=>{g(be),_(U[be].label),w(U[be].topic)},X=async()=>{if(m!==null&&p&&b)try{const be=U[m];await ie(be.id,p,b),g(null),_(""),w(""),I&&C("")}catch{C("Failed to update topic. Please try again."),setTimeout(()=>C(""),3e3)}},oe=()=>{g(null),_(""),w("")},me=async be=>{try{const D=U[be];await de(D.id),I&&C("")}catch{C("Failed to delete topic. Please try again."),setTimeout(()=>C(""),3e3)}};return K&&!I&&(C(K),setTimeout(()=>{C(""),le()},3e3)),A.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${r?"bg-glass-gradient text-white":"bg-glass-gradient-light text-slate-900"}`,children:A.jsxs("div",{className:`card-glass${r?"":"-light"} w-full max-w-2xl space-y-8`,children:[A.jsx("div",{className:"flex justify-end mb-4",children:A.jsxs("button",{onClick:()=>h(!u),className:`relative px-4 py-2 rounded-xl transition-all duration-300 hover:scale-105 group ${u?"bg-purple-600/80 border border-purple-500/50 hover:bg-purple-500/80 text-white":r?"bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 text-white":"bg-white/80 border border-slate-200/50 hover:bg-white text-slate-700 shadow-lg"}`,children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-500 ${u?"bg-purple-300":"bg-slate-400"}`}),A.jsx("span",{className:"text-sm font-medium",children:u?"MOCKi":"API"})]}),A.jsx("div",{className:`absolute inset-0 rounded-xl transition-all duration-300 ${u?"bg-gradient-to-r from-transparent via-purple-500/10 to-transparent":r?"bg-gradient-to-r from-transparent via-white/5 to-transparent":"bg-gradient-to-r from-transparent via-slate-500/5 to-transparent"}`})]})}),A.jsxs("div",{className:`space-y-6 rounded-2xl border ${r?"bg-slate-800/30 border-slate-700":"bg-white/90 border-slate-200 shadow"} p-6`,children:[A.jsxs("div",{className:"space-y-4",children:[A.jsx("label",{className:r?"block text-sm font-bold mb-2":"block text-sm font-bold mb-2 text-slate-900",htmlFor:"topic-label",children:"TOPIC LABEL"}),A.jsx("input",{id:"topic-label",type:"text",placeholder:"Enter topic keywords...",value:e,onChange:be=>{t(be.target.value),I&&C("")},className:r?"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"input-light"}),A.jsx("label",{className:r?"block text-sm font-bold mb-2":"block text-sm font-bold mb-2 text-slate-900",htmlFor:"category",children:"CATEGORY"}),A.jsx(ab,{options:[{value:"Technology",label:"Technology"},{value:"Finance",label:"Finance"},{value:"Sports",label:"Sports"},{value:"Politics",label:"Politics"},{value:"Science",label:"Science"},...u?[{value:"sportingcp",label:"Sporting CP",isMock:!0},{value:"technology",label:"Technology",isMock:!0},{value:"business",label:"Business",isMock:!0},{value:"politics",label:"Politics",isMock:!0},{value:"entertainment",label:"Entertainment",isMock:!0}]:[]],value:s,onChange:be=>{o(be),I&&C("")},placeholder:"Select category",isDarkMode:r})]}),A.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[A.jsx("button",{onClick:B,disabled:!e||!s||V,className:r?"btn-primary":"btn-primary-light",children:A.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[V?A.jsx("div",{className:"w-5 h-5 border-2 border-white/80 border-t-transparent rounded-full animate-spin"}):A.jsx("div",{className:`w-5 h-5 border-2 rounded-sm ${r?"border-white/80":"border-white/90"}`}),A.jsx("span",{children:V?"ADDING...":"ADD TOPIC"})]})}),A.jsx("button",{onClick:O,disabled:U.length===0||M||!k&&!u,className:r?"btn-primary":"btn-primary-light",children:A.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[M?A.jsx("div",{className:"w-5 h-5 border-2 border-white/80 border-t-transparent rounded-full animate-spin"}):A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),A.jsx("span",{children:M?"SEARCHING...":"SEARCH NEWS"})]})}),A.jsx("button",{onClick:pt,disabled:U.length===0&&_e.length===0,className:r?"btn-primary":"btn-primary-light",children:A.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),A.jsx("span",{children:"CLEAR ALL"})]})})]})]}),I&&A.jsx("div",{className:`p-4 rounded-2xl border transition-all duration-300 ${r?"bg-red-900/20 border-red-700/50 text-red-300":"bg-red-50 border-red-200 text-red-700"}`,children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),A.jsx("p",{className:"font-medium",children:I})]})}),A.jsx("div",{className:"h-4"}),!k&&A.jsxs("div",{className:`p-4 rounded-2xl border ${r?"bg-yellow-900/20 border-yellow-700/50 text-yellow-300":"bg-yellow-50 border-yellow-200 text-yellow-700"}`,children:[A.jsx("p",{className:"font-medium",children:" Backend Connection Required"}),A.jsx("p",{className:"text-sm mt-1",children:"Unable to connect to the news service. Please check if the backend is running."})]}),x&&A.jsxs("div",{className:"text-red-500 text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[A.jsx("p",{className:"font-medium",children:" Connection Error"}),A.jsx("p",{className:"text-sm mt-1",children:"Unable to connect to the news service. Please try again later."})]}),U.length>0&&A.jsxs("div",{className:`mt-8 p-6 rounded-3xl ${r?"bg-slate-800/30 border border-slate-700 text-white":"bg-white/90 border border-slate-200 text-slate-900 shadow"} transition-all duration-500 relative z-1`,children:[A.jsxs("div",{className:"flex items-center space-x-3 mb-6 relative z-1",children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-400":"bg-green-500"}`}),A.jsx("h2",{className:`text-lg font-bold transition-colors duration-500 relative z-1 ${r?"text-slate-200":"text-slate-800"}`,children:"ACTIVE TOPICS"}),A.jsx("div",{className:`flex-1 h-px ${r?"bg-slate-600":"bg-slate-300"}`})]}),A.jsx("div",{className:"space-y-3",children:U.map((be,D)=>A.jsx("div",{className:`p-4 rounded-2xl transition-all duration-300 hover:scale-[1.02] ${r?"bg-slate-800/30 border border-slate-700 text-white":"bg-white/90 border border-slate-200 text-slate-900 shadow"}`,children:m===D?A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-yellow-400":"bg-yellow-500"}`}),A.jsx("span",{className:`text-sm font-medium transition-colors duration-300 ${r?"text-yellow-300":"text-yellow-600"}`,children:"EDITING"})]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:X,disabled:!p||!b,className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed ${r?"bg-green-600/80 text-white hover:bg-green-500/80 disabled:bg-slate-600/50 disabled:text-slate-400":"bg-green-500 text-white hover:bg-green-400 disabled:bg-slate-200 disabled:text-slate-400"}`,children:"Save"}),A.jsx("button",{onClick:oe,className:`px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 ${r?"bg-slate-600/50 text-slate-300 hover:bg-slate-500/50":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:"Cancel"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:`block text-xs font-medium mb-1 transition-colors duration-300 ${r?"text-slate-400":"text-slate-600"}`,children:"TOPIC LABEL"}),A.jsx("input",{type:"text",value:p,onChange:re=>_(re.target.value),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 focus:outline-none focus:ring-2 ${r?"bg-slate-600/50 text-white border-slate-500/50 focus:border-yellow-500/50 focus:ring-yellow-500/20":"bg-white text-slate-900 border-slate-300 focus:border-yellow-500 focus:ring-yellow-500/20"}`})]}),A.jsxs("div",{children:[A.jsx("label",{className:`block text-xs font-medium mb-1 transition-colors duration-300 ${r?"text-slate-400":"text-slate-600"}`,children:"CATEGORY"}),A.jsx(ab,{options:[{value:"Technology",label:"Technology"},{value:"Finance",label:"Finance"},{value:"Sports",label:"Sports"},{value:"Politics",label:"Politics"},{value:"Science",label:"Science"},...u?[{value:"sportingcp",label:"Sporting CP",isMock:!0},{value:"technology",label:"Technology",isMock:!0},{value:"business",label:"Business",isMock:!0},{value:"politics",label:"Politics",isMock:!0},{value:"entertainment",label:"Entertainment",isMock:!0}]:[]],value:b,onChange:w,placeholder:"Select category",isDarkMode:r})]})]})]}):A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-blue-400":"bg-blue-500"}`}),A.jsx("span",{className:`font-semibold transition-colors duration-300 ${r?"text-white":"text-slate-900"}`,children:be.label})]}),A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 ${r?"text-slate-300 bg-slate-600/50":"text-slate-600 bg-slate-200"}`,children:be.topic}),A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("button",{onClick:()=>it(D),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${r?"text-blue-400 hover:bg-blue-600/20":"text-blue-600 hover:bg-blue-50"}`,title:"Edit topic",children:A.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),A.jsx("button",{onClick:()=>me(D),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${r?"text-red-400 hover:bg-red-600/20":"text-red-600 hover:bg-red-50"}`,title:"Delete topic",children:A.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},be.id))})]}),A.jsx(Lk,{topicsWithNews:_e,isDarkMode:r})]})})}const jk=()=>{const{isDarkMode:r,toggleDarkMode:e}=Vo(),{user:t}=fs(),[s,o]=j.useState(""),[u,h]=j.useState(""),[m,g]=j.useState(!1),[p,_]=j.useState(""),[b,w]=j.useState(null),[I,C]=j.useState(""),[U,V]=j.useState(""),[K,ee]=j.useState(""),[ie,de]=j.useState(!1);Mm.useEffect(()=>{t&&(async()=>{const P=un(tn,"users",t.uid),k=await Ao(P);k.exists()&&o(k.data().username||"")})()},[t]),Mm.useEffect(()=>{if(!u){w(null);return}let R=!0;w("checking");const P=setTimeout(async()=>{const k=un(tn,"usernames",u.toLowerCase()),B=await Ao(k);R&&w(B.exists()?"taken":"available")},500);return()=>{R=!1,clearTimeout(P)}},[u]),Mm.useEffect(()=>{h("")},[t]);const le=async()=>{if(!(!t||!u.trim())){if(b==="taken"){_("Username already taken.");return}g(!0),_("");try{s&&await Xw(un(tn,"usernames",s.toLowerCase())),await Eu(un(tn,"usernames",u.toLowerCase()),{uid:t.uid,email:t.email});const R=un(tn,"users",t.uid);await Bg(R,{username:u.trim()}),await yC(t,{displayName:u.trim()}),o(u.trim()),h(""),_("Username updated!")}catch{_("Error updating username")}finally{g(!1)}}},M=(R=>{const P=[];return R.length<6&&P.push("Password must be at least 6 characters long"),/[A-Z]/.test(R)||P.push("Password must contain at least one uppercase letter"),/[a-z]/.test(R)||P.push("Password must contain at least one lowercase letter"),/\d/.test(R)||P.push("Password must contain at least one number"),P})(I),x=t?.photoURL||"https://ui-avatars.com/api/?name="+(s?.[0]?.toUpperCase()||t?.email?.[0]?.toUpperCase()||"U");return A.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-8 transition-all duration-500 relative z-1 ${r?"bg-glass-gradient text-white":"bg-glass-gradient-light text-slate-900"}`,children:A.jsxs("div",{className:`card-glass${r?"":"-light"} w-full max-w-md md:max-w-xl lg:max-w-2xl`,children:[A.jsxs("div",{className:"flex flex-col items-center mb-8",children:[A.jsx("img",{src:x,alt:"avatar",className:"w-32 h-32 rounded-full border-4 border-blue-500 object-cover mb-4 shadow"}),A.jsx("h2",{className:r?"text-2xl font-bold mb-1":"text-2xl font-bold mb-1 text-slate-900",children:s}),A.jsx("p",{className:r?"text-slate-500 dark:text-slate-300 text-sm mb-2":"text-slate-600 text-sm mb-2",children:t?.email}),A.jsx("button",{className:"text-blue-600 hover:underline text-sm font-medium mb-4",children:"Upload New Photo"}),A.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700 my-4"}),A.jsxs("div",{className:"w-full flex flex-col items-center",children:[A.jsx("span",{className:r?"text-xs text-slate-400 mb-1":"text-xs text-slate-600 mb-1",children:"Last login"}),A.jsx("span",{className:r?"text-xs text-slate-500 dark:text-slate-300":"text-xs text-slate-600",children:"(placeholder date)"})]})]}),A.jsxs("section",{className:`mb-6 rounded-2xl border ${r?"bg-slate-800/30 border-slate-700":"bg-white/90 border-slate-200"} p-6`,children:[A.jsx("h3",{className:r?"text-lg font-bold mb-1":"text-lg font-bold mb-1 text-slate-900",children:"Theme"}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("p",{className:r?"text-slate-500 dark:text-slate-300 text-sm":"text-slate-600 text-sm",children:"Switch between light and dark mode."}),A.jsx("button",{onClick:e,"aria-label":"Toggle dark mode",className:`ml-4 p-2 rounded-full ${r?"bg-slate-800":"bg-slate-200"} transition-colors duration-200 focus:outline-none border border-slate-300`,children:r?A.jsx("span",{role:"img","aria-label":"Light mode",children:""}):A.jsx("span",{role:"img","aria-label":"Dark mode",children:""})})]})]}),A.jsxs("section",{className:"mb-8",children:[A.jsx("h3",{className:r?"text-lg font-bold mb-4":"text-lg font-bold mb-4 text-slate-900",children:"Username Settings"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"Current Username"}),A.jsx("input",{type:"text",value:s,disabled:!0,className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-slate-300 cursor-not-allowed":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-slate-100 text-slate-500 cursor-not-allowed"})]}),A.jsxs("div",{children:[A.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"New Username"}),A.jsx("input",{type:"text",value:u,onChange:R=>h(R.target.value),className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter new username"}),b==="checking"&&A.jsx("p",{className:"text-blue-500 text-sm mt-1",children:"Checking availability..."}),b==="available"&&A.jsx("p",{className:"text-green-500 text-sm mt-1",children:"Username available!"}),b==="taken"&&A.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Username already taken"})]}),A.jsx("button",{onClick:le,disabled:!u||b==="taken"||m,className:r?"btn-primary":"btn-primary-light",children:m?"Saving...":"Update Username"}),p&&A.jsx("div",{className:"text-xs mt-2 text-green-500",children:p})]})]}),A.jsxs("section",{children:[A.jsx("h3",{className:r?"text-lg font-bold mb-4":"text-lg font-bold mb-4 text-slate-900",children:"Password Settings"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"Current Password"}),A.jsx("input",{type:"password",value:U,onChange:R=>V(R.target.value),className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter current password"})]}),A.jsxs("div",{children:[A.jsx("label",{className:r?"block text-sm font-medium mb-2":"block text-sm font-medium mb-2 text-slate-700",children:"New Password"}),A.jsx("input",{type:"password",value:I,onChange:R=>C(R.target.value),className:r?"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500":"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter new password"}),M.length>0&&A.jsx("div",{className:"mt-2",children:M.map((R,P)=>A.jsxs("p",{className:"text-red-500 text-sm",children:[" ",R]},P))})]}),A.jsx("button",{className:r?"btn-primary mt-2":"btn-primary-light mt-2",onClick:async()=>{ee(""),de(!0);try{if(!t)throw new Error("User not found");if(M.length>0){ee("Password does not meet requirements."),de(!1);return}const R=ca.credential(t.email,U);await dC(t,R),await _C(t,I),ee("Password updated!"),V(""),C("")}catch(R){R.code==="auth/wrong-password"?ee("Current password is incorrect."):R.code==="auth/weak-password"?ee("Password should be at least 6 characters."):ee("Error updating password: "+R.message)}finally{de(!1)}},disabled:ie||!U||!I||M.length>0,children:ie?"Saving...":"Change Password"}),K&&A.jsx("div",{className:"text-xs mt-2 text-green-500",children:K})]})]})]})})},Bk=()=>{const{isDarkMode:r,toggleDarkMode:e}=Vo(),{user:t,signOutUser:s}=fs(),o=wu(),u=Ir(),[h,m]=j.useState(""),[g,p]=j.useState(!1);j.useEffect(()=>{if(t){const b=zg(un(tn,"users",t.uid),w=>{w.exists()&&m(w.data().username||"")},w=>{console.error("Error fetching username:",w)});return()=>b()}},[t]);const _=async()=>{await s(),o("/")};return A.jsxs("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b transition-all duration-300 ${r?"bg-slate-900/80 border-slate-700":"bg-white/80 border-slate-200"}`,children:[A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex justify-between items-center h-16",children:[A.jsx(Qi,{to:"/home",className:`text-xl font-bold transition-colors duration-200 ${r?"text-white":"text-slate-900"}`,children:"NEWS.AI"}),A.jsxs("nav",{className:"hidden md:flex space-x-8",children:[A.jsx(Qi,{to:"/home",className:`transition-colors duration-200 ${u.pathname==="/home"?r?"text-blue-400":"text-blue-600":r?"text-slate-300 hover:text-white":"text-slate-600 hover:text-slate-900"}`,children:"Home"}),A.jsx(Qi,{to:"/mytopics",className:`transition-colors duration-200 ${u.pathname==="/mytopics"?r?"text-blue-400":"text-blue-600":r?"text-slate-300 hover:text-white":"text-slate-600 hover:text-slate-900"}`,children:"My Topics"})]}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("button",{onClick:e,className:`p-2 rounded-lg transition-all duration-200 ${r?"hover:bg-slate-800 text-slate-300":"hover:bg-slate-100 text-slate-600"}`,"aria-label":"Toggle dark mode",children:r?A.jsx("span",{className:"text-lg",children:""}):A.jsx("span",{className:"text-lg",children:""})}),A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>p(!g),className:`flex items-center space-x-2 p-2 rounded-lg transition-all duration-200 ${r?"hover:bg-slate-800 text-slate-300":"hover:bg-slate-100 text-slate-600"}`,children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium",children:h?.[0]?.toUpperCase()||t?.email?.[0]?.toUpperCase()||"U"}),A.jsx("span",{className:"hidden sm:block font-medium",children:h||t?.email}),A.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${g?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&A.jsx("div",{className:`absolute right-0 mt-2 w-56 rounded-xl shadow-lg border transition-all duration-200 ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:A.jsxs("div",{className:"py-2",children:[A.jsxs(Qi,{to:"/profile",className:`flex items-center px-4 py-3 transition-colors duration-200 ${r?"text-slate-300 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>p(!1),children:[A.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile Settings"]}),A.jsxs("button",{onClick:_,className:`w-full flex items-center px-4 py-3 text-left transition-colors duration-200 ${r?"text-red-400 hover:bg-red-900/20":"text-red-600 hover:bg-red-50"}`,children:[A.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})})]})]})]})}),g&&A.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)})]})};function ob({children:r}){const{user:e,loading:t}=fs();return t?null:e?r:A.jsx(X1,{to:"/",replace:!0})}function rp({icon:r,label:e}){return A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mb-2",children:r}),A.jsx("span",{className:"text-xs opacity-80",children:e})]})}const zk=()=>{const{isDarkMode:r}=Vo();return A.jsxs("div",{className:`relative min-h-screen flex flex-col items-center justify-center px-4 py-12 transition-all duration-500 ${r?"bg-glass-gradient text-white":"bg-glass-gradient-light text-slate-900"}`,children:[A.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[A.jsx("div",{className:"absolute -top-32 -left-32 w-[600px] h-[600px] bg-blue-900 opacity-20 rounded-full blur-3xl"}),A.jsx("div",{className:"absolute bottom-0 right-0 w-[400px] h-[400px] bg-blue-500 opacity-10 rounded-full blur-2xl"})]}),A.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-center w-full max-w-6xl gap-12 md:gap-20",children:[A.jsxs("div",{className:"flex-1 flex flex-col items-center md:items-start text-center md:text-left space-y-8 md:space-y-10",children:[A.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold leading-tight drop-shadow-xl",children:["Stay Ahead with"," ",A.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:"NEWS.AI"})]}),A.jsx("p",{className:"text-lg md:text-2xl font-medium max-w-xl drop-shadow opacity-90",children:"Get personalized, real-time news from top sources. Rephrased by AI. Delivered beautifully."}),A.jsx(Qi,{to:"/mytopics",className:"inline-block bg-blue-500 text-white px-8 py-4 rounded-xl text-lg font-semibold shadow-lg hover:bg-blue-600 transition transform hover:scale-105",children:"Explore My News Feed"}),A.jsxs("div",{className:"flex space-x-8 pt-6 md:pt-10 justify-center md:justify-start",children:[A.jsx(rp,{icon:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v18h18"})}),label:"Analytics"}),A.jsx(rp,{icon:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 3v18M4 21V3m14 18V8m-7 13h7"})}),label:"Reports"}),A.jsx(rp,{icon:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),label:"Verified"})]})]}),A.jsx("div",{className:"flex-1 flex justify-center items-center w-full max-w-xl",children:A.jsx("img",{src:r?"/ai-news-dark.png":"/ai-news-light.png",alt:"AI Illustration",className:"max-w-md w-full drop-shadow-2xl rounded-3xl border-4 border-blue-900/20 bg-white/10 dark:bg-slate-800/30 transition-all duration-500",onError:e=>{e.currentTarget.src="/ai-news.png",e.currentTarget.onerror=()=>{e.currentTarget.src="https://placehold.co/600x400?text=AI+News"}}})})]})]})};function qk(){const{user:r}=fs(),e=Ir(),t=e.pathname==="/"||e.pathname==="/login"||e.pathname==="/signup";return A.jsxs(A.Fragment,{children:[!t&&r&&A.jsx(Bk,{}),A.jsxs(Z1,{children:[A.jsx(ao,{path:"/",element:A.jsx(ZD,{})}),A.jsx(ao,{path:"/signup",element:A.jsx(e4,{})}),A.jsx(ao,{path:"/home",element:A.jsx(zk,{})}),A.jsx(ao,{path:"/mytopics",element:A.jsx(ob,{children:A.jsx(Uk,{})})}),A.jsx(ao,{path:"/profile",element:A.jsx(ob,{children:A.jsx(jk,{})})})]})]})}const Hk=()=>A.jsx(XD,{children:A.jsx(bR,{basename:"/newsdotai",children:A.jsx(qk,{})})});o1.createRoot(document.getElementById("root")).render(A.jsx(j.StrictMode,{children:A.jsx(Hk,{})}));
